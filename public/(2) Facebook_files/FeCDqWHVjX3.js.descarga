;/*FB_PKG_DELIM*/

__d("ArrowRightFilled12.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("g",{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsxs("g",{fillRule:"nonzero",children:[i.jsx("path",{d:"M101.345 928.595a.75.75 0 0 0 1.06 1.06l3.125-3.125a.75.75 0 0 0 0-1.06l-3.125-3.125a.75.75 0 0 0-1.06 1.06l2.594 2.595-2.594 2.595z",transform:"translate(355 153.5)"}),i.jsx("path",{d:"M97 926.75h7.688a.75.75 0 1 0 0-1.5H97a.75.75 0 1 0 0 1.5z",transform:"translate(355 153.5)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("BellNullFilled12.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("g",{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsxs("g",{children:[i.jsx("path",{d:"M106.97 927.5c1.023 0 1.03-1 1.03-1 .011-1.229-1.33-1.98-1.33-2.92l-.038-.884c-.145-1.81-1.497-3.196-3.132-3.196s-2.987 1.386-3.132 3.197l-.039.884c0 .938-1.34 1.69-1.329 2.919 0 0 .007 1 1.03 1h6.94z",transform:"translate(352.5 155.5)"}),i.jsx("path",{fillRule:"nonzero",d:"M106.97 928c.64 0 1.097-.296 1.342-.77.14-.27.187-.53.188-.726.006-.618-.196-1.076-.663-1.737l-.356-.492-.057-.083-.067-.108c-.113-.185-.171-.328-.184-.452l-.042-.958c-.166-2.08-1.726-3.674-3.63-3.674-1.906 0-3.466 1.595-3.631 3.657l-.04.901c0 .138-.044.276-.142.45l-.084.14-.058.088-.286.395c-.536.737-.766 1.214-.76 1.874.002.195.048.455.188.725.245.474.702.77 1.342.77h6.94zm0-1h-6.94c-.255 0-.376-.079-.455-.23a.688.688 0 0 1-.075-.274c-.003-.356.132-.66.489-1.165l.296-.408.114-.166c.035-.052.067-.102.097-.151.193-.315.306-.605.329-.91l.043-.977c.124-1.546 1.272-2.719 2.632-2.719s2.508 1.173 2.633 2.736l.038.867c0 .327.116.649.333 1.003.045.074.094.149.151.232l.169.235.107.147c.418.574.573.895.57 1.276-.001.053-.022.169-.076.274-.079.151-.2.23-.455.23z",transform:"translate(352.5 155.5)"}),i.jsx("path",{d:"M101.95 929a.203.203 0 0 0-.137.352c.434.4 1.03.648 1.687.648s1.253-.247 1.688-.648a.203.203 0 0 0-.138-.352h-3.1zm2.55-10a1 1 0 1 1-2 0 1 1 0 0 1 2 0",transform:"translate(352.5 155.5)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("CamcorderFilled12.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("g",{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsx("path",{d:"M461.583 1076.078a.732.732 0 0 0-.774.073l-.612.466a.498.498 0 0 0-.197.398v4.97c0 .157.072.304.197.398l.612.466a.736.736 0 0 0 .774.073.749.749 0 0 0 .417-.677v-5.49a.75.75 0 0 0-.417-.677m-4.562-1.557h-5.043A1.98 1.98 0 0 0 450 1076.5v6.021a1.98 1.98 0 0 0 1.978 1.979h5.043a1.98 1.98 0 0 0 1.979-1.979v-6.021a1.98 1.98 0 0 0-1.978-1.979"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("ChevronUpFilled12.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("g",{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsx("path",{fillRule:"nonzero",d:"M458.97 1081.28a.75.75 0 0 0 1.06-1.06l-3.5-3.5a.75.75 0 0 0-1.06 0l-3.5 3.5a.75.75 0 1 0 1.06 1.06l2.97-2.97 2.97 2.97z"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("CometIXTFacebookProactiveWarningFlowTriggerRootQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="24905108805799276"}),null);
__d("CometIXTFacebookProactiveWarningFlowTriggerRootQuery$Parameters",["CometIXTFacebookProactiveWarningFlowTriggerRootQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometIXTFacebookProactiveWarningFlowTriggerRootQuery_facebookRelayOperation"),metadata:{},name:"CometIXTFacebookProactiveWarningFlowTriggerRootQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometIXTFacebookProactiveWarningFlowTriggerEntryPoint.entrypoint",["CometIXTFacebookProactiveWarningFlowTriggerRootQuery$Parameters","JSResourceForInteraction","WebPixelRatio","react","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h;h||c("react");a={getPreloadProps:function(a){return{queries:{reference:{parameters:c("CometIXTFacebookProactiveWarningFlowTriggerRootQuery$Parameters"),variables:{input:babelHelpers["extends"]({},a,{nt_context:null,trigger_session_id:c("uuidv4")()}),scale:d("WebPixelRatio").get()}}}}},root:c("JSResourceForInteraction")("CometIXTFacebookProactiveWarningFlowTriggerRoot.react").__setRef("CometIXTFacebookProactiveWarningFlowTriggerEntryPoint.entrypoint")};b=a;g["default"]=b}),98);
__d("ComponentMountUnmountSubspanLogger.react",["InteractionTracingMetrics","hero-tracing-placeholder","performanceNow","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=i||d("react");var j=b.useContext,k=b.useEffect;function a(a){var b=a.description,e=j(d("hero-tracing-placeholder").HeroInteractionIDContext);k(function(){var a=(h||(h=c("performanceNow")))();return function(){if(e!=null){var d=(h||(h=c("performanceNow")))();c("InteractionTracingMetrics").addSubspan(e,b,"AppTiming",a,d,{})}}},[b,e])}g["default"]=a}),98);
__d("FDSMembersSectionIcons.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("483769"),20);g["default"]=a}),98);
__d("GroupsCometChatEditChatDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6517941274957526"}),null);
__d("GroupsCometChatEditChatDialogQuery$Parameters",["GroupsCometChatEditChatDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("GroupsCometChatEditChatDialogQuery_facebookRelayOperation"),metadata:{},name:"GroupsCometChatEditChatDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("GroupsCometChatEditChatDialog.entrypoint",["GroupsCometChatEditChatDialogQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.threadID;return{queries:{queryReference:{options:{fetchPolicy:"network-only"},parameters:c("GroupsCometChatEditChatDialogQuery$Parameters"),variables:{threadID:a}}}}},root:c("JSResourceForInteraction")("GroupsCometChatEditChatDialog.react").__setRef("GroupsCometChatEditChatDialog.entrypoint")};g["default"]=a}),98);
__d("useIXTProactiveWarningFlowTriggerDialog",["cr:2998","cr:3116"],(function(a,b,c,d,e,f,g){"use strict";function a(a,c){return b("cr:3116")(b("cr:2998"),a,void 0,void 0,{baseModalProps:c})}g["default"]=a}),98);
__d("IXTProactiveWarningFollowUpActionsCell.react",["TetraButton.react","react","useIXTProactiveWarningFlowTriggerDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.context,d=a.label,e=a.onClose,f=a.onPress,g=a.setPWDismissTime;a=c("useIXTProactiveWarningFlowTriggerDialog")({proactive_warning_request_context:b,trigger_event_type:"OPEN_PROACTIVE_WARNING_FLOW"});var h=a[0],j=function(){e()};return i.jsx(c("TetraButton.react"),{label:d,onPress:function(){g(),f(),h({flowCallbacks:{onClose:j}})},reduceEmphasis:!1,type:"secondary"})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSClearReactionsV2DetailsAndRange",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(a){return b.sequence([function(a){return b.forEach(b.db.table(239).fetch(),function(a){return a["delete"]()})},function(a){return b.forEach(b.db.table(243).fetch(),function(a){return a["delete"]()})}])},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSClearReactionsV2DetailsAndRangeStoredProcedure",["LSClearReactionsV2DetailsAndRange","cr:8709"],(function(a,b,c,d,e,f,g){function a(a){return c("LSClearReactionsV2DetailsAndRange")(a)}g["default"]=a}),98);
__d("LSCommunityPublicGroupParticipationApprovalStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({CAN_PARTICIPATE:1,PARTICIPATION_REQUEST_REQUIRED:2,PARTICIPATION_REQUEST_PENDING:3});f["default"]=a}),66);
__d("getLSContactHref",["CurrentEnvironment","I64","LSContactBlockedByViewerStatus","LSContactTypeExact","LSIntEnum","MWLSContactTypeExactUtils","XCometVanityURLControllerRouteBuilder"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=a.blockedByViewerStatus,e=a.contactTypeExact,f=a.id;a=a.secondaryName;if((h||(h=d("I64"))).to_int32(b)===c("LSContactBlockedByViewerStatus").FULLY_BLOCKED)return;if((h||(h=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactTypeExact").MESSENGER_ONLY_NOT_ALLOWED_ON_FB)))return;b=d("MWLSContactTypeExactUtils").isIgContact(e);return a!=null&&b?"https://www.instagram.com/"+a:(c("CurrentEnvironment").facebookdotcom?"":"https://www.facebook.com")+c("XCometVanityURLControllerRouteBuilder").buildUri({vanity:(h||(h=d("I64"))).to_string(f)}).toString()}g["default"]=a}),98);
__d("LSContactLink.react",["CurrentEnvironment","MWLSContactTypeExactUtils","MWXLink.react","MWXPressable.react","getLSContactHref","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={shrinking:{flexShrink:"xs83m0k",$$css:!0}};function a(a){var b=a.children,e=a.contact,f=a.isText;f=f===void 0?!0:f;var g=a.label;a=a.testid;a=e.blockedByViewerStatus;var h=e.contactTypeExact,k=e.id;e=e.secondaryName;a=c("getLSContactHref")({blockedByViewerStatus:a,contactTypeExact:h,id:k,secondaryName:e});k=d("MWLSContactTypeExactUtils").isIgContact(h);e=!c("CurrentEnvironment").facebookdotcom||k?"_blank":void 0;return f?i.jsx(c("MWXLink.react"),{href:a,label:g,target:e,testid:void 0,children:b}):i.jsx(c("MWXPressable.react"),{expanding:!0,label:g,linkProps:{target:e,url:a},overlayRadius:"normal",testid:void 0,xstyle:j.shrinking,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSFetchAdditionalThreadData",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[1]=d[0].get("thread_key"),d[0],d[2]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),["fetch_additional_thread_data","_",c.i64.to_string(d[1])].join(""),c.i64.cast([0,733]),d[2],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSFetchAdditionalThreadDataStoredProcedure",["LSFetchAdditionalThreadData","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.threadKey;return c("LSFetchAdditionalThreadData").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSFetchProactiveWarningsIfNeeded",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([0,1]):(b=a.item,d[5]=b.syncGroup,c.i64.neq(d[5],void 0)?d[4]=d[5]:d[4]=c.i64.cast([0,1]),d[0]=d[4])})},function(e){return c.db.table(183).fetch([[[a[0]]]]).next().then(function(e,f){var g=e.done;e=e.value;return g?c.sequence([function(b){return c.db.table(183).put({threadKey:a[0],suspectId:a[0]})},function(e){return d[4]=new c.Map(),d[4].set("thread_key",a[0]),d[4].set("sync_group",d[0]),d[5]=c.toJSON(d[4]),c.storedProcedure(b("LSIssueNewTask"),"proactive_warnings_fetch_queue",c.i64.cast([0,192]),d[5],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return d[2]=c.i64.cast([0,1])}]):(f=e.item,c.sequence([function(e){return d[5]=f.nextCheckTimestampMs,d[4]=c.i64.of_float(Date.now()),c.i64.neq(d[5],void 0)&&c.i64.ge(d[4],d[5])?c.sequence([function(b){return c.db.table(183).put({threadKey:a[0],suspectId:a[0]})},function(e){return d[7]=new c.Map(),d[7].set("thread_key",a[0]),d[7].set("sync_group",d[0]),d[8]=c.toJSON(d[7]),c.storedProcedure(b("LSIssueNewTask"),"proactive_warnings_fetch_queue",c.i64.cast([0,192]),d[8],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return d[6]=c.i64.cast([0,1])}]):c.resolve((c.i64.neq(d[5],void 0)&&f.tag!==void 0?d[7]=c.i64.cast([0,2]):d[7]=c.i64.cast([0,3]),d[6]=d[7]))},function(a){return d[2]=d[6]}]))})}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSFetchProactiveWarningsIfNeededStoredProcedure",["LSFetchProactiveWarningsIfNeeded","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.threadKey;return c("LSFetchProactiveWarningsIfNeeded").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSIssuePointQueryForRollCallConversion",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("roll_call_id",a[1]),d[0].set("thread_key",a[0]),d[0].set("query_purpose",c.i64.cast([0,2])),d[1]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),"roll_call_point_query",c.i64.cast([0,611]),d[1],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSIssuePointQueryForRollCallConversionStoredProcedure",["LSIssuePointQueryForRollCallConversion","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.threadKey;d[1]=b.rollCallId;return c("LSIssuePointQueryForRollCallConversion").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSIssueReactionsV2DetailsUsersListFetch",["LSIssueNewTaskWithExtraOperations"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(b){return c.filter(c.db.table(243).fetch([[[a[0],a[1]]]]),function(b){return c.i64.eq(a[0],b.threadId)&&a[1]===b.messageId&&c.i64.eq(a[2],b.reactionFbid)}).next().then(function(b,d){var e=b.done;b=b.value;return e?c.db.table(243).add({threadId:a[0],messageId:a[1],reactionFbid:c.i64.cast([0,0]),minTimestampMs:c.i64.cast([2147483647,4294967295]),hasMoreAfter:!1,hasMoreBefore:!1,isLoadingAfter:!1,isLoadingBefore:!0,maxTimestampMs:c.i64.cast([2147483647,4294967295]),nextPageCursor:""}):(d=b.item,c.forEach(c.db.table(243).fetch([[[d.threadId,d.messageId,d.reactionFbid,d.minTimestampMs]]]),function(a){var b=a.update;a.item;return b({isLoadingBefore:!0})}))})},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[1]=c.i64.cast([0,1]):(b=a.item,d[6]=b.syncGroup,c.i64.neq(d[6],void 0)?d[5]=d[6]:d[5]=c.i64.cast([0,1]),d[1]=d[5])})},function(e){return d[3]=new c.Map(),d[3].set("thread_id",a[0]),d[3].set("message_id",a[1]),d[3].set("reaction_fbid",a[2]),d[3].set("cursor",a[3]),d[3].set("sync_group",d[1]),d[4]=c.toJSON(d[3]),c.storedProcedure(b("LSIssueNewTaskWithExtraOperations"),"fetch_reactions_v2_details_users_list",c.i64.cast([0,577]),d[4],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),void 0,c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSIssueReactionsV2DetailsUsersListFetchStoredProcedure",["LSIssueReactionsV2DetailsUsersListFetch","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.threadId;d[1]=b.messageId;d[2]=b.reactionFbid;d[3]=b.nextPageCursor;return c("LSIssueReactionsV2DetailsUsersListFetch").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSOnSendMessageFailure.nop",["Promise"],(function(a,b,c,d,e,f){"use strict";var g;function a(a,c,d,e){return(g||(g=b("Promise"))).resolve()}f["default"]=a}),66);
__d("LSMarkOptimisticMessageFailed",["LSOnSendMessageFailure.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[];return c.sequence([function(d){return c.sequence([function(d){return c.nativeOperation(b("LSOnSendMessageFailure.nop"),a[0],a[1])},function(b){return c.forEach(c.filter(c.db.table(12).fetch([[[a[0]]],"optimistic"]),function(b){return b.offlineThreadingId===a[0]&&c.i64.eq(b.authorityLevel,c.i64.cast([0,20]))}),function(a){var b=a.update;a.item;return b({sendStatus:c.i64.cast([0,4]),sendStatusV2:c.i64.cast([0,4])})})}])},function(a){return c.resolve(d)}])}e.exports=a}),null);
__d("LSMarkOptimisticMessageFailedStoredProcedure",["LSMarkOptimisticMessageFailed","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.optimisticMid;d[1]=b.errorMessage;return c("LSMarkOptimisticMessageFailed").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSMessageTakedownState",[],(function(a,b,c,d,e,f){a=Object.freeze({TAKEN_DOWN_BY_META:1,TAKEN_DOWN_BY_ADMIN:2,GEO_BLOCKED:3});f["default"]=a}),66);
__d("LSMuteCallsFromThread",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([0,1]):(b=a.item,d[6]=b.syncGroup,c.i64.neq(d[6],void 0)?d[5]=d[6]:d[5]=c.i64.cast([0,1]),d[0]=d[5])})},function(e){return d[2]=new c.Map(),d[2].set("thread_key",a[0]),d[2].set("mailbox_type",a[1]),d[2].set("mute_calls_expire_time_ms",a[2]),d[2].set("request_id",a[3]),d[2].set("sync_group",d[0]),d[3]=d[2].get("thread_key"),d[2],d[4]=c.toJSON(d[2]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[3]),c.i64.cast([0,229]),d[4],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSMuteCallsFromThreadStoredProcedure",["LSMuteCallsFromThread","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.threadKey;d[1]=b.mailboxType;d[2]=b.muteCallsExpireTimeMs;d[3]=b.requestId;return c("LSMuteCallsFromThread").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSNullstateCTAType",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,GET_STARTED:1,ICEBREAKER:2,PRIVACY_DISCLOSURE:3,MP_EMPTY_ICEBREAKER:4});f["default"]=a}),66);
__d("LSOptimisticEditMessage",["LSEditMessage","LSIssueNewTaskAndGetTaskID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.db.table(12).fetch([[[a[0]]],"messageId"]).next().then(function(e,f){var g=e.done;e=e.value;return g?0:(f=e.item,d[2]=f.editCount,d[1]=c.i64.of_float(Date.now()),c.i64.lt(d[2]==null?c.i64.cast([0,0]):d[2],c.i64.cast([0,5]))&&c.i64.le(d[1],c.i64.add(f.timestampMs,c.i64.cast([0,9e5])))?c.sequence([function(e){return c.storedProcedure(b("LSEditMessage"),f.messageId,c.i64.cast([0,20]),a[1],c.i64.add(d[2]==null?c.i64.cast([0,0]):d[2],c.i64.cast([0,1])))},function(e){return d[3]=new c.Map(),d[3].set("message_id",a[0]),d[3].set("text",a[1]),c.i64.gt(c.i64.cast([0,0]),c.i64.cast([0,0]))?(d[7]=c.i64.of_float(Date.now()),d[4]=c.i64.add(d[7],c.i64.cast([0,0]))):d[4]=c.i64.cast([0,0]),d[5]=c.toJSON(d[3]),c.storedProcedure(b("LSIssueNewTaskAndGetTaskID"),"edit_message",c.i64.cast([0,742]),d[5],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,d[4],c.i64.cast([0,0])).then(function(a){return a=a,d[6]=a[0],a})},function(a){return void 0!==void 0?(d[7]=c.i64.of_float(Date.now()),c.forEach(c.db.table(2).fetch([[[d[6]]]]),function(a){var b=a.update;a.item;return b({dataTraceId:void 0,initTraceTimestampMs:d[7]})})):c.resolve()}]):c.resolve(void 0!==void 0?0:0))})},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSOptimisticEditMessageStoredProcedure",["LSOptimisticEditMessage","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.messageId;d[1]=b.text;return c("LSOptimisticEditMessage").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSOptimisticMuteThread",["LSIssueNewTaskWithExtraOperationsAndGetTaskID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(b){return c.forEach(c.db.table(9).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({muteExpireTimeMs:a[2]})})},function(e){return c.storedProcedure(b("LSIssueNewTaskWithExtraOperationsAndGetTaskID"),c.i64.to_string(a[0]),c.i64.cast([0,144]),"",void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,1]),void 0,c.i64.cast([0,0]),void 0,c.i64.cast([0,0])).then(function(a){return a=a,d[0]=a[0],a})},function(b){return c.db.table(32).add({taskId:d[0],threadKey:a[0]})}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSOptimisticMuteThreadStoredProcedure",["LSOptimisticMuteThread","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.threadKey;d[1]=b.mailboxType;d[2]=b.muteExpireTimeMs;return c("LSOptimisticMuteThread").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("getOrRequestMWChatPresenceStatusForContactId",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MessengerMQTTPresence").__setRef("getOrRequestMWChatPresenceStatusForContactId");function a(a,b){var c=a.getStatus(b);a=a.getChatVisibility();if(c!=null||!a)return c;h.onReady(function(a){return a.sendAdditionalBuddyRequest(b)})}g["default"]=a}),98);
__d("useMWChatHasActiveContact",["I64","PresenceStatusContext","getOrRequestMWChatPresenceStatusForContactId","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=h||d("react");var j=b.useContext,k=b.useMemo;function a(a){var b=j(c("PresenceStatusContext")),e=k(function(){return a.map((i||(i=d("I64"))).to_string)},[a]);return e.some(function(a){a=c("getOrRequestMWChatPresenceStatusForContactId")(b,a);if(a==null)return!1;a=a.status;return a===2})}g.useMWChatHasActiveContact=a}),98);
__d("useMWChatPresenceStatus",["I64","PresenceStatusContext","getOrRequestMWChatPresenceStatusForContactId","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=h||d("react");var j=b.useContext,k=b.useEffect,l=b.useState;function a(a){var b=j(c("PresenceStatusContext")),e=(i||(i=d("I64"))).to_string(a);a=l(c("getOrRequestMWChatPresenceStatusForContactId")(b,e));var f=a[0],g=a[1];k(function(){return b.addListener(function(){return g(function(){return c("getOrRequestMWChatPresenceStatusForContactId")(b,e)})})},[b,e]);return f}g["default"]=a}),98);
__d("LSPresenceStatusText.react",["fbt","CometRelativeTimestamp.react","I64","LSContactTypeExact","LSIntEnum","MessengerMSplitFlag","ReQL","ReQLSuspense","isArmadillo","react","useMWChatHasActiveContact","useMWChatPresenceStatus","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=l||d("react"),n=h._("__JHASH__KJ9BpmLEozf__JHASH__"),o=function(){return null},p=function(a){return a};function q(a){var b=a.contactId,e=a.renderNullState;a=a.renderWrapper;var g=c("useMWChatPresenceStatus")(b),l=(i||(i=c("useReStore")))(),o=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(l.table("contacts"),["contactTypeExact"]).getKeyRange(b).map(function(a){return a.contactTypeExact})},[l,b],f.id+":50");o=o!=null&&(j||(j=d("I64"))).equal(o,(k||(k=d("LSIntEnum"))).ofNumber(c("LSContactTypeExact").MESSENGER_ONLY_NOT_ALLOWED_ON_FB));if(c("MessengerMSplitFlag").is_msplit_account||o)return e();o=(g==null?void 0:g.status)===2;g=(g==null?void 0:g.last_active_time)!=null&&g.last_active_time!==0?g.last_active_time*1e3:void 0;if(o)return a(n);return g!=null?a(h._("__JHASH___H_8HkZmS8j__JHASH__",[h._param("time",m.jsx(c("CometRelativeTimestamp.react"),{date:new Date(g),format:"minimized"}))])):e()}q.displayName=q.name+" [from "+f.id+"]";function r(a){var b=a.participantsContactIds,c=a.renderNullState;a=a.renderWrapper;if(b.length!==1)return c();b=b[0];return m.jsx(q,{contactId:b,renderNullState:c,renderWrapper:a})}r.displayName=r.name+" [from "+f.id+"]";function s(a){var b=a.participantsContactIds,c=a.renderNullState;a=a.renderWrapper;b=d("useMWChatHasActiveContact").useMWChatHasActiveContact(b);if(b)return a(n);else return c()}s.displayName=s.name+" [from "+f.id+"]";function a(a){var b=a.participantsContactIds,e=a.renderNullState;e=e===void 0?o:e;var f=a.renderWrapper;f=f===void 0?p:f;a=a.threadType;if((j||(j=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(1))||(j||(j=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(15))&&c("isArmadillo")())return m.jsx(r,{participantsContactIds:b,renderNullState:e,renderWrapper:f});else if((j||(j=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(2))||(j||(j=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(16))&&c("isArmadillo")())return m.jsx(s,{participantsContactIds:b,renderNullState:e,renderWrapper:f});return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSReQLPresenceStatusText.react",["I64","LSPresenceStatusText.react","MWPActor.react","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react");function l(a){var b=(h||(h=c("useReStore")))(),e=d("MWPActor.react").useActor(),g=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(b.table("participants"),["contactId"]).getKeyRange(a).filter(function(a){a=a.contactId;return!(i||(i=d("I64"))).equal(a,e)}).map(function(a){a=a.contactId;return a})},[e,b,a],f.id+":28");return g}var m=function(){return null},n=function(a){return a};function a(a){var b=a.renderNullState;b=b===void 0?m:b;var d=a.renderWrapper;d=d===void 0?n:d;var e=a.threadKey;a=a.threadType;e=l(e);return k.jsx(c("LSPresenceStatusText.react"),{participantsContactIds:e,renderNullState:b,renderWrapper:d,threadType:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSSetLoadingAfterOnMessageRanges",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.sortBy(b.db.table(13).fetch([[[a[0]]]]),[["maxTimestampMs","DESC"]]).next().then(function(a,c){var d=a.done;a=a.value;return d?0:(c=a.item,b.forEach(b.filter(b.db.table(13).fetch([[[c.threadKey,c.minTimestampMs,c.minMessageId]]]),function(a){return b.i64.eq(a.threadKey,c.threadKey)&&b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))&&b.i64.eq(a.minTimestampMs,c.minTimestampMs)&&a.minMessageId===c.minMessageId}),function(a){var b=a.update;a.item;return b({isLoadingAfter:!0})}))})},function(a){return b.resolve(c)}])}e.exports=a}),null);
__d("LSReportThreadViewOpen",["LSIssueNewTaskWithExtraOperations","LSSetLoadingAfterOnMessageRanges"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var c=a.done;a=a.value;return c?(c=[void 0,void 0],d[0]=c[0],d[1]=c[1],c):(b=a.item,c=[b.syncGroup,b.threadType],d[0]=c[0],d[1]=c[1],c)})},function(a){return c.i64.neq(d[0],void 0)?c.sequence([function(a){return c.db.table(1).fetch([[[d[0]]]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[12]=void 0:(b=a.item,d[12]=b.syncParams)})},function(a){return d[3]=d[12]}]):c.resolve(d[3]=void 0)},function(b){return c.db.table(294).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?(e=[!1,c.i64.cast([0,0]),void 0],d[4]=e[0],d[5]=e[1],d[6]=e[2],e):(b=a.item,e=[b.isStale,b.threadQueueSequenceId,b.lastSelectiveSyncTimestampMs],d[4]=e[0],d[5]=e[1],d[6]=e[2],e)})},function(a){return d[4]?d[8]=!0:d[8]=!1,c.i64.neq(d[6],void 0)?(c.i64.eq(d[1],c.i64.cast([0,152]))?d[12]=c.i64.cast([0,0]):d[12]=c.i64.cast([0,0]),d[13]=c.i64.of_float(Date.now()),c.resolve()):c.resolve()},function(e){return d[9]=new c.Map(),d[9].set("thread_key",a[0]),d[9].set("is_stale",d[8]),d[9].set("client_seq_id",d[5]),d[9].set("sync_params_encoded",d[3]),d[9].set("client_last_sync_timestamp_ms",d[6]),d[9].set("sync_group",d[0]),d[10]=d[9].get("thread_key"),d[9],d[11]=c.toJSON(d[9]),c.storedProcedure(b("LSIssueNewTaskWithExtraOperations"),["report_thread_view_open","_",c.i64.to_string(d[10])].join(""),c.i64.cast([0,605]),d[11],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),void 0,c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSReportThreadViewOpenStoredProcedure",["LSReportThreadViewOpen","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.threadKey;return c("LSReportThreadViewOpen").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSSendTypingIndicator",["LSIssueNewFireAndForgetTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(b){return d[2]=["typing","_",c.i64.to_string(a[0])].join(""),c.forEach(c.filter(c.db.table(5).fetch(),function(a){return d[2]===a.queueName}),function(a){return a["delete"]()})},function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[0].set("is_group_thread",a[1]),d[0].set("is_typing",a[2]),d[0].set("attribution",c.i64.cast([0,0])),d[1]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewFireAndForgetTask"),d[2],c.i64.cast([0,3]),d[1])}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSSendTypingIndicatorStoredProcedure",["LSSendTypingIndicator","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.threadKey;d[1]=b.isGroupThread;d[2]=b.isTyping;return c("LSSendTypingIndicator").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LSSetProactiveWarningDismissTime",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([0,1]):(b=a.item,d[8]=b.syncGroup,c.i64.neq(d[8],void 0)?d[7]=d[8]:d[7]=c.i64.cast([0,1]),d[0]=d[7])})},function(e){return d[2]=c.i64.of_float(Date.now()),d[6]=c.i64.div(d[2],c.i64.cast([0,1e3])),d[3]=new c.Map(),d[3].set("thread_key",a[0]),d[3].set("timestamp",d[6]),d[3].set("sync_group",d[0]),d[4]=d[3].get("thread_key"),d[3],d[5]=c.toJSON(d[3]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[4]),c.i64.cast([0,438]),d[5],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(b){return c.forEach(c.db.table(9).fetch([[[a[0]]]]),function(a){var b=a.update;a.item;return b({proactiveWarningDismissTime:d[6]})})}])},function(a){return c.resolve(e)}])}e.exports=a}),null);
__d("LSSetProactiveWarningDismissTimeStoredProcedure",["LSSetProactiveWarningDismissTime","cr:8709"],(function(a,b,c,d,e,f,g){function a(a,b){var d=[];d[0]=b.threadKey;return c("LSSetProactiveWarningDismissTime").apply(void 0,d.concat([a]))}g["default"]=a}),98);
__d("LsFrxMessengerFeedbackProactiveWarningBannerPrimaryActionTappedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2898");b=d("FalcoLoggerInternal").create("ls_frx_messenger_feedback_proactive_warning_banner_primary_action_tapped",a);e=b;g["default"]=e}),98);
__d("LsFrxMessengerFeedbackProactiveWarningBannerSecondaryActionTappedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2899");b=d("FalcoLoggerInternal").create("ls_frx_messenger_feedback_proactive_warning_banner_secondary_action_tapped",a);e=b;g["default"]=e}),98);
__d("LsFrxMessengerFeedbackProactiveWarningBannerShownFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2900");b=d("FalcoLoggerInternal").create("ls_frx_messenger_feedback_proactive_warning_banner_shown",a);e=b;g["default"]=e}),98);
__d("LsReplyRenderedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743878");b=d("FalcoLoggerInternal").create("ls_reply_rendered",a);e=b;g["default"]=e}),98);
__d("MAWCreateGroupThread",["fbt","I64","LSFactory","LSIssueNewErrorStoredProcedure","MAWBridgeSendAndReceive","MAWJobDefinitions","MAWTimedJob","WAJobOrchestratorTypes","asyncToGeneratorRuntime","promiseDone","unrecoverableViolation"],(function(a,b,c,d,e,f,g,h){"use strict";var i;function j(a){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.db,e=a.deduplicationKey,f=a.isDualSend;f=f===void 0?!1:f;var g=a.offlineThreadingId,j=a.participantIds;a=a.threadName;g=g!=null?(i||(i=d("I64"))).to_string(g):void 0;var k="msgr";e=(yield d("MAWTimedJob").TimedUIJobStarters.waitUntilCompleted(d("MAWJobDefinitions").createStartJobInfo("createGroup",{extras:{clientThreadKey:g,deduplicationKey:e,isDualSend:f,platform:k},key:g,scheduleConfig:{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION},subject:a,uniqKey:g,users:j})));a=e.error;g=e.value;if(a==null&&g!=null&&g.type===k){j=(yield d("MAWBridgeSendAndReceive").sendAndReceive("backend","getThreadIdByChatJid",{chatJid:g.chatJid}));if(j==null)throw c("unrecoverableViolation")("Group was not found in database","messenger_e2ee_web");else return{chatId:j,created:!0,jid:g.chatJid}}if(!f){var l=h._("__JHASH__Q8EKHlLB3en__JHASH__").toString();c("promiseDone")(b.runInTransaction(function(a){return c("LSIssueNewErrorStoredProcedure")(c("LSFactory")(a),{errorBodyText:l,errorTitleText:l})},"readwrite"))}throw c("unrecoverableViolation")("Unable to create group","messenger_e2ee_web")});return k.apply(this,arguments)}function a(a){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=a.deduplicationKey;if(b==null)return j(a);b=(yield d("MAWBridgeSendAndReceive").sendAndReceive("backend","getThreadIdByDeduplicationKey",{deduplicationKey:b}));return b!=null?{chatId:b.chatId,created:!1,jid:b.jid}:j(a)});return l.apply(this,arguments)}g["default"]=a}),98);
__d("MAWCreateOptimisticSecureMessage",["I64","LSIntEnum","LSReplyMessageAttachmentType","LSReplyMessageStatus","MAWDbMsg","MAWMsgReplySnippet","MessagingAttachmentType","OfflineThreadingId","QPLUserFlow","ReQL","asyncToGeneratorRuntime","gkx","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b,c,d){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f){if(e==null)return[void 0,void 0];var g=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.messages).getKeyRange(b,e.timestampMs,e.messageId)));c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"get_reply_msg_end",{instanceKey:f});a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.attachments).getKeyRange(b,e.messageId)));c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"get_reply_attachment_end",{instanceKey:f});return[g,a]});return j.apply(this,arguments)}function e(a,b,c){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){if(c("gkx")("23989"))return d("OfflineThreadingId").createOfflineThreadingID();a=(yield d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.messages).getKeyRange(b)));c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"get_offline_threading_id_end",{instanceKey:e});if(a==null)return d("OfflineThreadingId").createOfflineThreadingID();b=d("MAWDbMsg").toMsgId(a.messageId);return b==null?d("OfflineThreadingId").createOfflineThreadingID():d("MAWDbMsg").getNextOptimisticId(b)});return k.apply(this,arguments)}function l(a,b){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.contacts).getKeyRange(b)));return a==null?void 0:a.firstName});return m.apply(this,arguments)}function f(a,b,c){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){if(b==null)return;a=(yield l(a,b.senderId));return(a=d("MAWMsgReplySnippet").buildLocalizedReplySnippet({isAuthorMe:!0,isDeletedMsg:b.replyStatus===c("LSReplyMessageStatus").DELETED,recipientName:a,replySenderIsMe:(h||(h=d("I64"))).equal(b.senderId,e)}))==null?void 0:a.toString()});return n.apply(this,arguments)}function o(a){if(a==null)return;var b=a.attachmentType;return(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE))||(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").STICKER))?a.previewUrl:void 0}function p(a){if(a!=null){if((h||(h=d("I64"))).equal(a==null?void 0:a.attachmentType,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE)))return(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").PHOTO);if((h||(h=d("I64"))).equal(a==null?void 0:a.attachmentType,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").STICKER)))return(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").STICKER);if((h||(h=d("I64"))).equal(a==null?void 0:a.attachmentType,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO)))return(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").VIDEO);return(h||(h=d("I64"))).equal(a==null?void 0:a.attachmentType,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE))?(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").GIF):(i||(i=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").OTHER)}}g.getReply=a;g.getOfflineThreadingId=e;g.getOptimisticReplySnippet=f;g.getReplyMediaUrl=o;g.getReplyAttachmentType=p}),98);
__d("MAWLoadingStateOutstandingUIReadyOfflineQueueSelector",["MAWSharedProtocolQueueConst"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){return function(b){var c=b.offlineQueueCount,e=b.offlineQueueSyncState;b=b.offlineQueueThreadStatus;return a!=null&&Object.keys(b).length>0?b[a]!=null&&b[a].chatStatus!==d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Complete:c>0&&e!==d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Complete}};g.outstandingUIReadyOfflineQueueSelector=a}),98);
__d("MAWMiActMaybeCreateActThread",["FBLogger","I64","LSAuthorityLevel","LSFactory","LSIntEnum","LSMessagingThreadTypeUtil","LSVerifyE2EEMetadataThreadExistsV2StoredProcedure","MAWCreateGroupThread","MAWCreateOneToOneThreadWrapper","MAWMiActCreateThreadInActWithMiData","MAWMiActGetThreadLifecycleState","MAWMiActThreadLifecycleState","asyncToGeneratorRuntime","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a,b){return a.runInTransaction(function(a){return c("LSVerifyE2EEMetadataThreadExistsV2StoredProcedure")(c("LSFactory")(a),{authorityLevel:(h||(h=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE),threadKey:b,threadType:h.ofNumber(15)}).then(function(){})},"readwrite")}function k(a,b,e){if(e==null)throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("[MiActMapping] Could not create optimistic thread because data was null\n      for threadKey: %s",(i||(i=d("I64"))).to_string(b.threadKey));var f=e.actorId;e=e.participantIds;var g=e.filter(function(a){return a!==(i||(i=d("I64"))).to_string(f)});if(d("LSMessagingThreadTypeUtil").isOneToOne(b.threadType)&&(g.length===1||c("gkx")("23988"))){var j=g.length===1?g:e;return d("MAWCreateOneToOneThreadWrapper").call(a,(i||(i=d("I64"))).of_string(j[0]),i.to_string(b.threadKey),"maybeCreateActThread")}else if(d("LSMessagingThreadTypeUtil").isGroup(b.threadType)&&g.length>1)return c("MAWCreateGroupThread")({db:a,offlineThreadingId:b.threadKey,participantIds:e});throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("[MiActMapping] Did not know which type of optimistic thread to create for\n    threadKey: %s, participantsCount: %s, threadType: %s",(i||(i=d("I64"))).to_string(b.threadKey),e.length,(h||(h=d("LSIntEnum"))).toNumber(b.threadType))}function l(a){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){a=(yield d("MAWMiActCreateThreadInActWithMiData").miActCreateThreadInActWithMiData(a.serverThreadKey,a.jidInt64,a.thread.lastActivityTimestampMs,a.thread.lastReadWatermarkTimestampMs,d("LSMessagingThreadTypeUtil").isGroup(a.thread.threadType)));return{chatId:a.chatId,created:a.isCreated,jid:a.chatJid}});return m.apply(this,arguments)}var n=new Map();function a(a,b,c){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e){var f=(yield d("MAWMiActGetThreadLifecycleState").getThreadLifecycleStateByThreadKey(a.tables,b,"maybeCreateActThread"));switch(f.type){case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.ACT_THREAD_ONLY:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.THREAD_KEY_ONLY:yield j(a,b);throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("[MiActMapping] We did not call MiActLoadExistingThread for threadKey: %s, threadState: %s",(i||(i=d("I64"))).to_string(b),f.type);case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.AUTHORITATIVE_THREAD_MISSING_MAPPING_ROW:throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("[MiActMapping] MI inserted the thread but the mapping row was not\n        written or it was deleted for threadKey: %s",(i||(i=d("I64"))).to_string(b));case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.OPTIMISTIC_THREAD_NO_ACT:var g=(i||(i=d("I64"))).to_string(b),h=n.get(g);if(h!=null)return h;h=k(a,f.thread,e);n.set(g,h);return h;case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.CLIENT_PARTIAL_MI_THREAD_WITH_ACT:yield j(a,b);return{chatId:f.chatId,created:!1,jid:f.jid};case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.OPTIMISTIC_THREAD_WITH_ACT:return{chatId:f.chatId,created:!1,jid:f.jid};case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.AUTHORITATIVE_THREAD_ONLY:return l(f);case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.MI_AND_ACT_THREAD_COMPLETE:return{chatId:f.chatId,created:!1,jid:f.jid};case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.ACT_THREAD_ONLY_BY_CHAT_ID:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.ACT_THREAD_ONLY_BY_JID:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.CLIENT_PARTIAL_MI_THREAD:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.SERVER_PARTIAL_MI_THREAD:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.JID_MISSING_MI_THREAD:case d("MAWMiActThreadLifecycleState").MiActThreadStatesEnum.JID_MISSING_MAPPING_ROW:throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("[MiActMapping] Unhandled ACT thread creation state %s for threadKey:\n        %s",f.type,(i||(i=d("I64"))).to_string(b));default:f.type;throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("[MiActMapping] Unreachable miActThreadState.type: %s",f.type)}});return o.apply(this,arguments)}g["default"]=a}),98);
__d("MAWSecureTypingState",["I64","Int64Hooks","LSAuthorityLevel","LSContactBlockedByViewerStatus","LSIntEnum","LSMessagingThreadTypeUtil","MAWBridgeFireAndForget","MAWJids","MAWMiActOnActThreadReady","MWPActor.react","MessengerWebUXLogger","Promise","ReQL","WAChatState","asyncToGeneratorRuntime","gkx","promiseDone","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;function l(a,b,c,d){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g){if(!(j||(j=d("I64"))).equal(f,(k||(k=d("LSIntEnum"))).ofNumber(15)))return(i||(i=b("Promise"))).resolve(!0);f=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.participants,["contactId"]).getKeyRange(e).filter(function(a){return!(j||(j=d("I64"))).equal(a.contactId,g)})));if(f==null)return!1;e=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.contacts).getKeyRange(f.contactId)));return e==null?!1:(j||(j=d("I64"))).equal(e.blockedByViewerStatus,(k||(k=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED))});return m.apply(this,arguments)}var n=[];function a(a,e,f){var g=(h||(h=c("useReStore")))(),m=d("MWPActor.react").useActor(),o=(j||(j=d("I64"))).to_string(e),p=c("MessengerWebUXLogger").useInteractionLogger();return d("Int64Hooks").useCallbackInt64(function(h){(j||(j=d("I64"))).ge(a,(k||(k=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))&&d("LSMessagingThreadTypeUtil").isSecure(f)&&(c("gkx")("24137")&&d("LSMessagingThreadTypeUtil").isGroup(f)&&!n.includes(o)&&c("promiseDone")(d("MAWMiActOnActThreadReady").onActThreadReady(g.tables,e,"MAWSecureTypingState",function(a,c,e){d("MAWBridgeFireAndForget").fireAndForget("backend","preEstablishSession",{groupJid:d("MAWJids").toGroupJid(e)});n.push(o);return(i||(i=b("Promise"))).resolve()})),c("promiseDone")(l(g,e,f,m).then(function(a){return!a?(i||(i=b("Promise"))).resolve():d("MAWMiActOnActThreadReady").onActThreadReady(g.tables,e,"MAWSecureTypingState",function(a,c,g){p==null?void 0:p({eventName:"send_typing_indicators",threadKey:e,threadType:f});d("MAWBridgeFireAndForget").fireAndForget("backend","sendChatStateFromComposer",{state:h?d("WAChatState").TYPING:d("WAChatState").IDLE,threadId:c});return(i||(i=b("Promise"))).resolve()})})))},[g,a,e,f,m,o,p])}g.useOnTypingStateChanged=a}),98);
__d("MAWSendSecureAttachment",["I64","MAWBridgeSendAndReceive","MAWDbMsg","MAWExternalId","MAWJobDefinitions","MAWUIJob","MAWUIThreadCache","QPLUserFlow","WAJobOrchestratorTypes","asyncToGeneratorRuntime","qpl","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("requireDeferred")("MWLogSend").__setRef("MAWSendSecureAttachment");function a(a,b,c,d,e,f,g,h,i,k,l,m){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g,j,k,l,m,n,o,p){a=(yield d("MAWUIThreadCache").getThreadJidByChatId({threadId:a}));if(a==null){c("QPLUserFlow").endFailure(c("qpl")._(25313175,"1551"),"no_chat_jid",{instanceKey:n});return}var q=null;if(l!=null){l=d("MAWDbMsg").toMsgId(l.messageId);l!=null&&(q=(yield d("MAWBridgeSendAndReceive").sendAndReceive("backend","getProtocolMsgIdByMsgId",{msgId:l})))}c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"sending_media_to_wajob",{instanceKey:n});switch(g.type){case"image":var r;l=g.imageSpec;var s=g.thumbnailUrlAndSpec;yield d("MAWUIJob").UIJobStarters.waitUntilCompleted(d("MAWJobDefinitions").createStartJobInfo("sendMediaMsg",{args:{ephemeralSetting:(r=o)!=null?r:void 0,height:l.height,initiatingSource:p,isFirstMsg:m,isForwarded:!1,jpegThumbnail:s.jpegThumbnail,jpegThumbnailHeight:s.height,jpegThumbnailWidth:s.width,offlineAttachmentId:j,quote:(r=q)!=null?r:void 0,s2sInstanceKey:n,source:k,width:l.width},chatJid:a,externalId:d("MAWExternalId").generateExternalId(),file:g.file,scheduleConfig:{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION}}));break;case"video":s=g.thumbnailUrlAndSpec;yield d("MAWUIJob").UIJobStarters.waitUntilCompleted(d("MAWJobDefinitions").createStartJobInfo("sendMediaMsg",{args:{duration:s.duration,ephemeralSetting:(r=o)!=null?r:void 0,height:s.height,initiatingSource:p,isFirstMsg:m,isForwarded:!1,jpegThumbnail:s.jpegThumbnail,jpegThumbnailHeight:s.height,jpegThumbnailWidth:s.width,offlineAttachmentId:j,quote:(l=q)!=null?l:void 0,s2sInstanceKey:n,source:k,width:s.width},chatJid:a,externalId:d("MAWExternalId").generateExternalId(),file:g.file,scheduleConfig:{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION}}));break;case"audio":r=g.durations;l=g.isPtt;yield d("MAWUIJob").UIJobStarters.waitUntilCompleted(d("MAWJobDefinitions").createStartJobInfo("sendMediaMsg",{args:{duration:Math.round(r),ephemeralSetting:(s=o)!=null?s:void 0,initiatingSource:p,isFirstMsg:m,isForwarded:!1,isPtt:l,offlineAttachmentId:j,quote:(r=q)!=null?r:void 0,s2sInstanceKey:n,source:k},chatJid:a,externalId:d("MAWExternalId").generateExternalId(),file:g.file,scheduleConfig:{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION}}));break;case"document":s=g.filename;yield d("MAWUIJob").UIJobStarters.waitUntilCompleted(d("MAWJobDefinitions").createStartJobInfo("sendMediaMsg",{args:{ephemeralSetting:(l=o)!=null?l:void 0,filename:s,initiatingSource:p,isFirstMsg:m,isForwarded:!1,offlineAttachmentId:j,quote:(r=q)!=null?r:void 0,s2sInstanceKey:n,source:k},chatJid:a,externalId:d("MAWExternalId").generateExternalId(),file:g.file,scheduleConfig:{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION}}));break;default:c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"uknown_file_type_sendMediaMsg_not_fired",{instanceKey:n})}var t;switch(g.type){case"image":t=8;break;case"video":t=10;break;case"audio":t=11;break;case"document":t=34;break}i.onReady(function(a){var c=(h||(h=d("I64"))).to_string(b);return a.log({actor:f,attachmentFbids:[],attachmentType:t,backend:1,hasReply:!1,messagingThreadId:c,offlineThreadingId:j,sendType:0,source:k,threadKey:b,threadType:e})});return a});return j.apply(this,arguments)}g.sendSecureAttachment=a}),98);
__d("MAWSendFileMsgIfNecessary",["FBLogger","MAWImagePreProcess","MAWSendSecureAttachment","Promise","asyncToGeneratorRuntime","sendToSentQPLLogger"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=a.actorId,f=a.attachmentOfflineId,g=a.attachments,i=a.ephemeralSetting,j=a.externalAttachmentUrl,k=a.initiatingSource,l=a.isFirstMsg,m=a.reply,n=a.s2sInstanceKey,o=a.source,p=a.stickerId,q=a.thread,r=a.threadId;a=a.voiceClip;var s=[];if(a!=null){a={durations:a.duration||0,file:a.file,isPtt:!0,type:"audio"};s.push([a,f])}if(j!=null){a=(yield window.fetch(j,{cache:"no-cache"}).then(function(a){return a.blob()})["catch"](function(a){d("sendToSentQPLLogger").markSendToSentPoint(n,"fetch_external_attachment_failed");throw a}));j=p!=null;p=(yield d("MAWImagePreProcess").imagePreprocess(new File([a],"stickerFromPicker",{type:a.type}),j));s.push([p,f])}s=s.concat(g);d("sendToSentQPLLogger").markSendToSentPoint(n,"prepare_attachment_promises");a=s.map(function(a){var b=a[0];a=a[1];return d("MAWSendSecureAttachment").sendSecureAttachment(r,q.threadKey,q.threadType,e,b,a,o,m,l,n,i,k)});yield (h||(h=b("Promise"))).all(a)["catch"](function(a){d("sendToSentQPLLogger").markSendToSentPoint(n,"send_attachment_promise_failed"),d("sendToSentQPLLogger").markSendToSentFail(n,a),a instanceof Error?c("FBLogger")("messenger_e2ee_web").catching(a).addMetadata("MESSENGER_E2EE_WEB","ERROR_MESSAGE","failed while sending attachment promise").mustfix("Failed while sending message"):c("FBLogger")("messenger_e2ee_web").addMetadata("MESSENGER_E2EE_WEB","ERROR_MESSAGE","failed while sending attachment promise").mustfix("Failed while sending attachment, %s",a.message)})});return i.apply(this,arguments)}g.sendFileMsgIfNecessary=a}),98);
__d("MAWSendSecureMessageV2Utils",["I64","LSDatabaseSingleton","MAWMiActMaybeCreateActThread","MWPActor.react","ReQL","StickerConstants","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(){var a=d("MWPActor.react").useActor();return function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var e=(yield (h||(h=d("LSDatabaseSingleton"))).LSDatabaseSingleton),f=(yield d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(e.tables.participants,["contactId"]).getKeyRange(b).map(function(a){return(i||(i=d("I64"))).to_string(a.contactId)})));return c("MAWMiActMaybeCreateActThread")(e,b,{actorId:a,participantIds:f})});return function(a){return e.apply(this,arguments)}}()}function e(a){return a===c("StickerConstants").LIKE_STICKER_ID||a===c("StickerConstants").HOT_LIKE_SMALL_STICKER_ID||a===c("StickerConstants").HOT_LIKE_MEDIUM_STICKER_ID||a===c("StickerConstants").HOT_LIKE_LARGE_STICKER_ID}g.useMaybeCreateThreadForMAWSendSecurMessageV2=a;g.isLikeStickerId=e}),98);
__d("MAWSupportedFileTypes",[],(function(a,b,c,d,e,f){"use strict";a=["*/*"];f.supportedFileTypes=a}),66);
__d("MDSForwardStackSvgIcon.react",["MDSSvgIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(c("MDSSvgIcon.react"),babelHelpers["extends"]({},a,{children:[i.jsx("path",{d:"M10.5 14a.5.5 0 0 0 .5-.5v-2.536c0-1.608 1.769-2.532 3.02-1.578l9.21 7.026c1.026.783 1.027 2.37.002 3.154l-9.21 7.046c-1.25.957-3.022.034-3.022-1.576V22.5a.5.5 0 0 0-.5-.5H5a2 2 0 0 1-2-2v-4a2 2 0 0 1 2-2h5.5Z"}),i.jsx("path",{d:"M20.38 24.265a.97.97 0 0 0-.38.771c0 1.61 1.771 2.533 3.022 1.576l9.21-7.046c1.025-.784 1.024-2.37-.002-3.154l-9.21-7.026c-1.251-.954-3.02-.03-3.02 1.578 0 .295.138.574.373.753l4.07 3.105c2.074 1.583 2.076 4.747.004 6.332l-4.066 3.111Z"})]}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MDSForwardSvgIcon.react",["MDSSvgIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsx(c("MDSSvgIcon.react"),babelHelpers["extends"]({},a,{children:i.jsx("path",{clipRule:"evenodd",d:"M30.22 19.497l-10.5 7.198c-1.163.797-2.722-.06-2.722-1.497v-3.204H8.001A2 2 0 016 19.996v-3.997A2 2 0 018 14h8.998v-3.198c0-1.437 1.559-2.294 2.722-1.497l10.5 7.197c1.04.713 1.04 2.283 0 2.995z",fillRule:"evenodd"})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MDSPinMessageIcon.react",["MDSSvgIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsx(c("MDSSvgIcon.react"),babelHelpers["extends"]({},a,{children:i.jsx("path",{clipRule:"evenodd",d:"M21.3905 21.9975C21.1611 21.9975 20.9611 22.1536 20.9054 22.3762L19.2424 29.0265C18.9197 30.319 17.0805 30.3185 16.7577 29.0265L15.0947 22.3762C15.039 22.1536 14.839 21.9975 14.6096 21.9975H10.1675C9.21767 21.9975 8.68955 20.933 9.19619 20.1815C9.61488 19.5605 10.7291 18.1525 12.7846 17.1415C13.0959 16.9885 13.2942 16.6755 13.3207 16.33C13.4196 15.046 13.6545 12.991 13.7564 11.669C13.7849 11.3 13.606 10.945 13.2912 10.751C12.1855 10.0695 11.526 9.2765 11.2157 8.837C10.6741 8.07 11.2122 7 12.163 7H23.8376C24.7879 7 25.3255 8.0705 24.7844 8.837C24.4741 9.2765 23.8141 10.0695 22.7089 10.751C22.3941 10.945 22.2158 11.3 22.2437 11.669C22.3457 12.991 22.5805 15.046 22.6794 16.33C22.7059 16.6755 22.9048 16.9885 23.216 17.1415C25.2711 18.1525 26.3853 19.5605 26.8039 20.1815C27.3101 20.933 26.783 21.9975 25.8327 21.9975H21.3905Z",fillRule:"evenodd"})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MDSPinnedMessageIcon.react",["MDSSvgIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useId;function a(a){var b=j(),d=j(),e=j(),f=j();return i.jsxs(c("MDSSvgIcon.react"),babelHelpers["extends"]({},a,{children:[i.jsx("g",{filter:"url(#"+b+")",children:i.jsx("rect",{fill:"url(#"+d+")",height:"2",width:"8",x:"17",y:"26"})}),i.jsx("path",{d:"M23.9989 27.5928L23.9988 27.5383L24.0367 27.585C24.1817 27.7518 24.7409 28.2715 25.8875 27.9427C26.9382 27.6414 26.5281 26.8227 26.371 26.5705C26.3138 26.4819 26.2525 26.3965 26.1873 26.3135L16.8703 14.3899C16.2845 15.045 15.5884 15.6539 14.8084 16.0737L23.9989 27.5928Z",fill:"url(#"+e+")"}),i.jsx("path",{d:"M11.5653 17.1305C15.7434 17.1305 19.1305 13.7434 19.1305 9.56526C19.1305 5.38708 15.7434 2 11.5653 2C7.38708 2 4 5.38708 4 9.56526C4 13.7434 7.38708 17.1305 11.5653 17.1305Z",fill:"#FF0D0D"}),i.jsx("path",{d:"M9.19306 12.5345C6.38338 10.2164 5.72669 6.37369 7.72578 3.95078C9.72486 1.52787 13.6231 1.44245 16.432 3.76062C19.2417 6.07879 19.8984 9.92145 17.8993 12.3444C15.9002 14.7673 12.0019 14.8519 9.19306 12.5345Z",fill:"url(#"+f+")"}),i.jsxs("defs",{children:[i.jsxs("filter",{colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"2.8",id:b,width:"8.8",x:"16.6",y:"25.6",children:[i.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),i.jsx("feBlend",{"in":"SourceGraphic",in2:"BackgroundImageFix",mode:"normal",result:"shape"}),i.jsx("feGaussianBlur",{result:"effect1_foregroundBlur_28_51",stdDeviation:"0.2"})]}),i.jsxs("linearGradient",{gradientUnits:"userSpaceOnUse",id:d,x1:"25",x2:"17.6667",y1:"27",y2:"27",children:[i.jsx("stop",{stopColor:"#969495"}),i.jsx("stop",{offset:"1",stopColor:"#D9D9D9",stopOpacity:"0"})]}),i.jsxs("linearGradient",{gradientUnits:"userSpaceOnUse",id:e,x1:"20.4956",x2:"21.941",y1:"22.4135",y2:"21.2698",children:[i.jsx("stop",{stopColor:"#666666"}),i.jsx("stop",{offset:"1",stopColor:"#CACCCD"})]}),i.jsxs("radialGradient",{cx:"0",cy:"0",gradientTransform:"translate(12.8132 8.1471) rotate(129.523) scale(5.68739 6.59482)",gradientUnits:"userSpaceOnUse",id:f,r:"1",children:[i.jsx("stop",{stopColor:"white",stopOpacity:"0.5"}),i.jsx("stop",{offset:"1",stopColor:"white",stopOpacity:"0"})]})]})]}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MDSReplySvgIcon.react",["MDSSvgIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsx(c("MDSSvgIcon.react"),babelHelpers["extends"]({},a,{children:i.jsx("path",{clipRule:"evenodd",d:"M18.005 24.4c0 1.278-1.336 2.04-2.334 1.332l-9.007-6.399c-.891-.633-.89-2.028 0-2.661l9.007-6.398c.998-.71 2.334.053 2.334 1.33l.001 3.397c7.14 0 11.997 3.226 11.998 10.987 0 .594-.411 1.012-1.033 1.012-.46 0-.845-.265-1.115-1.083-1.147-3.464-4.54-4.917-9.85-4.917v3.4z",fillRule:"evenodd"})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWMembersSectionIcons",["cr:3859"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:3859")}),98);
__d("useMWAddParticipantDialog",["JSResourceForInteraction","LSIntEnum","LSMessagingThreadTypeUtil","MWLSDatabaseLazySync","promiseDone","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){var e=d("MWLSDatabaseLazySync").useSync((h||(h=d("LSIntEnum"))).ofNumber(7)),f=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWAddParticipantOpenDialog.react").__setRef("useMWAddParticipantDialog")),g=f[0];f=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MAWAddParticipantSecureDialog.react").__setRef("useMWAddParticipantDialog"));var i=f[0];return function(){c("promiseDone")(e());var f=d("LSMessagingThreadTypeUtil").isSecure(b);f?i({threadKey:a}):g({threadKey:a})}}g["default"]=a}),98);
__d("MWAddMemberToGroupListCell.react",["fbt","MWMembersSectionIcons","MWXIcon.react","MWXListCellPressable.react","MWXText.react","react","useMWAddParticipantDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=a.testid;b=a.thread;var d=c("useMWAddParticipantDialog")(b.threadKey,b.threadType);a={eventName:"open_add_members_dialog",threadKey:b.threadKey,threadType:b.threadType};return j.jsx(c("MWXListCellPressable.react"),{addOnStart:j.jsx("div",{className:"x6s0dn4 xljulmy x14yjl9h xudhj91 x18nykt9 xww2gxu x78zum5 xc9qbxq xl56j7k x14qfxbe",children:j.jsx(c("MWXIcon.react"),{icon:c("MWMembersSectionIcons")})}),content:j.jsx(c("MWXText.react"),{type:"headline4",children:h._("__JHASH__P1CnLTqi4fK__JHASH__")}),loggingEvent:a,onPress:function(){return d()},size:"medium",testid:void 0})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWAdmodOnboardingSuggestedActionsContext.react",["$InternalEnum","emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));d=h;var j=d.createContext,k=d.useContext,l=d.useMemo,m=d.useState,n=b("$InternalEnum").Mirrored(["UNINITIALIZED","INITIALIZING","INITIALIZED"]),o=j({contextBannerLoadingState:n.UNINITIALIZED,isContextBannerVisible:!1,setContextBannerLoadingState:c("emptyFunction"),setIsContextBannerVisible:c("emptyFunction"),setShowWelcomeMessageSuggestion:c("emptyFunction"),showWelcomeMessageSuggestion:{show:!1}});function a(a){a=a.children;var b=m(n.UNINITIALIZED),c=b[0],d=b[1];b=m(!1);var e=b[0],f=b[1];b=m({show:!1});var g=b[0],h=b[1];b=l(function(){return{contextBannerLoadingState:c,isContextBannerVisible:e,setContextBannerLoadingState:d,setIsContextBannerVisible:f,setShowWelcomeMessageSuggestion:h,showWelcomeMessageSuggestion:g}},[c,e,g]);return i.jsx(o.Provider,{value:b,children:a})}a.displayName=a.name+" [from "+f.id+"]";function e(){return k(o)}g.ContextBannerLoadingStates=n;g.MWAdmodOnboardingSuggestedActionsContextProvider=a;g.useMWAdmodOnboardingSuggestedActionsContext=e}),98);
__d("MWPUseVoiceRecorder",["AudioContextSingleton","MWChatRecorderUtilsWorkerResource","MWPAudioPlayerIcons.react","MWPAudioPlayerLabels","Promise","WebWorker","clearTimeout","emptyFunction","gkx","react","setTimeout","useIsMountedRef","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i,l=k.useCallback,m=k.useEffect,n=k.useReducer,o=k.useRef;function a(a){switch(a.stage){case"Unopen":case"Recording":return!1;case"Recorded":case"Playing":return!0}}function e(a){switch(a.stage){case"Unopen":case"Recording":return!1;case"Recorded":case"Playing":return!0}}function p(a){switch(a.stage){case"Unopen":return 0;case"Recording":return a.duration;case"Recorded":case"Playing":return Math.max(a.duration-a.currentTime,0)}}function q(a){switch(a.stage){case"Unopen":return 0;case"Recording":return a.recordingTimeout;case"Recorded":case"Playing":return a.duration}}function r(a){switch(a.stage){case"Unopen":case"Recording":return;case"Recorded":case"Playing":return a.currentTime}}function s(a){switch(a.stage){case"Unopen":case"Recorded":return!1;case"Recording":case"Playing":return!0}}function t(a){if(a.stage==="Recorded")return a.currentTime===0;else return!1}function u(a){switch(a.stage){case"Recording":return d("MWPAudioPlayerLabels").stopLabel;case"Unopen":case"Recorded":return d("MWPAudioPlayerLabels").playLabel;case"Playing":return d("MWPAudioPlayerLabels").pauseLabel}}function v(a,b){switch(a.stage){case"Recording":return j.jsx(d("MWPAudioPlayerIcons.react").StopIcon,{color:b});case"Unopen":case"Recorded":return j.jsx(d("MWPAudioPlayerIcons.react").PlayIcon,{color:b});case"Playing":return j.jsx(d("MWPAudioPlayerIcons.react").PauseIcon,{color:b})}}v.displayName=v.name+" [from "+f.id+"]";function w(a,b){switch(b.type){case"Start":return{duration:0,mediaStream:b.mediaStream,recordingTimeout:b.recordingTimeout,stage:"Recording"};case"Toggle":switch(a.stage){case"Unopen":return a;case"Recording":return{currentTime:0,duration:a.duration,stage:"Recorded"};case"Recorded":return{currentTime:a.currentTime,duration:a.duration,stage:"Playing"};case"Playing":return{currentTime:a.currentTime,duration:a.duration,stage:"Recorded"}}break;case"UpdateDuration":var c=b.duration;switch(a.stage){case"Unopen":return a;case"Recording":return{duration:c,mediaStream:a.mediaStream,recordingTimeout:a.recordingTimeout,stage:"Recording"};case"Recorded":return{currentTime:a.currentTime,duration:c,stage:"Recorded"};case"Playing":return{currentTime:a.currentTime,duration:c,stage:"Playing"}}break;case"UpdateTime":c=b.currentTime;switch(a.stage){case"Unopen":case"Recording":return a;case"Recorded":var d=a.duration;return c===d?{currentTime:0,duration:d,stage:"Recorded"}:{currentTime:c,duration:d,stage:"Recorded"};case"Playing":d=a.duration;return c===d?{currentTime:0,duration:d,stage:"Recorded"}:{currentTime:c,duration:d,stage:"Playing"}}break;case"RecordingTimeout":return{currentTime:0,duration:b.recordingTimeout,stage:"Recorded"};case"Reset":return{stage:"Unopen"}}}var x={stage:"Unopen"};function y(a,d,e){a===void 0&&(a=60);d===void 0&&(d=c("emptyFunction"));e===void 0&&(e=c("emptyFunction"));var f=c("gkx")("24131"),g=c("gkx")("9179"),i=f?1:2;f=n(w,x);var j=f[0],k=f[1],p=c("useIsMountedRef")(),q=o(),r=o([]),s=o([]),t=o(),u=o(),v=o(),y=o(),z=o(c("emptyFunction")),A=l(function(a){var b=a[0],c=a[1];if(!p.current)return;a=URL.createObjectURL(b);v.current=a;var d=new Audio(a);d.addEventListener("canplay",function(){u.current=d;var a=d.duration;k({duration:a,type:"UpdateDuration"});a={duration:a,file:b,waveformData:c};y.current=a;z.current(a)});d.addEventListener("timeupdate",function(){var a;a=(a=u.current)==null?void 0:a.currentTime;a!=null&&k({currentTime:a,type:"UpdateTime"})});d.addEventListener("durationchange",function(){var a;a=(a=u.current)==null?void 0:a.duration;a!=null&&!Number.isNaN(a)&&k({duration:a,type:"UpdateDuration"})})},[p]),B=l(function(){if(q.current==null||t.current==null)return;t.current.postMessage({buffersL:r.current,buffersR:i===2?s.current:null,sampleRate:q.current})},[i]);m(function(){if(j.stage!=="Recording")return;r.current=[];s.current=[];var a=c("AudioContextSingleton").get({sampleRate:g?44100:void 0}),b=a.destination;q.current=a.sampleRate;var e=j.mediaStream,f=a.createScriptProcessor(4096,i,i);a=a.createMediaStreamSource(e);t.current=new(c("WebWorker"))(c("MWChatRecorderUtilsWorkerResource")).setMessageHandler(A).setAllowCrossPageTransition(!0).execute();var h=function(a){j.stage==="Recording"&&a instanceof AudioProcessingEvent&&(r.current.push(a.inputBuffer.getChannelData(0).slice()),i===2&&s.current.push(a.inputBuffer.getChannelData(1).slice()))};f.addEventListener("audioprocess",h);a.connect(f);f.connect(b);d();return function(){e.getAudioTracks().forEach(function(a){if(a.readyState!=="ended"){a.stop();return}}),f.removeEventListener("audioprocess",h)}},[A,d,j.stage,j.mediaStream,i,g]);var C=c("usePrevious")(j);m(function(){(C==null?void 0:C.stage)==="Recording"&&j.stage==="Recorded"&&B()},[C==null?void 0:C.stage,B,j.stage]);m(function(){if(j.stage!=="Recording")return;var b=Date.now(),d,e=function e(){var f=(Date.now()-b)/1e3;if(f>=a){k({recordingTimeout:a,type:"RecordingTimeout"});return}k({duration:f,type:"UpdateDuration"});d=c("setTimeout")(e,1e3)};d=c("setTimeout")(e,1e3);return function(){d!=null&&c("clearTimeout")(d)}},[a,j.stage]);f=l(function(b){k({mediaStream:b,recordingTimeout:a,type:"Start"})},[a]);var D=l(function(){var a;k({type:"Reset"});(a=u.current)==null?void 0:a.pause();u.current=void 0;y.current=void 0;q.current=void 0;a=v.current;a!=null&&(URL.revokeObjectURL(a),v.current=void 0)},[]),E=l(function(){var a=function(){k({type:"Toggle"})},b=u.current;if(b==null){a();return}switch(j.stage){case"Unopen":case"Recording":a();break;case"Recorded":b.play().then(a)["catch"](e);break;case"Playing":b.pause();a();break}},[e,j.stage]),F=l(function(){return new(h||(h=b("Promise")))(function(a){var b=y.current;if(b!=null)return a(b);z.current=a;if(j.stage==="Recording")return E()})},[j,E]);return{audioEl:u,getVoiceClip:F,reset:D,start:f,state:j,toggle:E}}g.showScreenReaderLabel=a;g.hasScrubber=e;g.getTimerTime=p;g.getDuration=q;g.getCurrentTime=r;g.isProgressing=s;g.isCompleted=t;g.getPlaybackLabel=u;g.getPlaybackIcon=v;g.useVoiceRecorder=y}),98);
__d("MWAudioRecorder.react",["MWAudioPlayer.react","MWPAudioPlayerButtons.react","MWPAudioPlayerContainer.react","MWPAudioPlayerHighlight.react","MWPAudioPlayerKeyCommands.react","MWPAudioPlayerSharedStyles","MWPAudioPlayerTimer.react","MWPAudioPlayerUtils","MWPUseVoiceRecorder","react","requireDeferred","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useRef,l=c("requireDeferred")("MWChatAudioLog").__setRef("MWAudioRecorder.react");function a(a){var b;a=a.voiceRecorder;var e=a.audioEl,f=a.state,g=a.toggle;a=k();var i=d("MWPAudioPlayerUtils").useResetHighlightProgress(a),m=(b=d("MWPUseVoiceRecorder")).hasScrubber(f),n=function(){g();switch(f.stage){case"Unopen":return;case"Recording":l.onReady(function(a){return a.logClickStopRecording(0)});return;case"Recorded":var a=f.currentTime,b=f.duration;a===0?l.onReady(function(a){return a.logPlaybackStart(b)}):l.onReady(function(c){return c.logPlaybackResume(b,a)});return;case"Playing":var c=f.currentTime,d=f.duration;l.onReady(function(a){return a.logPlaybackPause(d,c)});return}};b=d("MWPAudioPlayerUtils").useProgressLiveUpdate(b.getDuration(f),e,b.getCurrentTime(f),b.isProgressing(f),!1,b.isCompleted(f));var o=d("MWAudioPlayer.react").useHighlightStyles(!0),p=function(){switch(f.stage){case"Unopen":case"Recording":return null;case"Recorded":case"Playing":return j.jsx(d("MWPAudioPlayerUtils").ScreenReaderLabel,{currentTime:f.currentTime,duration:f.duration})}}();return j.jsx(c("MWPAudioPlayerContainer.react"),{audioEl:e,hasScrubber:m,scrubberRef:a,style:{backgroundColor:"var(--chat-composer-button-color, var(--accent))",borderRadius:"18px"},testid:void 0,useCase:d("MWPAudioPlayerUtils").UseCase.RECORDER,children:j.jsxs(c("MWPAudioPlayerKeyCommands.react"),{audioEl:e,children:[j.jsx(d("MWPAudioPlayerHighlight.react").MWPAudioPlayerHighlightV1,{ref:b,xstyle:o}),p,j.jsx(d("MWPAudioPlayerHighlight.react").MWPAudioPlayerHighlightV1,{ref:a,xstyle:o}),j.jsx("div",{className:(h||(h=c("stylex")))(d("MWPAudioPlayerSharedStyles").styles.playbackButtonContainer),onMouseMove:m?i:void 0,children:j.jsx(d("MWPAudioPlayerButtons.react").AudioPlayerPlaybackButton,{icon:d("MWPUseVoiceRecorder").getPlaybackIcon(f,"var(--chat-composer-button-color, var(--accent))"),label:d("MWPUseVoiceRecorder").getPlaybackLabel(f),onPress:n})}),j.jsx(c("MWPAudioPlayerTimer.react"),{time:d("MWPUseVoiceRecorder").getTimerTime(f)})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWCMInboxInfoMemberList.react",["fbt","I64","LSMessagingThreadTypeUtil","MWGroupMembershipListItemWrapper","MWLSGroupMembershipDialog.entrypoint","MWLSGroupMembershipMemberList.react","MWMemberListGlimmer.react","MWPBumpEntityKey","MWParticipantsForBroadcastChannelUtils","MWXIconForListCell.react","MWXIconGroup","MWXListCellPressable.react","MWXText.react","ReQL","ReQLSuspense","pageID","promiseDone","react","useCommunityMembers","useMWXEntryPointDialog","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=j||(j=d("react")),m=j.useEffect,n="inbox_info_member_list_"+c("pageID"),o=(k||(k=d("I64"))).of_int32(7);function a(a){var b=a.folder,e=a.thread,g=(i||(i=c("useReStore")))(),j=b==null?e.threadKey:b.folderId;d("useCommunityMembers").useFetchCommunityMembers({communityIdOrThreadKey:j,requestId:n,source:o,thread:e});var p=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(g.tables.community_members.index("communitySource")).getKeyRange(j,o,n).take(15)},[g,j],f.id+":86");d("MWParticipantsForBroadcastChannelUtils").useFetchBroadcastChannelMembers(e,0);a=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(g.tables.discoverable_chat_participants).getKeyRange(e.threadKey).take(15)},[g,e.threadKey],f.id+":98");var q=d("useCommunityMembers").useClearMemberList(),r=d("MWParticipantsForBroadcastChannelUtils").useClearBroadcastChannelParticipantsList(),s=(k||(k=d("I64"))).to_string(e.threadKey),t=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(e.threadType);t=t?a.map(function(a){return d("MWGroupMembershipListItemWrapper").tToRE({tag:"BroadcastChannelParticipant",value:a})}):p.map(function(a){return d("MWGroupMembershipListItemWrapper").tToRE({tag:"CommunityMember",value:a})});m(function(){c("promiseDone")(q(n));c("promiseDone")(r());return function(){c("promiseDone")(q(n)),c("promiseDone")(r())}},[s,q,r]);m(function(){p.length>0&&d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.cm.member_list","community_members_loaded")},[p.length]);var u={folder:b};s=c("useMWXEntryPointDialog")(c("MWLSGroupMembershipDialog.entrypoint"),{groupID:k.to_string((a=b==null?void 0:b.fbGroupId)!=null?a:(k||(k=d("I64"))).zero)});var v=s[0],w=function(){return v(u)};return t.length===0?l.jsx(c("MWMemberListGlimmer.react"),{}):l.jsxs(l.Fragment,{children:[l.jsx(c("MWLSGroupMembershipMemberList.react"),{disableScroll:!0,doSortParticipants:!1,participantsAndContacts:t,showAdmodIndicator:!0,showAdmodsOnly:!1,showHostsOnly:!1,showInvitedByViewerOnly:!1,thread:e}),l.jsx(c("MWXListCellPressable.react"),{addOnStart:l.jsx("div",{className:"x6s0dn4 xljulmy x14yjl9h xudhj91 x18nykt9 xww2gxu x78zum5 xc9qbxq xl56j7k x14qfxbe",children:l.jsx(c("MWXIconForListCell.react"),{hasBackground:!1,icon:c("MWXIconGroup"),size:"medium"})}),content:l.jsx(c("MWXText.react"),{type:"headline4",children:h._("__JHASH__BN54OIlz3MA__JHASH__")}),onPress:function(a){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.cm.member_list","see_all"),w()},size:"medium"})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWCMLogMuteDuration.react",["C4gEngagementFalcoEvent","I64","MessengerSurfaceType"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){var b;return{"1_hour":(b=a.oneHour)!=null?b:"0","15_min":(b=a.fifteenMin)!=null?b:"0","24_hour":(b=a.twentyFourHour)!=null?b:"0","8_hour":(b=a.eightHour)!=null?b:"0",until_i_turn_it_back_on:(b=a.always)!=null?b:"0"}}function j(a){switch(a){case 9e5:return i({fifteenMin:"1"});case 36e5:return i({oneHour:"1"});case 288e5:return i({eightHour:"1"});case 864e5:return i({twentyFourHour:"1"});case-1:return i({always:"1"});default:return i({})}}function a(a){var b=a.groupId,e=a.threadKey,f=a.communityId,g=a.eventType,i=a.surface,k=i===void 0?String(d("MessengerSurfaceType").messenger):i,l=a.source;i=a.duration;a=a.clientExtras;a=a===void 0?{}:a;var m=i===0||i==null?a:babelHelpers["extends"]({},a,j(i));return c("C4gEngagementFalcoEvent").log(function(){return{action:"tap",client_extras:m,community_id:f==null?null:(h||(h=d("I64"))).to_string(f),event:g,group_id:b==null?null:(h||(h=d("I64"))).to_string(b),source:l,surface:k,thread_id:e==null?null:(h||(h=d("I64"))).to_string(e)}})}g.log=a}),98);
__d("MWV2HeaderSettingsButtonChevron.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var b=a.size;b=b===void 0?"10px":b;a=a.xstyle;return j.jsx("svg",{"aria-hidden":"true",className:(h||(h=c("stylex")))(a),height:b,viewBox:"0 0 18 10",width:b,children:j.jsx("path",{clipRule:"evenodd",d:"M1 2.414A1 1 0 012.414 1L8.293 6.88a1 1 0 001.414 0L15.586 1A1 1 0 0117 2.414L9.707 9.707a1 1 0 01-1.414 0L1 2.414z",fill:"var(--mwp-header-button-color)",fillRule:"evenodd"})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXIconArrowRight",["MWXSvgIcon","SVGIcon","cr:4002","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:4002")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXIconBell",["MWXSvgIcon","SVGIcon","cr:4684","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:4684")),c("gkx")("23219"));g["default"]=a}),98);
__d("SubthreadMuteStrings.react",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";a=h._("__JHASH__PxnspW7lfSv__JHASH__");b=h._("__JHASH__a4XiPEeVjxj__JHASH__");g.muteLabel=a;g.unmuteLabel=b}),98);
__d("useMWChatUnmuteThread",["I64","LSFactory","LSIntEnum","LSMailboxType","LSMuteCallsFromThreadStoredProcedure","LSOptimisticMuteThreadStoredProcedure","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=(k||d("react")).useCallback;function a(){var a=(h||(h=c("useReStore")))(),b=(i||(i=d("I64"))).zero;return l(function(e){(i||(i=d("I64"))).equal(e.muteExpireTimeMs,b)||c("promiseDone")(a.runInTransaction(function(a){return c("LSOptimisticMuteThreadStoredProcedure")(c("LSFactory")(a),{mailboxType:(j||(j=d("LSIntEnum"))).ofNumber(c("LSMailboxType").MESSENGER),muteExpireTimeMs:(i||(i=d("I64"))).zero,threadKey:e.threadKey})},"readwrite"));if(!(i||(i=d("I64"))).equal(e.muteCallsExpireTimeMs,b)){c("promiseDone")(a.runInTransaction(function(a){return c("LSMuteCallsFromThreadStoredProcedure")(c("LSFactory")(a),{mailboxType:(j||(j=d("LSIntEnum"))).ofNumber(c("LSMailboxType").MESSENGER),muteCallsExpireTimeMs:(i||(i=d("I64"))).zero,threadKey:e.threadKey})},"readwrite"));return}},[a,b])}g["default"]=a}),98);
__d("useUnmuteSubthread.react",["fbt","I64","MWCMLogMuteDuration.react","cometPushToast","formatDate","react","useMWChatUnmuteThread","useMWXConfirmationDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=(i||d("react")).useCallback;function l(a){var b=new Date();if(!(j||(j=d("I64"))).equal(a,(j||(j=d("I64"))).neg_one))if(new Date((j||(j=d("I64"))).to_float(a)).getDay()===b.getDay())return h._("__JHASH__DRoE6CgofTw__JHASH__",[h._param("time",c("formatDate")((j||(j=d("I64"))).to_float(a)/1e3,"g:ia"))]);else return h._("__JHASH__80cngzK8IXy__JHASH__",[h._param("time",c("formatDate")((j||(j=d("I64"))).to_float(a)/1e3,"g:ia"))]);else return h._("__JHASH__4mwXsVkXMRi__JHASH__")}function a(a,b){var e=c("useMWXConfirmationDialog")(),f=c("useMWChatUnmuteThread")();return k(function(c){c!=null&&e({body:l(c.muteExpireTimeMs),title:h._("__JHASH__t8ncWz3dEdi__JHASH__")},function(){var e;f(c);d("MWCMLogMuteDuration.react").log({clientExtras:{is_subthread:"1"},eventType:"channel_level_unmute_all_notif",source:(e=a)!=null?e:"mute_bell_button",surface:(e=b)!=null?e:"subthread_list",threadKey:c.threadKey});d("cometPushToast").cometPushToast({message:h._("__JHASH__0DUAN4OT62t__JHASH__",[h._param("Name of chat",c.threadName)])})})},[e,f,a,b])}g["default"]=a}),98);
__d("MWCMSubthreadHeader.react",["fbt","GroupsCometChatsEngagementLogger","I64","Int64Hooks","JSResourceForInteraction","LSAuthorityLevel","LSIntEnum","Locale","MWChatTextTransform","MWV2HeaderSettingsButtonChevron.react","MWVerticalRhythm","MWXCircleButton.react","MWXIconArrowLeft","MWXIconArrowRight","MWXIconBell","MWXIconBellCross","MWXIconCross","MWXIconDots3Horizontal","MWXLazyPopoverTrigger.react","MWXMessageTextWithEntities.react","MWXPressable.react","MWXRow.react","MWXRowItem.react","MWXText.react","MWXThreadThemeColor","MWXTooltip.react","SubthreadMuteStrings.react","baseTextTransformAllStrings","emptyFunction","gkx","react","stylex","useMWXLazyDialog","useUnmuteSubthread.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=j||d("react"),n=c("gkx")("23219"),o={align:{verticalAlign:"xxymvpz",$$css:!0},chevronIcon:{marginStart:"x1i64zmx",marginLeft:null,marginRight:null,marginTop:"x1xmf6yo",$$css:!0},container:{alignItems:"x1cy8zhl",display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",justifyContent:"xl56j7k",minHeight:"xj9xw9b",$$css:!0},iconRow:{paddingStart:"xkhd6sd",paddingLeft:null,paddingRight:null,paddingEnd:"x4uap5",$$css:!0},item:{alignItems:"x6s0dn4",display:"x78zum5",maxWidth:"x193iq5w",$$css:!0},rowItem:{alignItems:"x6s0dn4",display:"x78zum5",height:"xn3w4p2",justifyContent:"xl56j7k",$$css:!0},rowItemChatTab:{alignItems:"x6s0dn4",flexDirection:"x1q0g3np",flexGrow:"x1iyjqo2",$$css:!0},settingsButton:{flexShrink:"xs83m0k",marginEnd:"x1emribx",marginLeft:null,marginRight:null,maxWidth:"x1ncir08",$$css:!0}},p=h._("__JHASH__nTUxHa9SlKj__JHASH__"),q=c("gkx")("24077");function r(a){return a.length>30?a.slice(0,27)+"...":a}function s(){return function(a){return c("baseTextTransformAllStrings")(a,function(a,b){return t(a,b)})}}function t(a,b){return[r(a)]}function a(a){var b=a.closeSidePanelOnBack,e=a.hexTextColor,f=a.isChatTab,g=f===void 0?!1:f;f=a.isThreadMuted;var j=f===void 0?!1:f,r=a.onPressBack;f=a.subtitle;var t=a.textColor,u=a.thread;a=a.title;var v=c("useMWXLazyDialog")(c("JSResourceForInteraction")("LSMuteThreadDialog.react").__setRef("MWCMSubthreadHeader.react")),w=v[0];v=d("Int64Hooks").useCallbackInt64(function(){u!=null&&(k||(k=d("I64"))).equal(u.authorityLevel,(l||(l=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC))&&d("GroupsCometChatsEngagementLogger").log({action:"tap",event:"cancel_sidechat",source:"back_button",surface:"subthread_view",thread_id:(k||(k=d("I64"))).to_string(u==null?void 0:u.threadKey)}),r()},[r,u]);var x=c("useUnmuteSubthread.react")("mute_bell_button","subthread_view"),y=u!=null?(k||(k=d("I64"))).equal(u==null?void 0:u.authorityLevel,(l||(l=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC)):!1,z=b===!0?c("MWXIconCross"):c("Locale").isRTL()?c("MWXIconArrowRight"):c("MWXIconArrowLeft");b=b===!0?h._("__JHASH__gaxHiFwvIGk__JHASH__"):h._("__JHASH__wSyF3E_Fmrl__JHASH__");var A=m.jsx(c("MWXRowItem.react"),{expanding:!0,verticalAlign:"center",children:m.jsxs("div",{className:"x1cy8zhl x78zum5 xdt5ytf x1iyjqo2 xl56j7k xj9xw9b",style:e==null?{}:{"--primary-text":e},children:[m.jsx("div",{className:"x6s0dn4 x78zum5 x193iq5w",children:m.jsx(c("MWXText.react"),{align:"center",color:t,isSemanticHeading:!0,numberOfLines:1,type:g?"headlineEmphasized4":n?"headlineEmphasized5":"headlineEmphasized3",children:m.jsx("span",{className:(i||(i=c("stylex")))(g?o.align:null),children:typeof a==="string"?m.jsx(c("MWXMessageTextWithEntities.react"),{text:a,transforms:[].concat(d("MWChatTextTransform").epdTextTransforms,[s()])}):a})})}),f!=null?m.jsxs(m.Fragment,{children:[m.jsx(c("MWVerticalRhythm"),{height:6}),m.jsx("div",{className:"x6s0dn4 x78zum5 x193iq5w",children:m.jsx(c("MWXText.react"),{align:"center",color:t,numberOfLines:1,type:"meta3",children:f})})]}):null]})});return m.jsxs(c("MWXRow.react"),{paddingHorizontal:g?0:12,paddingVertical:g?0:n?8:16,children:[m.jsx(c("MWXRowItem.react"),{children:m.jsx(c("MWXTooltip.react"),{align:"middle",position:"below",tooltip:b,children:m.jsx(c("MWXCircleButton.react"),{color:d("MWXThreadThemeColor").mwxThreadThemeColor("var(--mwp-header-button-color)"),icon:z,label:b,onPress:v,size:36,type:"deemphasized"})})}),!g||u==null?A:null,u!=null&&m.jsx(c("MWXRowItem.react"),{xstyle:g?o.rowItemChatTab:o.rowItem,children:m.jsx(c("MWXLazyPopoverTrigger.react"),{align:g?"middle":"end",popoverProps:{isChatTab:g,onClose:c("emptyFunction"),onDelete:r,thread:u},popoverResource:c("JSResourceForInteraction")("MWCMSubthreadSettingsMenu.react").__setRef("MWCMSubthreadHeader.react"),position:"below",children:function(a,b,e,f,h,i,k){return g?m.jsx(c("MWXTooltip.react"),{align:"end",position:"above",tooltip:p,children:m.jsxs(c("MWXPressable.react"),{disabled:y,onHoverIn:f,onHoverOut:h,onPress:function(){b()},onPressIn:i,overlayOffset:8,overlayRadius:"normal",ref:a,xstyle:o.settingsButton,children:[A,m.jsx(c("MWV2HeaderSettingsButtonChevron.react"),{xstyle:o.chevronIcon})]})}):m.jsxs(c("MWXRow.react"),{paddingHorizontal:0,paddingVertical:0,verticalAlign:"center",children:[q?m.jsx(c("MWXRowItem.react"),{xstyle:o.iconRow,children:m.jsx(c("MWXTooltip.react"),{align:"middle",position:"below",tooltip:j?d("SubthreadMuteStrings.react").unmuteLabel:d("SubthreadMuteStrings.react").muteLabel,children:m.jsx(c("MWXCircleButton.react"),{color:y?"tertiary":d("MWXThreadThemeColor").mwxThreadThemeColor("var(--mwp-header-button-color)"),disabled:y,icon:j?c("MWXIconBellCross"):c("MWXIconBell"),label:j?d("SubthreadMuteStrings.react").unmuteLabel:d("SubthreadMuteStrings.react").muteLabel,onPress:function(){j?x(u):w({surface:"subthread_view",threadKey:u.threadKey})},size:36,type:"deemphasized"})})}):null,m.jsx(c("MWXRowItem.react"),{xstyle:o.iconRow,children:m.jsx(c("MWXTooltip.react"),{align:"middle",position:"below",tooltip:p,children:m.jsx(c("MWXCircleButton.react"),{color:y?"tertiary":d("MWXThreadThemeColor").mwxThreadThemeColor("var(--mwp-header-button-color)"),disabled:y,icon:c("MWXIconDots3Horizontal"),label:p,onHoverIn:f,onHoverOut:h,onPress:b,onPressIn:i,ref:a,size:36,type:"deemphasized"})})})]})}})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWCMSubthreadThreadViewContexts.react",["MAWEditMessageContext.react","MWCMIsSubthreadContext.react","MWChatFocusComposerContext","MWPReplyContext.react","MWThreadKey.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.children;a=a.thread;return i.jsx(d("MWPReplyContext.react").MWPReplyContextProvider,{children:i.jsx(d("MWThreadKey.react").MWThreadKeyProvider,{id:a.threadKey,isSubthread:!0,children:i.jsx(d("MWCMIsSubthreadContext.react").MWCMIsSubthreadContextProvider,{isSubthread:!0,children:i.jsx(d("MWChatFocusComposerContext").MWChatFocusComposerContextProvider,{children:i.jsx(d("MAWEditMessageContext.react").MAWEditMessageContext,{children:b})})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWComposerPlaceholder.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){a=a.height;return i.jsx("div",{className:"x1exxf4d x13fuv20 x178xt8z",style:{height:a.toString()+"px"}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWJoinChannelComposerPlaceholder.react",["fbt","$InternalEnum","JSResourceForInteraction","MWXColumn.react","MWXColumnItem.react","MWXGlimmer.react","MWXText.react","lazyLoadComponent","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWBroadcastChannelMemberComposer.react").__setRef("MWJoinChannelComposerPlaceholder.react")),l={buttonGlimmer:{borderTopStartRadius:"xi112ho",borderTopEndRadius:"x17zwfj4",borderBottomEndRadius:"x585lrc",borderBottomStartRadius:"x1403ito",height:"x10w6t97",$$css:!0},root:{borderTopColor:"x1exxf4d",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",$$css:!0}},m=b("$InternalEnum").Mirrored(["Broadcast","Social"]);function a(a){var b=a.channelType,d=a.threadKey;a=function(){switch(b){case m.Broadcast:return j.jsx(k,{isJoined:!1,threadKey:d});case m.Social:return h._("__JHASH__8LwBLF7_aVr__JHASH__")}}();return j.jsxs(c("MWXColumn.react"),{paddingHorizontal:16,paddingVertical:16,spacing:16,xstyle:l.root,children:[j.jsx(c("MWXColumnItem.react"),{children:j.jsx(c("MWXText.react"),{align:"center",type:"meta3",children:a})}),j.jsx(c("MWXColumnItem.react"),{children:j.jsx(c("MWXGlimmer.react"),{index:0,xstyle:l.buttonGlimmer})})]})}a.displayName=a.name+" [from "+f.id+"]";g.ChannelType=m;g.MWJoinChannelComposerPlaceholder=a}),98);
__d("MWPArmadilloLoadingStateMessage.react",["fbt","MWXSpinner.react","cr:6285","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){a=a.threadKey;a=b("cr:6285")(a);return a?null:j.jsxs("div",{id:"armadillo-loading-indicator-banner",children:[j.jsx("div",{className:"x78zum5 xoverlg xl56j7k xr1496l",children:j.jsx(c("MWXSpinner.react"),{color:"disabled",size:20})}),j.jsx("div",{className:"x6s0dn4 x12scifz x1jchvi3 x117nqv4 x1hkbg2g xr1yuqi xkrivgy x4ii5y1 x1gryazu x1qs4qq1 x1n2onr6 x2b8uid x13faqbe",children:h._("__JHASH__7VvIEysTDk2__JHASH__").toString()})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWLSProactiveWarningTables",["MWPreloadableQueries","MWThreadKey.react","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){var a=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),b=(h||(h=c("useReStore")))(),e=d("ReQLSuspense").useFirst(function(){return d("MWPreloadableQueries").getThreadBannerQuery(b,a)},[b,a],f.id+":31"),g=d("ReQLSuspense").useFirst(function(){return d("MWPreloadableQueries").getProactiveWarningsForThreadQuery(b,a)},[b,a],f.id+":36");return{banner:e,pwSettings:g}}g["default"]=a}),98);
__d("useMWProactiveWarningPayloadMemo",["I64","Int64Hooks"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=a.banner,c=a.ignoreDismissTime,e=a.isPWDismissTimeSet,f=a.pwSettings,g=a.threadKey;return d("Int64Hooks").useMemoInt64(function(){if(f==null||b==null)return;var a=f.context,i=f.entryPoint,j=f.storyLocation,k=f.suspectId,l=f.tag,m=b.bannerId,n=b.cta1Title,o=b.cta2Title,p=b.heading,q=b.titleSectionOne;if(!((Boolean(c)||e)&&(h||(h=d("I64"))).equal(m,(h||(h=d("I64"))).of_string("7"))))return;if(k!=null&&a!=null&&j!=null&&i!=null&&l!=null&&p!=null&&o!=null&&n!=null&&q!=null)return{context:a,cta1Title:n,cta2Title:o,description:q,falco_event_data:{data:{entry_point:(h||(h=d("I64"))).to_int32(i),feedback_tags:[l],surface:h.to_int32(j)},impersonatedUser:{id:0},otherUser:{id:h.to_int32(k)},reportedUser:{id:0},thread:{id:h.to_string(g),type:1}},header:p,threadKey:g}},[g,b,f,e,c])}g["default"]=a}),98);
__d("useMWProactiveWarningPayload",["I64","MWThreadKey.react","useMWLSProactiveWarningTables","useMWProactiveWarningPayloadMemo"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){var e=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),f=c("useMWLSProactiveWarningTables")(),g=f.banner;f=f.pwSettings;b=b!=null&&(h||(h=d("I64"))).equal((b=b.proactiveWarningDismissTime)!=null?b:(h||(h=d("I64"))).zero,(h||(h=d("I64"))).zero);return c("useMWProactiveWarningPayloadMemo")({banner:g,ignoreDismissTime:a,isPWDismissTimeSet:b,pwSettings:f,threadKey:e})}g["default"]=a}),98);
__d("MWPSafetyNoticesChatBlockedComposerDetails.react",["fbt","IXTProactiveWarningFollowUpActionsCell.react","LSFactory","LSSetProactiveWarningDismissTimeStoredProcedure","LsFrxMessengerFeedbackProactiveWarningBannerPrimaryActionTappedFalcoEvent","LsFrxMessengerFeedbackProactiveWarningBannerSecondaryActionTappedFalcoEvent","LsFrxMessengerFeedbackProactiveWarningBannerShownFalcoEvent","MDSTextPairing.react","MWThreadKey.react","MWXText.react","TetraButton.react","promiseDone","react","stylex","useMWProactiveWarningPayload","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react")),m=k.useEffect,n={button:{width:"x5sxuk9",$$css:!0},buttonsContainer:{display:"x78zum5",flexDirection:"x1q0g3np",justifyContent:"x1qughib",marginTop:"x14vqqas",width:"xh8yej3",$$css:!0},root:{borderTop:"xzg4506",color:"xi81zsa",marginTop:"x14vqqas",paddingTop:"xyinxu5",paddingEnd:"xho0xa1",paddingBottom:"xxbrewl",paddingStart:"x1vobaek",$$css:!0}};function a(a){var b=a.fallback,e=a.onClose;a=a.thread;var f=c("useMWProactiveWarningPayload")(void 0,a),g=(i||(i=c("useReStore")))(),k=d("MWThreadKey.react").useMWThreadKeyMemoizedExn();m(function(){f!=null&&c("LsFrxMessengerFeedbackProactiveWarningBannerShownFalcoEvent").log(function(){var a;return{data:babelHelpers["extends"]({},f.falco_event_data.data,{mute_duration:(a=f.falco_event_data.data.mute_duration)==null?void 0:a.toString(),selected_messages_count:(a=f.falco_event_data.data.selected_messages_count)==null?void 0:a.toString()}),impersonated_user:f.falco_event_data.impersonatedUser,other_user:f.falco_event_data.otherUser,reported_user:f.falco_event_data.reportedUser,thread:f.falco_event_data.thread}})},[f]);if(f==null)return b;a=h._("__JHASH__I2SwG7QkbS2__JHASH__",[h._param("header value",f.header)]);b=h._("__JHASH__kg4ss1ruH19__JHASH__",[h._param("message value",f.description)]);var o=l.jsx("div",{className:(j||(j=c("stylex")))(n.button,!1),children:l.jsx(c("IXTProactiveWarningFollowUpActionsCell.react"),{context:f.context,label:f.cta1Title,onClose:e,onPress:function(){c("LsFrxMessengerFeedbackProactiveWarningBannerSecondaryActionTappedFalcoEvent").log(function(){var a;return{data:babelHelpers["extends"]({},f.falco_event_data.data,{mute_duration:(a=f.falco_event_data.data.mute_duration)==null?void 0:a.toString(),selected_messages_count:(a=f.falco_event_data.data.selected_messages_count)==null?void 0:a.toString()}),impersonated_user:f.falco_event_data.impersonatedUser,other_user:f.falco_event_data.otherUser,reported_user:f.falco_event_data.reportedUser,thread:f.falco_event_data.thread}})},setPWDismissTime:function(){c("promiseDone")(g.runInTransaction(function(a){return c("LSSetProactiveWarningDismissTimeStoredProcedure")(c("LSFactory")(a),{threadKey:k})},"readwrite"),e,e)}})}),p=l.jsx("div",{className:j(n.button,!1),children:l.jsx(c("TetraButton.react"),{label:h._("__JHASH__lh-XuPg59Gs__JHASH__",[h._param("CTA text value",f.cta2Title)]),onPress:function(){c("LsFrxMessengerFeedbackProactiveWarningBannerPrimaryActionTappedFalcoEvent").log(function(){var a;return{data:babelHelpers["extends"]({},f.falco_event_data.data,{mute_duration:(a=f.falco_event_data.data.mute_duration)==null?void 0:a.toString(),selected_messages_count:(a=f.falco_event_data.data.selected_messages_count)==null?void 0:a.toString()}),impersonated_user:f.falco_event_data.impersonatedUser,other_user:f.falco_event_data.otherUser,reported_user:f.falco_event_data.reportedUser,thread:f.falco_event_data.thread}}),c("promiseDone")(g.runInTransaction(function(a){return c("LSSetProactiveWarningDismissTimeStoredProcedure")(c("LSFactory")(a),{threadKey:f.threadKey})},"readwrite"),e,e)},reduceEmphasis:!1,size:"medium",type:"secondary"})});b=l.jsxs(l.Fragment,{children:[l.jsx(c("MDSTextPairing.react"),{body:l.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"body4",children:b}),headline:l.jsx(c("MWXText.react"),{color:"primary",type:"bodyLink4",children:a}),level:4,textAlign:"center"}),l.jsxs("div",{className:"x78zum5 x1q0g3np x1qughib x14vqqas xh8yej3",children:[o,p]})]});return l.jsx("div",{className:"xzg4506 xi81zsa x14vqqas xyinxu5 xho0xa1 xxbrewl x1vobaek",children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPSafetyNoticesChatBlockedComposer.react",["MWPSafetyNoticesChatBlockedComposerDetails.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.fallback,d=a.onClose;a=a.thread;return i.jsx(c("MWPSafetyNoticesChatBlockedComposerDetails.react"),{fallback:b,onClose:d,thread:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatComposerVoiceIndicator.react",["fbt","CurrentUser","MDSTextPairing.react","MWXText.react","getTopMostRoute","react","useCometRouterState"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){a=a.forceShown_TEST_ONLY;a=a===void 0?!1:a;var b=c("useCometRouterState")();b=b!=null?c("getTopMostRoute")(b):null;b=(b=b==null?void 0:b.tracePolicy)!=null?b:null;b=b!==null?b.startsWith("comet.page.admin")||b.startsWith("comet.group.admin"):!1;var d=c("CurrentUser").getName();d=h._("__JHASH__moy48BoqFvP__JHASH__",[h._param("full name",j.jsx(c("MWXText.react"),{type:"meta2",children:d}))]);return b||a?j.jsx("div",{className:"x1exxf4d x13fuv20 x178xt8z xi81zsa x14vqqas xkrivgy xat24cr x1gryazu xyinxu5 xho0xa1 xs9asl8 x1vobaek",children:j.jsx(c("MDSTextPairing.react"),{body:j.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"body4",children:d}),level:4,textAlign:"center"})}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWComposerXacDisclosureRelayQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5305811016137974"}),null);
__d("MWComposerXacDisclosureRelayQuery.graphql",["MWComposerXacDisclosureRelayQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"nux_id"}],c=[{kind:"Variable",name:"nux_id",variableName:"nux_id"}],d={kind:"InlineFragment",selections:[{args:null,documentName:"MWComposerXacDisclosureRelayQuery",fragmentName:"MWComposerXacDisclosureView_nux",fragmentPropName:"nux",kind:"ModuleImport"}],type:"DefaultNUX",abstractKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWComposerXacDisclosureRelayQuery",selections:[{alias:"xacThreadDisclosureNux",args:c,concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[d],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWComposerXacDisclosureRelayQuery",selections:[{alias:"xacThreadDisclosureNux",args:c,concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:b("MWComposerXacDisclosureRelayQuery_facebookRelayOperation"),metadata:{},name:"MWComposerXacDisclosureRelayQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWComposerXacDisclosureRelay.react",["CometPlaceholder.react","CometRelay","MWComposerXacDisclosureRelayQuery.graphql","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k=8659;function a(a){var e=a.isThreadInNullState;a=a.size;var f=d("CometRelay").useLazyLoadQuery(h!==void 0?h:h=b("MWComposerXacDisclosureRelayQuery.graphql"),{nux_id:k}),g=f.xacThreadDisclosureNux;return j.jsx(c("CometPlaceholder.react"),{fallback:null,children:g!=null?j.jsx(d("CometRelay").MatchContainer,{match:g,props:{isThreadInNullState:e,nuxKey:f.xacThreadDisclosureNux,size:a}}):null})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWComposerDisclosureContainer.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={border:{borderTop:"1px solid var(--media-inner-border)"},inner:{margin:"auto",maxWidth:450},inner_new_layout_for_horizontal_buttons:{margin:"auto",maxWidth:1200},root:{color:"var(--secondary-text)",marginTop:"12px",padding:"14px 13px 5px 13px",textAlign:"center"},root_new_layout_for_horizontal_buttons:{borderTop:"1px solid var(--media-inner-border)",color:"var(--secondary-text)",marginTop:"12px",padding:"28px 13px 13px 13px",textAlign:"center"}};function a(a){var b=a.children;a=a.testid;return i.jsx("div",{"data-testid":void 0,style:j.root,children:i.jsx("div",{style:j.inner,children:b})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatComposerGroupMessageRequestInfoText.react",["fbt","JSResourceForInteraction","MWComposerDisclosureContainer.react","MWVerticalRhythm","MWXPressable.react","MWXText.react","MessageRequestsLog","MessengerMSplitFlag","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.useRef,m=c("JSResourceForInteraction")("MWChatDeclineGroupMessageRequestDialog.react").__setRef("MWChatComposerGroupMessageRequestInfoText.react");function a(a){var b=a.folderName,e=a.hasAddXacUsersCapabilitiy,f=a.onDeleteConversation,g=a.onLeaveGroup,i=a.threadKey,n=a.threadType;k(function(){d("MessageRequestsLog").logMessageRequestInfoShown({folderName:b,threadKey:i,threadType:n})},[b,i,n]);a=l(null);var o={onDeleteConversation:f,onLeaveGroup:g};f=c("useMWXLazyDialog")(m);var p=f[0],q=function(){return p(o)};return j.jsxs(c("MWComposerDisclosureContainer.react"),{testid:void 0,children:[e?j.jsxs(j.Fragment,{children:[j.jsx(c("MWXText.react"),{color:"secondary",type:"entityHeaderMeta3",children:h._("__JHASH__Zo8nGcr-Wbu__JHASH__")}),j.jsx(c("MWVerticalRhythm"),{height:8})]}):null,j.jsxs(c("MWXText.react"),{color:"secondary",type:"body4",children:[e?h._("__JHASH__dGW95F1FSGX__JHASH__"):c("MessengerMSplitFlag").is_msplit_account?h._("__JHASH__MWNB1ho8ez7__JHASH__"):h._("__JHASH__8Xn13sU52xi__JHASH__"),j.jsx(c("MWVerticalRhythm"),{height:5}),j.jsx(c("MWXPressable.react"),{onPress:function(){d("MessageRequestsLog").logDenialOptionsTapped({folderName:b,threadKey:i,threadType:n});return q()},overlayDisabled:!0,ref:a,testid:void 0,children:j.jsx(c("MWXText.react"),{color:"primary",type:"bodyLink4",children:h._("__JHASH__3yIVRKHeTer__JHASH__")})})]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWReQLChatComposerGroupMessageRequestInfoText.react",["MWChatComposerGroupMessageRequestInfoText.react","MWLSThread","MWThreadKey.react","isMWXacGroupThread","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.onDeleteConversation;a=a.onLeaveGroup;var e=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),f=d("MWLSThread").useThreadExn(e),g=c("isMWXacGroupThread")(f);return i.jsx(c("MWChatComposerGroupMessageRequestInfoText.react"),{folderName:f.folderName,hasAddXacUsersCapabilitiy:g,onDeleteConversation:b,onLeaveGroup:a,threadKey:e,threadType:f.threadType})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWLSChatComposerUserMessageRequestInfoText.react",["fbt","I64","JSResourceForInteraction","MDSTextPairing.react","MWComposerDisclosureContainer.react","MWMessageRequestSharedTexts.react","MWVerticalRhythm","MWXPressable.react","MWXText.react","MessageRequestsLog","MessengerMSplitFlag","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||(i=d("react"));b=i;var l=b.useEffect,m=b.useRef,n=c("JSResourceForInteraction")("MWChatDeclineUserMessageRequestDialog.react").__setRef("MWLSChatComposerUserMessageRequestInfoText.react");function a(a){var b=a.isIgContact,e=a.isMSplitContact,f=a.name,g=a.onDeleteConversation,i=a.secondaryName,o=a.shortName,p=a.thread;a=b&&i!=null?k.jsx(c("MWXText.react"),{color:"primary",type:"bodyLink4",children:h._("__JHASH__CEpoRXODTMn__JHASH__")}):null;e=b&&i!=null?f!==i?h._("__JHASH__tV1eV-071mI__JHASH__",[h._param("IGDisplayName",f),h._param("IGUserName",i)]):h._("__JHASH__U6KCI1_eCqE__JHASH__",[h._param("IGUserName",i)]):c("MessengerMSplitFlag").is_msplit_account||e?d("MWMessageRequestSharedTexts.react").getFBUserInfoTextMessageForMSplit(f):d("MWMessageRequestSharedTexts.react").getFBUserInfoTextMessage(f);b=b&&i!=null?f!==i?h._("__JHASH__aglenjVPdnH__JHASH__",[h._param("name",f),h._param("username",i)]):h._("__JHASH__OwGh52eXtzq__JHASH__",[h._param("username",i)]):d("MWMessageRequestSharedTexts.react").getDefaultInfoTextFooter(f);var q=m(null);l(function(){d("MessageRequestsLog").logMessageRequestInfoShown(p)},[p]);var r={onDeleteConversation:g,otherUserFbid:(j||(j=d("I64"))).to_string(p.threadKey),otherUserName:f.toString(),otherUserSecondaryName:i,otherUserShortName:o};g=c("useMWXLazyDialog")(n);var s=g[0],t=function(){return s(r)};return k.jsxs(c("MWComposerDisclosureContainer.react"),{testid:void 0,children:[k.jsx(c("MDSTextPairing.react"),{body:k.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"body4",children:e}),headline:a,level:4,textAlign:"center"}),k.jsx(c("MWVerticalRhythm"),{height:5}),k.jsx(c("MWXPressable.react"),{onPress:function(){d("MessageRequestsLog").logDenialOptionsTapped(p);return t()},overlayDisabled:!0,ref:q,testid:void 0,children:k.jsx(c("MWXText.react"),{color:"primary",type:"bodyLink4",children:b})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWReQLComposerUserMessageRequestInfoText.react",["fbt","I64","LSContactTypeExact","LSIntEnum","MWContactDetails","MWLSChatComposerUserMessageRequestInfoText.react","MWLSContactTypeExactUtils","MessageRequestsLog","ReQL","ReQLSuspense","isStringNullOrEmpty","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=j||(j=d("react")),n=j.useEffect;function a(a){var b,e,g=a.onDeleteConversation,j=a.thread;a=(l||(l=d("I64"))).to_string(j.threadKey);var o=a,p=(i||(i=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(p.tables.contacts).getKeyRange((l||(l=d("I64"))).of_string(o))},[o,p],f.id+":37");b=(b=d("MWContactDetails").getName(a))!=null?b:h._("__JHASH__AaE4hJExM0x__JHASH__");e=(e=d("MWContactDetails").getShortName(a))!=null?e:h._("__JHASH__AaE4hJExM0x__JHASH__");var q=d("MWContactDetails").getSecondaryName(a);q=c("isStringNullOrEmpty")(q)?void 0:q;var r=a!=null?d("MWLSContactTypeExactUtils").isIgContact(a.contactTypeExact):!1;a=(a==null?void 0:a.contactTypeExact)!=null&&(l||(l=d("I64"))).equal(a.contactTypeExact,(k||(k=d("LSIntEnum"))).ofNumber(c("LSContactTypeExact").MESSENGER_ONLY_NOT_ALLOWED_ON_FB));n(function(){d("MessageRequestsLog").logMessageRequestInfoShown(j)},[j]);return m.jsx(c("MWLSChatComposerUserMessageRequestInfoText.react"),{isIgContact:r,isMSplitContact:a,name:b,onDeleteConversation:g,secondaryName:q,shortName:e,thread:j})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMessageRequestDeleteConversation",["Int64Hooks","LSFactory","LSIntEnum","LSOptimisticRemoveThreadStoredProcedure","LSThreadRemoveType","MWChatStateActions","MWChatStateV2.react","MessageRequestsLog","promiseDone","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=(i||(i=c("useReStore")))(),e=d("MWChatStateV2.react").useDispatch();return d("Int64Hooks").useCallbackInt64(function(){d("MessageRequestsLog").logActionConfirmed(a,8),c("promiseDone")(b.runInTransaction(function(b){return c("LSOptimisticRemoveThreadStoredProcedure")(c("LSFactory")(b),{removeType:(h||(h=d("LSIntEnum"))).ofNumber(c("LSThreadRemoveType").DELETE_THREAD),threadKey:a.threadKey})},"readwrite"),function(){return e(d("MWChatStateActions").closeTabByThreadKey(Date.now(),a.threadKey))})},[b,a,e])}g["default"]=a}),98);
__d("useMessageRequestLeaveGroup",["Int64Hooks","LSFactory","LSOptimisticRemoveParticipantsFromGroupThreadStoredProcedure","LSVec","MWPActor.react","promiseDone","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=(h||(h=c("useReStore")))(),e=d("MWPActor.react").useActor();return d("Int64Hooks").useCallbackInt64(function(){c("promiseDone")(b.runInTransaction(function(b){return c("LSOptimisticRemoveParticipantsFromGroupThreadStoredProcedure")(c("LSFactory")(b),{contactIds:c("LSVec").ofArray([e]),threadKey:a})},"readwrite"))},[e,b,a])}g["default"]=a}),98);
__d("MWV2ComposerDisclosure.react",["CometErrorBoundary.react","CometPlaceholder.react","I64","JSResourceForInteraction","LSAuthorityLevel","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWSecureComposerUtils","MWChatComposerVoiceIndicator.react","MWComposerXacDisclosureRelay.react","MWLSContactTypeExactUtils","MWLSThreadDisplayContext","MWPActor.react","MWReQLChatComposerGroupMessageRequestInfoText.react","MWReQLComposerUserMessageRequestInfoText.react","MessageRequestsLog","MessengerWebUXLogger","ReQL","ReQLSuspense","cr:3912","cr:5825","gkx","lazyLoadComponent","react","useMessageRequestDeleteConversation","useMessageRequestLeaveGroup","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=k||(k=d("react")),m=k.useMemo,n=b("cr:3912")==null?function(a,b){return!1}:b("cr:3912").isOneOnOneMessageRequestV2,o=c("lazyLoadComponent")(c("JSResourceForInteraction")("MAWComposerUserMessageRequestInfoText.react").__setRef("MWV2ComposerDisclosure.react"));function p(a){var e=a.forceVoiceIndicatorShown_TEST_ONLY,g=a.thread,k=(h||(h=c("useReStore")))();a=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();a=a==="Inbox"?"large":"small";var p=c("useMessageRequestLeaveGroup")(g.threadKey),q=g.threadType,r=c("useMessageRequestDeleteConversation")(g),s=d("LSMessagingThreadTypeUtil").isSecure(q),t=!s&&d("LSThreadBitOffset").has(21,g),u=d("MWPActor.react").useActor(),v=d("ReQLSuspense").useFirst(function(){return d("LSMessagingThreadTypeUtil").isOneToOne(g.threadType)?d("ReQL").mergeJoin(d("ReQL").fromTableAscending(k.tables.participants).getKeyRange(g.threadKey),d("ReQL").fromTableAscending(k.tables.contacts)).filter(function(a){a[0];a=a[1];return!(i||(i=d("I64"))).equal(a.id,u)}):d("ReQL").empty()},[k,g.threadKey,g.threadType,u],f.id+":77"),w=m(function(){return s?n(g,v):!1},[g,v,s]),x=d("LSMessagingThreadTypeUtil").isGroup(q);q=v!=null?d("MWLSContactTypeExactUtils").isIgContact(v[1].contactTypeExact):!1;var y=function(){v!=null&&d("MAWSecureComposerUtils").onDeleteThread(k,g,v[1].id)},z=c("MessengerWebUXLogger").useInteractionLogger();return l.jsxs(l.Fragment,{children:[l.jsx(c("MWChatComposerVoiceIndicator.react"),{forceShown_TEST_ONLY:e}),(w||t)&&b("cr:5825")!=null?l.jsx(b("cr:5825"),{isGroup:x,onDeleteConversation:s?y:r,onLeaveGroup:function(){if(!s&&x){d("MessageRequestsLog").logActionConfirmed(g,10);z==null?void 0:z({eventName:"leave_group",threadKey:g.threadKey,threadType:g.threadType});return p()}},otherUserContact:v==null?void 0:v[1],thread:g}):w?l.jsx(o,{size:"large",thread:g}):t?x?l.jsx(c("MWReQLChatComposerGroupMessageRequestInfoText.react"),{onDeleteConversation:r,onLeaveGroup:function(){d("MessageRequestsLog").logActionConfirmed(g,10);z==null?void 0:z({eventName:"leave_group",threadKey:g.threadKey,threadType:g.threadType});return p()}}):l.jsx(c("MWReQLComposerUserMessageRequestInfoText.react"),{onDeleteConversation:r,thread:g}):!s&&q&&c("gkx")("23418")?l.jsx(c("MWComposerXacDisclosureRelay.react"),{isThreadInNullState:(i||(i=d("I64"))).lt(g.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE)),size:a}):null]})}p.displayName=p.name+" [from "+f.id+"]";function a(a){var b=a.forceVoiceIndicatorShown_TEST_ONLY;a=a.thread;return l.jsx(c("CometErrorBoundary.react"),{fallback:function(){return null},children:l.jsx(c("CometPlaceholder.react"),{fallback:null,children:l.jsx(p,{forceVoiceIndicatorShown_TEST_ONLY:(b=b)!=null?b:!1,thread:a})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ErrorComposer.react",["fbt","MDSTextPairing.react","MWXText.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(){return j.jsx("div",{className:"xcrg951 x8cjs6t x13fuv20 x178xt8z x1a8lsjc xl521sm x9mfa4r x889kno",children:j.jsx(c("MDSTextPairing.react"),{headline:h._("__JHASH__viCgEPmOyD5__JHASH__"),headlineColor:"secondary",level:4,meta:j.jsx(c("MWXText.react"),{numberOfLines:2,type:"meta3",children:h._("__JHASH__FrvKCKsD46D__JHASH__")}),reduceEmphasis:!0,textAlign:"center"})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXACSunsettedComposer.react",["fbt","BaseTheme.react","MWXLink.react","MWXText.react","MWXTextPairing.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={dark:{"primary-text":"#e4e6eb","secondary-text":"#b0b3b8"},light:{"primary-text":"rgba(0, 0, 0, 0.7)","secondary-text":"rgba(0, 0, 0, 0.5)"},type:"VARIABLES"};function a(){var a=h._("__JHASH__E5yAiYeCVHB__JHASH__",[h._param("=Learn more",j.jsx(c("MWXLink.react"),{href:"https://www.facebook.com/help/messenger-app/619453488713104?ref=learn_more",children:j.jsx(c("MWXText.react"),{color:"blueLink",type:"bodyLink4",children:h._("__JHASH__W_KwwnBzw9K__JHASH__")})}))]);return j.jsx("div",{className:"x1exxf4d x13fuv20 x178xt8z xqy66fx xc73u3c xx6bls6 x5ib6vp",children:j.jsx(c("BaseTheme.react"),{config:k,children:j.jsx(c("MWXTextPairing.react"),{body:j.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"body4",children:a}),level:4,textAlign:"center"})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessagingCommunityChatsPauseStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({ACTIVE:1,PAUSED_BY_SOFT_ACTION:2,PAUSED_BY_ADMINLESS_STANDALONE_COMMUNITY:3});f["default"]=a}),66);
__d("useMWLSSprocFetchProactiveWarningIfNeeded",["I64","Int64Hooks","LSFactory","LSFetchProactiveWarningsIfNeededStoredProcedure","MWThreadKey.react","promiseDone","useMWLSProactiveWarningTables","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b,e){var f=(i||(i=c("useReStore")))(),g=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),j=c("useMWLSProactiveWarningTables")(),k=j.banner;j=j.pwSettings;j=k!=null&&j!=null?(h||(h=d("I64"))).equal(k.bannerId,(h||(h=d("I64"))).of_string("7")):!1;a=a&&!j?e?!0:b!=null?(h||(h=d("I64"))).equal((k=b.proactiveWarningDismissTime)!=null?k:(h||(h=d("I64"))).zero,(h||(h=d("I64"))).zero):!1:!1;var l=b!=null&&a;d("Int64Hooks").useEffectInt64(function(){l&&c("promiseDone")(f.runInTransaction(function(a){return c("LSFetchProactiveWarningsIfNeededStoredProcedure")(c("LSFactory")(a),{threadKey:g})},"readwrite"))},[g,a,l,f])}g["default"]=a}),98);
__d("useMWMarketplaceThreadOtherUser",["I64","LSIntEnum","MWPActor.react","MessagingThreadSubtype","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a){var b=a.thread,e=(j||(j=c("useReStore")))(),g=d("MWPActor.react").useActor();return d("ReQLSuspense").useFirst(function(){return b.threadSubtype!=null&&(h||(h=d("I64"))).equal(b.threadSubtype,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingThreadSubtype").MARKETPLACE_THREAD))?d("ReQL").mergeJoin(d("ReQL").fromTableAscending(e.tables.participants).getKeyRange(b.threadKey),d("ReQL").fromTableAscending(e.tables.contacts)).filter(function(a){a[0];a=a[1];return!(h||(h=d("I64"))).equal(a.id,g)}).map(function(a){a[0];a=a[1];return a}):d("ReQL").empty()},[b.threadKey,e,g,b.threadSubtype],f.id+":31")}g["default"]=a}),98);
__d("useMWPComposerFileDropzoneRegisterHandler",["MWV2FileDropzone.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useContext,j=b.useEffect;function a(a){var b=i(d("MWV2FileDropzone.react").mWV2FileDropzoneContext);j(function(){if(a){b.current.enabled=!1;b.current.handler=null;return function(){b.current.enabled=!0,b.current.handler=null}}},[b,a])}g["default"]=a}),98);
__d("MWPComposerGating.react",["CometErrorBoundary.react","CometPlaceholder.react","I64","JSResourceForInteraction","LSAuthorityLevel","LSCommunityPublicGroupParticipationApprovalStatus","LSContactBitOffset","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWLoadingStateOutstandingUIReadyOfflineQueueSelector","MWCMThreadTypes.react","MWCMisStandAloneCommunity","MWComposerPlaceholder.react","MWIsThreadDisabled","MWJoinChannelComposerPlaceholder.react","MWPActor.react","MWPArmadilloLoadingStateMessage.react","MWPSafetyNoticesChatBlockedComposer.react","MWPThreadIsPage.react","MWV2ComposerDisclosure.react","MWV2ErrorComposer.react","MWXACSunsettedComposer.react","MessagingCommunityChatsPauseStatus","MessagingCommunityType","ReQL","ReQLSuspense","RecoverableViolation.react","ServerTime","ThreadStatus","gkx","justknobx","lazyLoadComponent","nullthrows","qex","react","useCommunityFolder","useMAWOfflineQueueLoadingIndicator","useMWLSSprocFetchProactiveWarningIfNeeded","useMWMarketplaceThreadOtherUser","useMWPComposerFileDropzoneRegisterHandler","useMWProactiveWarningPayload","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=i||(i=d("react"));b=i;e=b.memo;var m=b.useMemo,n=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPLeftGroupComposer.react").__setRef("MWPComposerGating.react")),o=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPCMGroupMutedComposer.react").__setRef("MWPComposerGating.react")),p=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPCMGroupBroadcastComposer.react").__setRef("MWPComposerGating.react")),q=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWJoinChannelComposer.react").__setRef("MWPComposerGating.react")),r=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWBroadcastChannelMemberComposer.react").__setRef("MWPComposerGating.react")),s=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWCMPausedCommunityComposer.react").__setRef("MWPComposerGating.react")),t=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWCMPausedChatComposer.react").__setRef("MWPComposerGating.react")),u=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWCMChatPreviewComposer.react").__setRef("MWPComposerGating.react")),v=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPCMGroupRequestToParticipateComposer.react").__setRef("MWPComposerGating.react")),w=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPCMGroupPendingRequestToParticipateComposer.react").__setRef("MWPComposerGating.react")),x=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPTakenDownThreadComposer.react").__setRef("MWPComposerGating.react")),y=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPCannotReplyFallbackComposer.react").__setRef("MWPComposerGating.react")),z=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWCMComposerNudgeText.react").__setRef("MWPComposerGating.react")),A=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWDisableMarketplaceDMAThreadComposer.react").__setRef("MWPComposerGating.react")),B=e(function(a){var b,e=a.renderComposer;a=a.thread;var f=a.cannotReplyReason==="viewer_not_subscribed",g=a.cannotReplyReason==="broadcast_chat_read_only",h=a.threadStatus!=null&&(j||(j=d("I64"))).equal(a.threadStatus,(j||(j=d("I64"))).of_int32(c("ThreadStatus").PAUSED)),i=a.needsAdminApprovalForNewParticipant===!0;i=d("MWCMThreadTypes.react").isUnjoinedCMThread(a.threadType)&&!i&&c("qex")._("71")===!0;var m=d("LSThreadBitOffset").has(192,a),B=c("useMWMarketplaceThreadOtherUser")({thread:a}),C=a.memberCount!=null?(j||(j=d("I64"))).to_int32(a.memberCount):0;C=d("MWCMThreadTypes.react").isMarketplaceThread(a.threadSubtype)&&!d("LSThreadBitOffset").has(213,a)&&C===2&&(B==null||d("LSContactBitOffset").has(88,B));B=c("useCommunityFolder")(a);var D=c("MWCMisStandAloneCommunity")(B==null?void 0:B.communityType);b=(j||(j=d("I64"))).to_int32((b=B==null?void 0:B.sendsBlockedUntil)!=null?b:(j||(j=d("I64"))).zero)*1e3;b=b<0||b>d("ServerTime").getMillis();var E=c("MWIsThreadDisabled")(a.takedownState),F=(B==null?void 0:B.fbGroupUserParticipationApprovalStatus)!=null&&(j||(j=d("I64"))).equal(B.fbGroupUserParticipationApprovalStatus,(k||(k=d("LSIntEnum"))).ofNumber(c("LSCommunityPublicGroupParticipationApprovalStatus").PARTICIPATION_REQUEST_REQUIRED)),G=(B==null?void 0:B.fbGroupUserParticipationApprovalStatus)!=null&&(j||(j=d("I64"))).equal(B.fbGroupUserParticipationApprovalStatus,(k||(k=d("LSIntEnum"))).ofNumber(c("LSCommunityPublicGroupParticipationApprovalStatus").PARTICIPATION_REQUEST_PENDING)),H=(B==null?void 0:B.pauseStatus)!=null&&(j||(j=d("I64"))).equal(B.pauseStatus,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingCommunityChatsPauseStatus").PAUSED_BY_SOFT_ACTION))&&c("gkx")("8557");if(E)return l.jsx(c("CometPlaceholder.react"),{fallback:l.jsx(c("MWComposerPlaceholder.react"),{height:35}),children:l.jsx(x,{threadType:a.threadType})});else if(H&&!D)return l.jsx(c("CometPlaceholder.react"),{fallback:l.jsx(c("MWComposerPlaceholder.react"),{height:35}),children:l.jsx(s,{communityId:B==null?void 0:B.folderId,groupId:B==null?void 0:B.fbGroupId,threadKey:a.threadKey})});else if(h)return l.jsx(c("CometPlaceholder.react"),{fallback:l.jsx(c("MWComposerPlaceholder.react"),{height:35}),children:l.jsx(t,{canPauseChat:d("LSThreadBitOffset").has(154,a),shouldUseChannelTerminology:d("LSMessagingThreadTypeUtil").isSocialChannel(a.threadType),threadKey:a.threadKey})});else if(i){return l.jsx(c("CometPlaceholder.react"),{fallback:l.jsx(c("MWComposerPlaceholder.react"),{height:64}),children:l.jsx(u,{communityType:(E=B==null?void 0:B.communityType)!=null?E:(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingCommunityType").FB_COMMUNITY),isCommunityMember:(H=B==null?void 0:B.isMember)!=null?H:!1,thread:a})})}else if(d("LSMessagingThreadTypeUtil").isUnjoinedDiscoverablePublicBroadcastChannel(a.threadType))return l.jsx(c("CometPlaceholder.react"),{fallback:l.jsx(d("MWJoinChannelComposerPlaceholder.react").MWJoinChannelComposerPlaceholder,{channelType:d("MWJoinChannelComposerPlaceholder.react").ChannelType.Broadcast,threadKey:a.threadKey}),children:l.jsx(q,{channelType:d("MWJoinChannelComposerPlaceholder.react").ChannelType.Broadcast,thread:a})});else if(d("LSMessagingThreadTypeUtil").isSocialChannelUnjoined(a.threadType))return l.jsx(c("CometPlaceholder.react"),{fallback:l.jsx(d("MWJoinChannelComposerPlaceholder.react").MWJoinChannelComposerPlaceholder,{channelType:d("MWJoinChannelComposerPlaceholder.react").ChannelType.Social,threadKey:a.threadKey}),children:l.jsx(q,{channelType:d("MWJoinChannelComposerPlaceholder.react").ChannelType.Social,thread:a})});else if(m)return l.jsx(c("CometPlaceholder.react"),{fallback:l.jsx(c("MWComposerPlaceholder.react"),{height:99}),children:l.jsx(c("MWXACSunsettedComposer.react"),{})});else if(f)return l.jsx(c("CometPlaceholder.react"),{fallback:l.jsx(c("MWComposerPlaceholder.react"),{height:99}),children:l.jsx(n,{groupId:B==null?void 0:B.fbGroupId,thread:a})});else if(d("MWCMThreadTypes.react").isBroadcastThread(a.threadType)&&g)return l.jsx(c("CometPlaceholder.react"),{fallback:l.jsx(c("MWComposerPlaceholder.react"),{height:55}),children:l.jsx(p,{isBroadcastChatsReactionsEnabled:d("LSThreadBitOffset").has(139,a)})});else if(d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(a.threadType)&&g)return l.jsx(c("CometPlaceholder.react"),{fallback:l.jsx(c("MWComposerPlaceholder.react"),{height:48}),children:l.jsx(r,{isJoined:!0,threadKey:a.threadKey})});else if(b)return l.jsx(c("CometPlaceholder.react"),{fallback:l.jsx(c("MWComposerPlaceholder.react"),{height:141}),children:l.jsx(o,{})});else if(F)return l.jsx(c("CometPlaceholder.react"),{fallback:l.jsx(c("MWComposerPlaceholder.react"),{height:104}),children:l.jsx(v,{communityFolder:c("nullthrows")(B),thread:a})});else if(G)return l.jsx(c("CometPlaceholder.react"),{fallback:l.jsx(c("MWComposerPlaceholder.react"),{height:100}),children:l.jsx(w,{groupID:(j||(j=d("I64"))).to_string(c("nullthrows")(B==null?void 0:B.fbGroupId)),thread:a})});else if(a.cannotReplyReason!=null)return l.jsx(c("CometPlaceholder.react"),{fallback:l.jsx(c("MWComposerPlaceholder.react"),{height:35}),children:l.jsx(y,{})});else if(c("justknobx")._("1978")&&C)return l.jsx(c("CometPlaceholder.react"),{fallback:l.jsx(c("MWComposerPlaceholder.react"),{height:35}),children:l.jsx(A,{})});else return l.jsxs(l.Fragment,{children:[d("MWCMThreadTypes.react").isBroadcastThread(a.threadType)&&!g?l.jsx(c("CometPlaceholder.react"),{fallback:null,children:l.jsx(z,{thread:a})}):null,l.jsx(c("MWV2ComposerDisclosure.react"),{thread:a}),e()]})}),C=e(function(a){var b=a.isMessengerInbox,e=a.renderComposer;a=a.thread;e=l.jsxs(l.Fragment,{children:[l.jsx(c("MWV2ComposerDisclosure.react"),{thread:a}),e()]});var f=a.proactiveWarningDismissTime==null||(j||(j=d("I64"))).is_zero(a.proactiveWarningDismissTime),g=d("LSMessagingThreadTypeUtil").isSecure(a.threadType);b=b?null:f&&!g?l.jsx(c("MWPSafetyNoticesChatBlockedComposer.react"),{fallback:e,onClose:function(){},thread:a}):null;c("useMWLSSprocFetchProactiveWarningIfNeeded")(b!=null,a,!1);f=c("useMWProactiveWarningPayload")(void 0,a);return b!=null&&f!=null?l.jsx(c("CometPlaceholder.react"),{fallback:l.jsx(c("MWComposerPlaceholder.react"),{height:35}),children:b}):e});function D(a){var b=a.configurations,e=a.isMessengerInbox,g=a.renderComposer,i=a.thread,n=(h||(h=c("useReStore")))(),o=d("MWPActor.react").useActor(),p=(j||(j=d("I64"))).equal(o,i.threadKey),q=d("ReQLSuspense").useArray(function(){return d("LSMessagingThreadTypeUtil").isOneToOne(i.threadType)?d("ReQL").mergeJoin(d("ReQL").fromTableAscending(n.tables.participants).getKeyRange(i.threadKey),d("ReQL").fromTableAscending(n.tables.contacts)).map(function(a){a[0];a=a[1];return a}):d("ReQL").empty()},[n,i.threadKey,i.threadType],f.id+":484");a=m(function(){return q.find(function(a){return p||q.length===1&&(j||(j=d("I64"))).equal(a.id,o)||!(j||(j=d("I64"))).equal(a.id,o)})},[o,p,q]);var r=d("LSMessagingThreadTypeUtil").isSecure(i.threadType),s=c("useMAWOfflineQueueLoadingIndicator")(!1,i,d("MAWLoadingStateOutstandingUIReadyOfflineQueueSelector").outstandingUIReadyOfflineQueueSelector);r=r&&s;s=b.find(function(a){return a!=null});b=s!=null;c("useMWPComposerFileDropzoneRegisterHandler")(b);return l.jsxs(l.Fragment,{children:[r?l.jsx(c("MWPArmadilloLoadingStateMessage.react"),{threadKey:i.threadKey}):null,b?s:d("LSMessagingThreadTypeUtil").isOneToOne(i.threadType)?a!=null?l.jsx(C,{isMessengerInbox:e,otherUser:a,renderComposer:g,thread:i}):(j||(j=d("I64"))).lt(i.authorityLevel,(k||(k=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))?null:l.jsx(c("RecoverableViolation.react"),{errorMessage:"Missing contact row",projectName:"messenger_comet"}):l.jsx(B,{renderComposer:g,thread:i})]})}D.displayName=D.name+" [from "+f.id+"]";function a(a){var b=a.configurations,e=a.isMessengerInbox,f=a.renderComposer;a=a.thread;return l.jsx(c("CometErrorBoundary.react"),{fallback:function(a){return l.jsx(c("MWV2ErrorComposer.react"),{})},children:l.jsx(d("MWPThreadIsPage.react").Provider,{threadKey:a.threadKey,children:l.jsx(D,{configurations:b,isMessengerInbox:(b=e)!=null?b:!1,renderComposer:f,thread:a})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ComposerEditView.react",["fbt","ix","CometErrorBoundary.react","MAWEditMessageContext.react","MWXIcon.react","MWXText.react","fbicon","logMAWEditMessage","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react")),l=j.useContext;function a(a){var b=a.actorID,e=a.messageId,f=a.threadKey,g=a.threadType;a=l(d("MAWEditMessageContext.react").Context);var j=a.setEditMessageData,m=h._("__JHASH__36XeYdlCuO8__JHASH__");return k.jsxs("div",{className:"x1cy8zhl xcrg951 x8cjs6t x13fuv20 x178xt8z x78zum5 x1qughib xg8j3zb x14uny0o xvpee5o xqy66fx","data-testid":void 0,children:[k.jsx(c("CometErrorBoundary.react"),{fallback:function(){return k.jsx(c("MWXText.react"),{type:"body4",children:m})},children:k.jsx(c("MWXText.react"),{type:"body4",children:m})}),k.jsx(c("MWXIcon.react"),{"aria-label":h._("__JHASH__NFQuJJERXoJ__JHASH__"),color:"primary",icon:d("fbicon")._(i("478231"),12),onPress:function(){j(null),c("logMAWEditMessage")(g,f,e,b,92)}})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMAWGetSendEditActionForSecure",["MAWBridgeSendAndReceive","MAWDbMsg","MAWExternalId","MAWJobDefinitions","MAWMiActOnActThreadReady","MAWTimedJob","WAJobOrchestratorTypes","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useCallback;function a(){var a=(h||(h=c("useReStore")))();return j(function(b,e,f){if(b==null||e==null)return;var g=d("MAWDbMsg").toMsgId(e);if(g==null)return;c("promiseDone")(d("MAWMiActOnActThreadReady").onActThreadReady(a.tables,b,"MWV2ComposerEditContainer.react",function(a,b,c){return d("MAWBridgeSendAndReceive").sendAndReceive("backend","getProtocolMsgIdByMsgId",{msgId:g}).then(function(a){if(a!=null)return d("MAWTimedJob").TimedUIJobStarters.waitUntilPersisted(d("MAWJobDefinitions").jobSerializers.sendEditMsg({editMsgContent:{content:f,mentionedJids:[]},originalProtocolMsgId:a},d("MAWExternalId").generateExternalId(),{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION}))})}))},[a])}g["default"]=a}),98);
__d("useMAWGetSendEditActionforOpen",["LSFactory","LSOptimisticEditMessageStoredProcedure","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useCallback;function a(){var a=(h||(h=c("useReStore")))();return j(function(b,d){return c("promiseDone")(a.runInTransaction(function(a){return c("LSOptimisticEditMessageStoredProcedure")(c("LSFactory")(a),{messageId:b,text:d})},"readwrite"))},[a])}g["default"]=a}),98);
__d("useMWEditMessageButtonKeyCommands",["fbt","CometKeys","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||d("react")).useMemo;function a(a){return j(function(){return[{command:{key:c("CometKeys").ENTER},description:h._("__JHASH__nNfxT3Tz2qU__JHASH__"),handler:function(){return a()},triggerFromInputs:!0}]},[a])}g["default"]=a}),98);
__d("MWV2ComposerEditContainer.react",["fbt","CometComponentWithKeyCommands.react","CometTextArea.react","LSMessagingThreadTypeUtil","MAWEditMessageContext.react","MAWVault","MWPActor.react","MWV2ComposerEditView.react","MWXCircleButton.react","MWXIconCheckmarkCircle","MWXRow.react","MWXRowItem.react","MessengerWebUXLogger","ReQL","ReQLSuspense","logMAWEditMessage","react","useMAWGetSendEditActionForSecure","useMAWGetSendEditActionforOpen","useMWEditMessageButtonKeyCommands","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));b=j;var l=b.useContext,m=b.useState;function a(a){var b=a.editMessageData,e=a.threadType,g=(i||(i=c("useReStore")))();a=l(d("MAWEditMessageContext.react").Context);var j=a.setEditMessageData,n=d("MWPActor.react").useActor(),o=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(g.tables.messages).getKeyRange(b==null?void 0:b.threadKey,b==null?void 0:b.timestampMs,b==null?void 0:b.messageId)},[g,b==null?void 0:b.messageId,b==null?void 0:b.threadKey,b==null?void 0:b.timestampMs],f.id+":58");a=m(d("MAWVault").unvault((a=o==null?void 0:o.text)!=null?a:""));var p=a[0],q=a[1],r=c("useMAWGetSendEditActionforOpen")(),s=c("useMAWGetSendEditActionForSecure")(),t=c("MessengerWebUXLogger").useInteractionLogger();a=d("MAWVault").unvault((a=o==null?void 0:o.text)!=null?a:"").trim();var u=p.trim(),v=u.length!==0&&u!==a;a=function(){if(b!=null&&!v)return;d("LSMessagingThreadTypeUtil").isSecure(e)?s(o==null?void 0:o.threadKey,o==null?void 0:o.messageId,u):r(b.messageId,u);t==null?void 0:t({eventName:"composer_edit_message"});c("logMAWEditMessage")(e,b.threadKey,b.messageId,n,90);j(null)};var w=c("useMWEditMessageButtonKeyCommands")(a),x=h._("__JHASH__645ugDJYeSD__JHASH__");return k.jsxs(c("CometComponentWithKeyCommands.react"),{commandConfigs:w,children:[k.jsx(c("MWV2ComposerEditView.react"),{actorID:n,messageId:b.messageId,threadKey:b.threadKey,threadType:e}),k.jsxs(c("MWXRow.react"),{paddingVertical:12,children:[k.jsx(c("MWXRowItem.react"),{expanding:!0,children:k.jsx(c("CometTextArea.react"),{expandable:!0,label:x,labelIsHidden:!0,maxRows:6,onChange:function(a){q(a.target.value)},rows:1,style:{backgroundColor:"var(--comment-background)",backgroundImage:"none",borderRadius:"20px",borderWidth:0,fontWeight:"400"},testid:void 0,value:p})}),k.jsx(c("MWXRowItem.react"),{verticalAlign:"center",children:k.jsx("div",{className:"xykv574 xifccgj",children:k.jsx(c("MWXCircleButton.react"),{color:"blueLink",disabled:!v,icon:c("MWXIconCheckmarkCircle"),label:x,onPress:a,size:32,testid:void 0,type:"deemphasized"})})})]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatReplyText.react",["fbt","MWChatTextFormatting","MWChatTextTransform","MWXMessageTextWithEntities.react","cr:2472","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var e=a.isHotLike;e=e===void 0?!1:e;var f=a.ranges,g=a.text;a=a.transformEmoticons;a=a===void 0?!0:a;g=b("cr:2472")==null?g:b("cr:2472").unvault(g);var i=h._("__JHASH__fJLp3hO2Ffq__JHASH__").toString();return j.jsx("div",{className:"xi81zsa",dir:"auto",children:j.jsx(c("MWXMessageTextWithEntities.react"),{maxLength:120,maxLines:2,ranges:f,renderers:{MessengerTextFormatting:[d("MWChatTextFormatting").replyRenderer]},text:e?i:g,transforms:a?d("MWChatTextTransform").epdTextTransformsNoVault:[],truncationStyle:"ellipsis-only",withParagraphs:!1})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ComposerReplyView.react",["fbt","ix","CometErrorBoundary.react","CometTriggerAccessibilityAlertContext","I64","LSContactGenderToGenderConst","LSHotEmojiSize","LSIntEnum","LSMessagingThreadTypeUtil","LsFalcoEventEntryPoint","LsReplyRenderedFalcoEvent","MWCMIsAnyCMThread","MWChatReplyText.react","MWPActor.react","MWPReplyContext.react","MWXIcon.react","MWXText.react","MWXTextPairing.react","MessagingAttachmentType","ReQL","ReQLSuspense","cr:2472","cr:6796","fbicon","getFBTSafeGenderFromGenderConst","react","useReStore"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l,m,n=k||(k=d("react"));e=k;var o=e.useContext,p=e.useEffect;function q(a,e,f){var g=a.text;g=g!=null?b("cr:2472")==null?g:b("cr:2472").unvault(g):"";g=g==="\ud83d\udc4d"&&((l||(l=d("I64"))).equal((g=a.hotEmojiSize)!=null?g:(l||(l=d("I64"))).neg_one,(m||(m=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").SMALL))||(l||(l=d("I64"))).equal((g=a.hotEmojiSize)!=null?g:(l||(l=d("I64"))).neg_one,(m||(m=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").MEDIUM))||(l||(l=d("I64"))).equal((g=a.hotEmojiSize)!=null?g:(l||(l=d("I64"))).neg_one,(m||(m=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").LARGE)))&&e;if(a.isUnsent)return h._("__JHASH__OtyP2J0Nwkd__JHASH__");if(a.text!=null&&a.text!==""){return n.jsx(c("MWChatReplyText.react"),{isHotLike:g,text:(e=a.text)!=null?e:h._("__JHASH__C1Hm6KH3mNE__JHASH__")})}if(f!=null){if((l||(l=d("I64"))).equal(f==null?void 0:f.attachmentType,(m||(m=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE)))return h._("__JHASH__vuq_ksOZBHO__JHASH__");if((l||(l=d("I64"))).equal(f==null?void 0:f.attachmentType,(m||(m=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").STICKER)))return h._("__JHASH__7zoxdliwH6N__JHASH__");if((l||(l=d("I64"))).equal(f==null?void 0:f.attachmentType,(m||(m=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO)))return h._("__JHASH__d9ky9I-E6BP__JHASH__");return(l||(l=d("I64"))).equal(f==null?void 0:f.attachmentType,(m||(m=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE))?h._("__JHASH__i96Qg8bFARm__JHASH__"):h._("__JHASH__L554Fq7JwGo__JHASH__")}return h._("__JHASH__C1Hm6KH3mNE__JHASH__")}function r(a,b,d,e){if(a)return h._("__JHASH__iW_IRrZDexS__JHASH__");if(b!=null){return h._("__JHASH__O5URXTVzEEM__JHASH__",[h._param("name",n.jsx(c("MWXText.react"),{type:"headlineEmphasized5",children:e?b.name:(e=(a=d)!=null?a:b.firstName)!=null?e:b.name}),[1,c("getFBTSafeGenderFromGenderConst")(c("LSContactGenderToGenderConst")(b.gender))])])}return h._("__JHASH__Y3usjYXlLYK__JHASH__",[h._param("Placeholder for an unknown user","Facebook User")])}function s(a){var b=a.isSecureThread,e=a.message;a=a.useContactFullname;var g=(j||(j=c("useReStore")))(),h=d("MWPActor.react").useActor(),i=(l||(l=d("I64"))).equal(e.senderId,h),k=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(g.tables.contacts).getKeyRange(e.senderId)},[g,e.senderId],f.id+":218");h=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(g.tables.attachments).getKeyRange(e.threadKey,e.messageId)},[g,e.messageId,e.threadKey],f.id+":223");var m=d("ReQLSuspense").useFirst(function(){return k!=null&&!i?d("ReQL").fromTableAscending(g.tables.threads).getKeyRange(e.threadKey).map(function(a){var b=a.parentThreadKey;a=a.threadType;if(c("MWCMIsAnyCMThread")(a))return d("ReQLSuspense").first(d("ReQL").fromTableAscending(g.tables.community_folders).getKeyRange(b).map(function(a){a=a.folderId;return d("ReQLSuspense").first(d("ReQL").fromTableAscending(g.tables.contextual_profile_v1.index("associatedEntityIdAndOwner")).getKeyRange(a,k.id).map(function(a){return a.profileName}),f.id+":242")}),f.id+":238");else{a=d("ReQLSuspense").first(d("ReQL").fromTableAscending(g.tables.participants).getKeyRange(e.threadKey,k.id),f.id+":256");return(b=a==null?void 0:a.nickname)!=null?b:null}}):d("ReQL").empty()},[g,e.threadKey,k,i],f.id+":232");p(function(){c("LsReplyRenderedFalcoEvent").log(function(){return{funnel:{entry_point:d("LsFalcoEventEntryPoint").messageActions}}})},[]);b=q(e,b,h);h=r(i,k,m,a);return n.jsx("div",{className:"xmo9yow",children:n.jsx(c("MWXTextPairing.react"),{body:b,headline:h,level:4})})}s.displayName=s.name+" [from "+f.id+"]";function t(a){var e=a.isSecureThread;e=e===void 0?!1:e;var f=a.message;a=a.useContactFullname;var g=o(d("MWPReplyContext.react").MWPReplyContext),j=g.clearReply,k=o(c("CometTriggerAccessibilityAlertContext"));g=(g=b("cr:6796")(!0))==null?void 0:g.backgroundColor;return n.jsxs("div",{className:"x1cy8zhl xcrg951 x8cjs6t x13fuv20 x178xt8z x78zum5 x1qughib xg8j3zb x14uny0o xvpee5o x889kno","data-testid":void 0,style:g!=null?{backgroundColor:g}:void 0,children:[n.jsx(c("CometErrorBoundary.react"),{fallback:function(){return n.jsx(c("MWXText.react"),{type:"headlineEmphasized4",children:h._("__JHASH__viMkwR52t0r__JHASH__")})},children:n.jsx(s,{isSecureThread:e,message:f,useContactFullname:a})}),n.jsx(c("MWXIcon.react"),{"aria-label":h._("__JHASH__jHl6Cj_8ioz__JHASH__"),color:"primary",icon:d("fbicon")._(i("478231"),12),onPress:function(){j(f.threadKey,!0),k(h._("__JHASH__I4cDESLQyuo__JHASH__").toString(),{assertive:!1})}})]})}t.displayName=t.name+" [from "+f.id+"]";function a(a){var b=a.messageId,e=a.messageTimestamp,g=a.thread;a=a.useContactFullname;a=a===void 0?!1:a;var h=(j||(j=c("useReStore")))(),i=d("LSMessagingThreadTypeUtil").isSecure(g.threadType),k=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(h.tables.messages).getKeyRange(g.threadKey,e,b)},[h,g.threadKey,b,e],f.id+":356");if(k!=null)return n.jsx(t,{isSecureThread:i,message:k,useContactFullname:a});else return null}a.displayName=a.name+" [from "+f.id+"]";g.MWV2ComposerReplyViewContainer=t;g.MWV2ComposerReplyView=a}),98);
__d("MWV2ChatHotlikeButton.react",["fbt","CometEmoji.react","EmojiRenderer","I64","LSHotEmojiSize","LSIntEnum","MWLikeSvgIcon.react","MWXPressable.react","MWXTooltip.react","StickerConstants","gkx","isStringNullOrEmpty","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=i||d("react"),m={customEmojiButtonFDS:{marginStart:"xsgj6o6",marginLeft:null,marginRight:null,marginEnd:"xw3qccf",paddingStart:"xcu9agk",paddingLeft:null,paddingRight:null,paddingEnd:"x2qib4z",paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",$$css:!0},customEmojiButtonMDS:{marginStart:"x1i64zmx",marginLeft:null,marginRight:null,marginEnd:"x1emribx",paddingStart:"xcu9agk",paddingLeft:null,paddingRight:null,paddingEnd:"x2qib4z",paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",$$css:!0},fillGrey:{fill:"xsrhx6k",$$css:!0},hotlikeButtonFDS:{marginStart:"xsgj6o6",marginLeft:null,marginRight:null,marginEnd:"xw3qccf",paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0},hotlikeButtonMDS:{marginStart:"x1i64zmx",marginLeft:null,marginRight:null,marginEnd:"x1emribx",paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0}},n=h._("__JHASH__OzQk4bc7gK8__JHASH__"),o=(j||(j=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").SMALL),p=(k||(k=d("I64"))).of_string(c("StickerConstants").HOT_LIKE_SMALL_STICKER_ID);function a(a){var b=a.customEmoji,e=a.disabled;e=e===void 0?!1:e;var f=a.onSendMessage;a=function(){!c("isStringNullOrEmpty")(b)?f(b,void 0,void 0,o,void 0,void 0,void 0,void 0,void 0,void 0):f(void 0,void 0,p,o,void 0,void 0,void 0,void 0,void 0,void 0)};if(!c("isStringNullOrEmpty")(b)){var g=h._("__JHASH__tAqfCk1edp7__JHASH__",[h._param("emoji",b)]),i=function(a){var e=d("EmojiRenderer").parse(b).map(function(a){return a.emoji});if(e.length!==1)return l.jsx("span",{children:b});e=e[0];return l.jsx(c("CometEmoji.react"),{emoji:e,size:a})},j=h._("__JHASH__CsSxx_HAT5f__JHASH__",[h._param("emoji",i(16))]);return l.jsx(c("MWXTooltip.react"),{align:"middle",label:n,position:"above",tooltip:j,children:l.jsx(c("MWXPressable.react"),{"aria-label":g,disabled:e,loggingEvent:"send_hot_like",onPress:a,overlayDisabled:e,overlayRadius:"50%",testid:void 0,xstyle:function(){return[c("gkx")("23219")?m.customEmojiButtonMDS:m.customEmojiButtonFDS]},children:i(20)})})}return l.jsx(c("MWXTooltip.react"),{align:"middle",position:"above",tooltip:n,children:l.jsx(c("MWXPressable.react"),{"aria-label":n,disabled:e,onPress:a,overlayDisabled:e,overlayRadius:"50%",testid:void 0,xstyle:function(){return[c("gkx")("23219")?m.hotlikeButtonMDS:m.hotlikeButtonFDS]},children:l.jsx(c("MWLikeSvgIcon.react"),{className:"xsrhx6k",color:"var(--chat-composer-button-color)",size:20})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ComposerMenuButtonTrigger.react",["fbt","MWChatChatButtonColorConstants","MWXPressable.react","MWXTooltip.react","gkx","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react"),l=h._("__JHASH__2kGg_y6m8FS__JHASH__"),m={buttonFDS:{flexShrink:"x2lah0s",marginStart:"xsgj6o6",marginLeft:null,marginRight:null,marginEnd:"xw3qccf",paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0},buttonMDS:{flexShrink:"x2lah0s",marginStart:"x1i64zmx",marginLeft:null,marginRight:null,marginEnd:"x1emribx",paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0}};function a(a){var b=a.color,e=a.contextRef,f=a.disabled;a=a.onShow;return k.jsx(c("MWXTooltip.react"),{forceInlineDisplay:!0,position:"above",tooltip:l,children:k.jsx(c("MWXPressable.react"),{disabled:f,label:l,onPress:a,overlayDisabled:f,overlayRadius:"50%",ref:e,xstyle:function(){return[c("gkx")("23219")?m.buttonMDS:m.buttonFDS]},children:k.jsx("svg",{"aria-hidden":"true",className:(i||(i=c("stylex")))(d("MWChatChatButtonColorConstants").styles.strokeGrey),height:"20",viewBox:"0 0 24 18",width:"20",children:k.jsxs("g",{stroke:b,strokeLinecap:"round",strokeWidth:"2.5",children:[k.jsx("path",{d:"M1.5,1.5 H22.5"}),k.jsx("path",{d:"M1.5,9 H22.5"}),k.jsx("path",{d:"M1.5,16.5 H22.5"})]})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ComposerMenuButton.react",["JSResourceForInteraction","MWV2ComposerMenuButtonTrigger.react","MWXLazyPopoverTrigger.react","emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.color,d=a.disabled,e=d===void 0?!1:d;d=a.editor;var f=a.hasPersistentMenu,g=a.onSendMessage;a=a.threadKey;return i.jsx(c("MWXLazyPopoverTrigger.react"),{align:"end",popoverProps:{editor:d,hasPersistentMenu:f,onClose:c("emptyFunction"),onSendMessage:g,threadKey:a},popoverResource:c("JSResourceForInteraction")("MWComposerCommandsMenu.react").__setRef("MWV2ComposerMenuButton.react"),children:function(a,d){return i.jsx(c("MWV2ComposerMenuButtonTrigger.react"),{color:b,contextRef:a,disabled:e,onShow:d})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWComposerPersistentMenuItemSelect",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(a){var b=a.onSendMessage;return i(function(a){var c=a.id;a=a.title;return b(a,void 0,void 0,void 0,void 0,void 0,void 0,void 0,c,void 0)},[b])}g["default"]=a}),98);
__d("MWV2ComposerPersistentMenuButton.react",["JSResourceForInteraction","MWV2ComposerMenuButtonTrigger.react","MWXLazyPopoverTrigger.react","emptyFunction","react","useMWComposerPersistentMenuItemSelect"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.color,d=a.disabled,e=d===void 0?!1:d;d=a.onSendMessage;a=c("useMWComposerPersistentMenuItemSelect")({onSendMessage:d});return i.jsx(c("MWXLazyPopoverTrigger.react"),{align:"end",popoverProps:{onClose:c("emptyFunction"),onSelect:a},popoverResource:c("JSResourceForInteraction")("LSComposerPersistentMenu.react").__setRef("MWV2ComposerPersistentMenuButton.react"),children:function(a,d){return i.jsx(c("MWV2ComposerMenuButtonTrigger.react"),{color:b,contextRef:a,disabled:e,onShow:d})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWComposerEndButtonsGroup.react",["MWV2ChatHotlikeButton.react","MWV2ComposerMenuButton.react","MWV2ComposerPersistentMenuButton.react","MWV2ComposerSendButton.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j="var(--chat-composer-button-color)";function a(a){var b=a.customEmoji,d=a.editor,e=a.hasPersistentMenu,f=a.hasStuffToSend,g=a.isVoiceRecorderOpen,h=a.onSendMessage,k=a.sendMessage,l=a.shouldHideHotLike,m=a.showCommands;a=a.threadKey;return g?null:f?i.jsx(c("MWV2ComposerSendButton.react"),{onPress:k}):m?i.jsx(c("MWV2ComposerMenuButton.react"),{color:j,editor:d,hasPersistentMenu:e,onSendMessage:h,threadKey:a}):e?i.jsx(c("MWV2ComposerPersistentMenuButton.react"),{color:j,onSendMessage:h}):l?i.jsx("span",{className:"x1e558r4 x150jy0e"}):i.jsx(c("MWV2ChatHotlikeButton.react"),{customEmoji:b,onSendMessage:h})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWComposerInnerButtonsGroup.react",["MWV2ComposerEmojiButton.react","cr:793","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={fds:{marginStart:"x16hk5td",marginLeft:null,marginRight:null,paddingBottom:"xjkvuk6",paddingEnd:"x150jy0e",paddingLeft:null,paddingRight:null,$$css:!0},innerButtons:{alignItems:"x6s0dn4",alignSelf:"xpvyfi4",display:"x78zum5",justifyContent:"xl56j7k",$$css:!0},mds:{marginStart:"x169t7cy",marginLeft:null,marginRight:null,$$css:!0}};function a(a){var d=a.editor,e=a.shouldUseMDS;a=a.threadKey;return j.jsxs("div",{className:(h||(h=c("stylex")))(k.innerButtons,e?k.mds:k.fds),children:[b("cr:793")!=null&&j.jsx(b("cr:793"),{editor:d,threadId:a}),j.jsx(c("MWV2ComposerEmojiButton.react"),{editor:d})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ComposerGifButton.react",["fbt","JSResourceForInteraction","MWChatComposerIcons","MWXLazyPopoverTrigger.react","MWXPressable.react","MWXTooltip.react","MessengerWebUXLogger","gkx","react","useMWV2ComposerOnGifSelect"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=c("JSResourceForInteraction")("MWChatAnimatedImageFlyoutWithPopover.react").__setRef("MWV2ComposerGifButton.react"),l={buttonFDS:{paddingTop:"x1iorvi4",paddingEnd:"x150jy0e",paddingBottom:"xjkvuk6",paddingStart:"x1e558r4",$$css:!0},buttonMDS:{paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0}},m=h._("__JHASH__J6q-Bfr0oTE__JHASH__");function a(a){var b=a.disabled,e=a.isSecureThread;a=a.onSendMessage;a=c("useMWV2ComposerOnGifSelect")(a);var f=c("MessengerWebUXLogger").useInteractionLogger();return j.jsx(c("MWXLazyPopoverTrigger.react"),{align:"middle",disableAutoFlip:!0,popoverProps:{isSecureThread:e,onSelect:a,testid:"mw_gif_picker"},popoverResource:k,position:"above",children:function(a,e,g,h,i,k,n){return j.jsx(c("MWXTooltip.react"),{align:"middle",forceInlineDisplay:!0,position:"above",tooltip:m,children:j.jsx(c("MWXPressable.react"),{"aria-label":m,disabled:b,onHoverIn:h,onHoverOut:i,onPress:function(){e(),f==null?void 0:f({eventName:"composer_open_gif_picker"})},onPressIn:k,overlayRadius:"50%",ref:a,xstyle:function(){return[c("gkx")("23219")?l.buttonMDS:l.buttonFDS]},children:j.jsx(d("MWChatComposerIcons").MWChatComposerIconsGif,{fill:b?void 0:"var(--chat-composer-button-color)",size:20})})})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ComposerStickerButton.react",["cr:1084","react"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");g["default"]=b("cr:1084")}),98);
__d("MWComposerStartButtonsGroup.react",["CometPlaceholder.react","MWV2ComposerFileButton.react","MWV2ComposerGifButton.react","MWV2ComposerStickerButton.react","MWXTooltipGroup.react","react","stylex","useMWEntrypoint","useMWFalcoFeatureEventLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={button:{alignItems:"x6s0dn4",bottom:"x1ey2m1c",display:"x78zum5",justifyContent:"xl56j7k",position:"x10l6tqk",zIndex:"x1vjfegm",$$css:!0},buttonFDS:{marginBottom:"x12nagc",marginEnd:"xw3qccf",marginLeft:null,marginRight:null,$$css:!0},buttonHidden:{transform:"x1f85oc2",transitionDuration:"x1g2r6go",transitionProperty:"x11xpdln",$$css:!0},buttonMDS:{marginBottom:"xat24cr",$$css:!0},buttonShown:{transform:"x3oybdh",transitionDuration:"x1g2r6go",transitionProperty:"x11xpdln",$$css:!0},fileButtonHidden:{transitionDelay:"x1th4bbo",$$css:!0},fileButtonShown:{transitionDelay:"x1th4bbo",$$css:!0},gifButtonHidden:{transitionDelay:"x1ahifba",$$css:!0},gifButtonShown:{transitionDelay:"x5w5eug",$$css:!0},stickerButtonHidden:{transitionDelay:"x5zdck6",$$css:!0},stickerButtonShown:{transitionDelay:"x5h36tt",$$css:!0}},l="var(--chat-composer-button-color)";function a(a){var b=a.canSendFileFinal,d=a.canSendGifFinal,e=a.canSendSecureSticker,f=a.canSendStickerFinal,g=a.composerLinkPreview,i=a.gifButtonPosition,m=a.isInputExpanded,n=a.isRTL,o=a.isSecureThread,p=a.localTimezoneInformation,q=a.onAttachmentsAdded,r=a.onSendMessage,s=a.shouldUseMDS,t=a.stickerButtonPosition,u=a.supportedFileTypes,v=a.threadKey;a=a.threadType;var w=c("useMWEntrypoint")(),x=c("useMWFalcoFeatureEventLogger")(v,a);v=function(a,b){var c="select_sticker_book";a?c="sticker_search":b&&(c="recent_stickers");x(w,c)};a=n?{right:"0px"}:{left:"0px"};t=n?{right:t.toString()+"px"}:{left:t.toString()+"px"};n=n?{right:i.toString()+"px"}:{left:i.toString()+"px"};return j.jsxs(j.Fragment,{children:[j.jsxs(c("MWXTooltipGroup.react"),{children:[j.jsx("div",{className:(h||(h=c("stylex")))(k.button,s?k.buttonMDS:k.buttonFDS,m?k.buttonHidden:k.buttonShown,m?k.fileButtonHidden:k.fileButtonShown),style:a,children:j.jsx(c("MWV2ComposerFileButton.react"),{disabled:!b,onAttachmentsAdded:q,supportedFileTypes:u})}),j.jsx("div",{className:h(k.button,s?k.buttonMDS:k.buttonFDS,m?k.buttonHidden:k.buttonShown,m?k.stickerButtonHidden:k.stickerButtonShown),style:t,children:j.jsx(c("MWV2ComposerStickerButton.react"),{color:l,disabled:!f,onSelectStickerPack:v,onSendMessage:r,useSecureSend:e})}),j.jsx("div",{className:h(k.button,s?k.buttonMDS:k.buttonFDS,m?k.buttonHidden:k.buttonShown,m?k.gifButtonHidden:k.gifButtonShown),style:n,children:j.jsx(c("MWV2ComposerGifButton.react"),{disabled:!d,isSecureThread:o,onSendMessage:r})})]}),p!=null?j.jsx(c("CometPlaceholder.react"),{fallback:null,children:p}):null,g!=null?j.jsx(c("CometPlaceholder.react"),{fallback:null,children:g}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWV2ComposerOnPressVoiceClip",["$InternalEnum","JSResourceForInteraction","emptyFunction","gkx","react","requireDeferred","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useState,j=c("requireDeferred")("MWChatAudioLog").__setRef("useMWV2ComposerOnPressVoiceClip"),k=b("$InternalEnum").Mirrored(["AWAITING","GRANTED","DENIED","FAILED"]);function a(a){var b=i(k.AWAITING),d=b[0],e=b[1];b=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatAudioRecorderPermissionsDialog.react").__setRef("useMWV2ComposerOnPressVoiceClip"));var f=b[0],g={},h=c("gkx")("24131"),l=c("gkx")("9179");h&&(g.channelCount=1);l&&(g.sampleRate=44100);var m=function(){return f({contentType:"accessDenied",onAllow:c("emptyFunction")},c("emptyFunction"))},n=function(){var b;(b=navigator)==null?void 0:(b=b.mediaDevices)==null?void 0:b.getUserMedia({audio:h||l?g:!0,video:!1}).then(function(b){e(k.GRANTED),a.start(b)})["catch"](function(a){a.name==="NotAllowedError"?(e(k.DENIED),m()):e(k.FAILED),j.onReady(function(a){return a.logBrowserDenyAccess()})})},o=function(){return f({contentType:"askForAccess",onAllow:function(){return n()}},c("emptyFunction"))};return function(){var a;switch(d){case k.AWAITING:a=(a=navigator.permissions)==null?void 0:a.query({name:"microphone"});a!=null?a.then(function(a){a=a.state;switch(a){case"denied":e(k.DENIED);m();break;case"granted":n();break;case"prompt":o();break;default:o()}})["catch"](function(){o()}):(n(),j.onReady(function(a){return a.logMicAccessCheckFailed()}));return;case k.DENIED:return m();case k.GRANTED:case k.FAILED:return n()}}}g["default"]=a}),98);
__d("MWV2ComposerPlusButton.react",["fbt","JSResourceForInteraction","LSMessagingThreadTypeUtil","MWChatComposerIcons","MWXLazyPopoverTrigger.react","MWXPressable.react","MWXTooltip.react","MessengerWebUXLogger","emptyFunction","gkx","isStickerEnabled","react","requireDeferred","useMWV2ComposerOnPressVoiceClip"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useMemo,l=b.useState,m=c("requireDeferred")("MWChatAudioLog").__setRef("MWV2ComposerPlusButton.react"),n={plusButtonFDS:{marginStart:"xsgj6o6",marginLeft:null,marginRight:null,marginEnd:"xw3qccf",marginTop:"x1gslohp",marginBottom:"x12nagc",paddingTop:"x1iorvi4",paddingEnd:"x150jy0e",paddingBottom:"xjkvuk6",paddingStart:"x1e558r4",$$css:!0},plusButtonMDS:{marginStart:"x1i64zmx",marginLeft:null,marginRight:null,paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0}};function a(a){var b=a.canSendAudioClip,e=a.canSendFile,f=a.canSendPayment,g=a.editor,i=a.hasAudioClipsCapability,o=a.hasGIFCapability,p=a.hasPaymentCapability,q=a.hasPollCreationCapability,r=a.hasRollcallCapability,s=a.hasStickerCapability,t=a.isInputExpanded,u=a.isSecureThread,v=a.onAttachmentsAdded,w=a.onSendMessage,x=a.renderExtraOverflowMenuItems,y=a.supportedFileTypes,z=a.threadKey,A=a.threadType,B=a.voiceRecorder,C=c("emptyFunction");a=l(!1);var D=a[0],E=a[1];a=d("LSMessagingThreadTypeUtil").isJoinedDiscoverablePublicBroadcastChannel(A);A=function(a){return E(a)};u=c("isStickerEnabled")()&&u;p=p&&!c("gkx")("24133")&&f;f=q&&(!a||c("gkx")("23422"));q=i&&!c("gkx")("24134")&&b;a=o&&!c("gkx")("23427")&&t;i=e&&t;b=!c("gkx")("23421")&&(s||u)&&t;o=c("gkx")("23423");e=c("gkx")("23159");s=k(function(){if(x!=null)return x("var(--chat-composer-button-color)",C,v);else return[]},[x,C,v]);u=c("useMWV2ComposerOnPressVoiceClip")(B);var F=B.state.stage!=="Unopen",G=F?h._("__JHASH__gaxHiFwvIGk__JHASH__"):D?h._("__JHASH__SFruYEeI3S-__JHASH__"):h._("__JHASH__PUPO-44z1pF__JHASH__"),H=c("MessengerWebUXLogger").useInteractionLogger();t=p||f||q||a||i||b||o||e||r||s.length>0;var I=!t;return j.jsx(c("MWXLazyPopoverTrigger.react"),{align:"start",onVisibilityChange:A,popoverProps:{color:"var(--chat-composer-button-color)",editor:g,extraItems:s,onAttachmentsAdded:v,onClose:C,onPressVoiceClip:u,onSendMessage:w,showCreatePoll:f,showCreatePrompt:r,showFile:i,showGenAICreate:o,showGenAICreateVideo:e,showGif:a,showPayment:p,showSendVoiceClip:q,showSticker:b,supportedFileTypes:y,threadKey:z},popoverResource:c("JSResourceForInteraction")("MWV2ComposerOverflowMenu.react").__setRef("MWV2ComposerPlusButton.react"),position:"above",preloadTrigger:"button",children:function(a,b,e,f,g,h){return j.jsx(c("MWXTooltip.react"),{align:"middle",position:"above",tooltip:G,children:j.jsx(c("MWXPressable.react"),{"aria-label":G,disabled:I,onHoverIn:f,onHoverOut:g,onPress:function(){if(F){B.reset();m.onReady(function(a){return a.logDeleteRecording()});H==null?void 0:H({eventName:"composer_close_audio_recorder"});return}else H==null?void 0:H({eventName:"composer_open_overflow_menu"}),b()},onPressIn:h,overlayDisabled:I,overlayRadius:"50%",ref:a,testid:void 0,xstyle:function(){return[c("gkx")("23219")?n.plusButtonMDS:n.plusButtonFDS]},children:j.jsx(d("MWChatComposerIcons").MWChatComposerIconsMoreActions,{fill:I?void 0:"var(--chat-composer-button-color)",isRotated:F,size:20})})})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWHasPollsCreationEnabled",["LSThreadBitOffset","MWLSThread"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=(a=d("MWLSThread").useThread(a,function(a){return d("LSThreadBitOffset").has(36,a)}))!=null?a:!1;return a}g["default"]=a}),98);
__d("MWReQLComposerPlusButton.react",["LSMessagingThreadTypeUtil","LSThreadBitOffset","MWV2ComposerPlusButton.react","react","useMWHasPollsCreationEnabled"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b,e=a.canSendAudioClip,f=a.canSendFile,g=a.canSendPayment,h=a.editor,j=a.isInputExpanded,k=a.onAttachmentsAdded,l=a.onSendMessage,m=a.renderExtraOverflowMenuItems,n=a.supportedFileTypes,o=a.thread;a=a.voiceRecorder;var p=c("useMWHasPollsCreationEnabled")(o.threadKey);b={hasAudioClipsCapability:(b=d("LSThreadBitOffset")).has(14,o),hasGIFCapability:b.has(4,o),hasPaymentCapability:b.has(0,o),hasPollCreationCapability:p,hasRollcallCapability:b.has(152,o),hasStickerCapability:b.has(3,o)};return i.jsx(c("MWV2ComposerPlusButton.react"),babelHelpers["extends"]({canSendAudioClip:e,canSendFile:f,canSendPayment:g,editor:h,hasPollCreationCapability:p,isInputExpanded:j,isSecureThread:d("LSMessagingThreadTypeUtil").isSecure(o.threadType),onAttachmentsAdded:k,onSendMessage:l,renderExtraOverflowMenuItems:m,supportedFileTypes:n,threadKey:o.threadKey,threadType:o.threadType,voiceRecorder:a},b))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useParticipantsExcludingViewer",["I64","MAWSubscribeToContactNames","MWPActor.react","MWWorkForeignEntityTypeUtils","ReQL","ReQLSuspense","getLSMediaContactProfilePictureUrl","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||d("react")).useMemo;function a(a){var b=a.threadKey,e=d("MWPActor.react").useActor(),g=(h||(h=c("useReStore")))(),j=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(g.tables.participants).getKeyRange(b).map(function(a){return[d("ReQLSuspense").first(d("ReQL").fromTableAscending(g.tables.contacts).getKeyRange(a.contactId),f.id+":42"),a]})},[g,b],f.id+":36"),l=k(function(){return j.reduce(function(a,b){var c=b[0];b=b[1];if(c!=null&&!(i||(i=d("I64"))).equal(c.id,e)){return a.concat([[babelHelpers["extends"]({},c,{name:(c=c.name)!=null?c:d("MAWSubscribeToContactNames").getUnknownUser()}),b]])}return a},[])},[j,e]);return k(function(){return new Map(l.map(function(a){var b,e=a[1];a=a[0];return[(i||(i=d("I64"))).to_string(a.id),{actualName:a.name,contactId:i.to_string(a.id),isAdmin:(b=e.isAdmin)!=null?b:!1,isContact:!0,jobTitle:a.workJobTitle,name:a.name,nickname:e.nickname,profilePictureUrl:c("getLSMediaContactProfilePictureUrl")(a),secondaryName:a.secondaryName,workForeignEntityInfo:d("MWWorkForeignEntityTypeUtils").getWorkForeignEntityType(a.workForeignEntityType)}]}))},[l])}g["default"]=a}),98);
__d("MWV2ComposerView.react",["FBLogger","I64","LSMessagingThreadTypeUtil","LSThreadBitOffset","Locale","MWAudioRecorder.react","MWCMThreadTypes.react","MWComposerEndButtonsGroup.react","MWComposerInnerButtonsGroup.react","MWComposerStartButtonsGroup.react","MWPUseVoiceRecorder","MWReQLComposerInner.react","MWReQLComposerPlusButton.react","MWV2ComposerMediaStaging.react","MWV2ComposerSendButton.react","Promise","ReQL","ReQLSuspense","emptyFunction","gkx","isStickerEnabled","react","requireDeferred","stylex","useDeferredModuleOnReady","useMWComposerAriaDescribedBy","useMWEntrypoint","useParticipantsExcludingViewer","usePrevious","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m=l||(l=d("react"));e=l;var n=e.useEffect,o=e.useId,p=e.useRef,q=c("requireDeferred")("MWChatAudioLog").__setRef("MWV2ComposerView.react"),r=c("requireDeferred")("getUpgradedCometEmojiComposerHandler").__setRef("MWV2ComposerView.react"),s={composer:{display:"x78zum5",flexGrow:"x1iyjqo2",transition:"x6q2ic0",$$css:!0},container:{flexGrow:"x1iyjqo2",overflowX:"xw2csxc",position:"x1n2onr6",$$css:!0},hidden:{display:"x1s85apg",$$css:!0},root:{alignItems:"xuk3077",backgroundColor:"x57kliw",display:"x78zum5",fontSize:"x6prxxf",paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",$$css:!0},visuallyHidden:{clip:"xzpqnlu",clipPath:"x1hyvwdk",height:"xjm9jq1",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x10l6tqk",width:"x1i1rx1s",$$css:!0}};function t(a){var b=c("useDeferredModuleOnReady")(r);n(function(){if(b!=null)return b(a,16)},[a,b])}function u(){q.onReady(function(a){return a.logClickStartRecording()})}function v(){q.onReady(function(a){return a.logBrowserDenyAccess()})}function a(a){var e=a.canSendAudioClip;e=e===void 0?!0:e;var g=a.canSendFile;g=g===void 0?!0:g;var l=a.canSendGif;l=l===void 0?!0:l;var q=a.canSendPayment;q=q===void 0?!1:q;var r=a.canSendSticker;r=r===void 0?!0:r;var w=a.composerLinkPreview,x=a.editor,y=a.editorElementRef,z=a.hasStuffToSend,A=a.isAiBotMentionsEnabled,B=a.isMentionsPluginEnabled;B=B===void 0?!0:B;var C=a.localTimezoneInformation,D=a.maxAudioDuration,E=a.mediaStaging,F=a.onAttachmentRemoved,G=a.onAttachmentsAdded,H=a.onSendMessage,I=a.placeholderText,aa=a.policyProduct,ba=a.renderExtraOverflowMenuItems,ca=a.sendMessage,J=a.supportedFileTypes,da=a.surface,K=a.thread;a=l&&d("LSThreadBitOffset").has(4,K)&&!c("gkx")("23427");l=d("MWCMThreadTypes.react").isBroadcastThread(K.threadType);var L=d("LSMessagingThreadTypeUtil").isAiBot(K.threadType);g=g&&(l||L?!c("gkx")("23428")&&d("LSThreadBitOffset").has(56,K):!c("gkx")("23428"));l=d("LSMessagingThreadTypeUtil").isSecure(K.threadType);L=c("isStickerEnabled")()&&l;r=r&&!c("gkx")("23421")&&(d("LSThreadBitOffset").has(3,K)||L);var M=c("useMWEntrypoint")(),N=d("MWPUseVoiceRecorder").useVoiceRecorder(D,u,v),O=N.state.stage!=="Unopen";D=function(){N.getVoiceClip().then(function(a){N.reset();H(void 0,void 0,void 0,void 0,void 0,void 0,void 0,a,void 0,void 0);return(k||(k=b("Promise"))).resolve()})["catch"](function(a){c("FBLogger")("messenger_e2ee_web").catching(a).warn("Failed to send voice clip in messenger composer ");return(k||(k=b("Promise"))).reject(a)})};var P=p(null),Q=c("usePrevious")(O);n(function(){if(O===!0&&Q===!1){var a;(a=P.current)==null?void 0:a.focus()}},[O,P,Q]);var ea=c("useParticipantsExcludingViewer")({threadKey:K.threadKey}),fa=d("LSThreadBitOffset").has(43,K),R=d("Locale").isRTL(),S=c("gkx")("23219"),T=S?[36,8]:[32,4],U=T[0];T=T[1];var V=0+U|0,W=d("LSMessagingThreadTypeUtil").isCMSubthread(K.threadType);M=z||W&&M==="inbox";var X=V+U|0;U=R?{marginRight:M?S?8..toString()+"px":"0":((X+U|0)+T|0).toString()+"px"}:{marginLeft:M?S?8..toString()+"px":"0":((X+U|0)+T|0).toString()+"px"};T=c("useMWComposerAriaDescribedBy")(K);var Y=o();t(x);var ga=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(K.threadType),Z=(h||(h=c("useReStore")))(),$=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(Z.tables.custom_thread_commands).getKeyRange(K.threadKey).filter(function(a){return!a.isOpenPersistentMenu})},[Z,K.threadKey],f.id+":266")!=null;$=c("gkx")("23425")&&$;return m.jsxs("div",{className:"xuk3077 x57kliw x78zum5 x6prxxf xz9dl7a xsag5q8","data-testid":void 0,children:[m.jsx(c("MWReQLComposerPlusButton.react"),{canSendAudioClip:e,canSendFile:g,canSendPayment:q,editor:x,isInputExpanded:M,onAttachmentsAdded:G,onSendMessage:H,renderExtraOverflowMenuItems:ba,supportedFileTypes:J,thread:K,voiceRecorder:N}),O?m.jsxs(m.Fragment,{children:[m.jsx(c("MWAudioRecorder.react"),{voiceRecorder:N}),m.jsx(c("MWV2ComposerSendButton.react"),{onPress:D,ref:P})]}):null,m.jsxs("div",{className:(j||(j=c("stylex")))(O?s.hidden:!1,s.container),children:[m.jsx(c("MWComposerStartButtonsGroup.react"),{canSendFileFinal:g,canSendGifFinal:a,canSendSecureSticker:L,canSendStickerFinal:r,composerLinkPreview:w,gifButtonPosition:X,isInputExpanded:M,isRTL:R,isSecureThread:l,localTimezoneInformation:C,onAttachmentsAdded:G,onSendMessage:H,shouldUseMDS:S,stickerButtonPosition:V,supportedFileTypes:J,threadKey:K.threadKey,threadType:K.threadType}),m.jsxs("div",{className:"x78zum5 x1iyjqo2 x6q2ic0",style:U,children:[m.jsx("div",{className:"xzpqnlu x1hyvwdk xjm9jq1 x6ikm8r x10wlt62 x10l6tqk x1i1rx1s",id:Y,children:T}),m.jsx(c("MWReQLComposerInner.react"),{ariaDescribedBy:Y,contentEditableRef:y,editor:x,endContent:m.jsx(c("MWComposerInnerButtonsGroup.react"),{editor:x,shouldUseMDS:S,threadKey:K.threadKey}),handlePastedFiles:g?G:c("emptyFunction"),isAiBotMentionsEnabled:A,isSecureThread:l,participants:ea,placeholderText:I,policyProduct:aa,surface:da,testId:"chat_input:rich-input",threadID:(i||(i=d("I64"))).to_string(W?K.parentThreadKey:K.threadKey),topContent:m.jsx(c("MWV2ComposerMediaStaging.react"),{mediaStaging:E,onAttachmentRemoved:F,onAttachmentsAdded:G,supportedFileTypes:J}),useMentionsPlugin:B&&(A===!0?!0:fa&&d("LSMessagingThreadTypeUtil").isGroup(K.threadType))})]})]}),m.jsx(c("MWComposerEndButtonsGroup.react"),{customEmoji:K.customEmoji,editor:x,hasPersistentMenu:K.hasPersistentMenu,hasStuffToSend:z,isVoiceRecorderOpen:O,onSendMessage:H,sendMessage:ca,shouldHideHotLike:ga,showCommands:$,threadKey:K.threadKey})]})}a.displayName=a.name+" [from "+f.id+"]";g.MWV2ComposerView=a}),98);
__d("useMWMediaManagerUploadFailedToast",["mwPushToast","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(){return i(function(a,b){d("mwPushToast").mwPushErrorToast({body:b,title:a})},[])}g["default"]=a}),98);
__d("useMWMediaManager",["LSGetAttachmentType","LSIntEnum","MWMediaManager","MessagingAttachmentType","qex","useMWMediaManagerUploadFailedToast"],(function(a,b,c,d,e,f,g){"use strict";var h,i=25;function a(a){var b=a.onUploadFailure;a=a.thread;var e=c("useMWMediaManagerUploadFailedToast")();return d("MWMediaManager").useMediaManager({getMaxAttachmentSizeInMB:j,onUploadFailure:b,showUploadFailureToast:e,thread:a})}function j(a,b){a=c("LSGetAttachmentType")(a);if((h||(h=d("LSIntEnum"))).toNumber(a)===c("MessagingAttachmentType").FILE){return(a=k(b))!=null?a:i}return i}function k(a){if(a)return c("qex")._("245");else return c("qex")._("413")}g["default"]=a}),98);
__d("MWChatViewerChatVisibilityHookQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6404754876239370"}),null);
__d("MWChatViewerChatVisibilityHookQuery.graphql",["MWChatViewerChatVisibilityHookQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"chat_visibility",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatViewerChatVisibilityHookQuery",selections:a,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatViewerChatVisibilityHookQuery",selections:a},params:{id:b("MWChatViewerChatVisibilityHookQuery_facebookRelayOperation"),metadata:{},name:"MWChatViewerChatVisibilityHookQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatViewerChatVisibilityHook",["CometRelay","MWChatViewerChatVisibilityHookQuery.graphql","promiseDone","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useEffect,k=h!==void 0?h:h=b("MWChatViewerChatVisibilityHookQuery.graphql");function a(){var a,b=d("CometRelay").useRelayEnvironment(),e=d("CometRelay").useLazyLoadQuery(k,{},{fetchPolicy:"store-only"});j(function(){var a;(e==null?void 0:(a=e.viewer)==null?void 0:a.chat_visibility)==null&&c("promiseDone")(d("CometRelay").fetchQuery(b,k,{}).toPromise())},[e==null?void 0:(a=e.viewer)==null?void 0:a.chat_visibility,b]);return(e==null?void 0:(a=e.viewer)==null?void 0:a.chat_visibility)===!0}g.useViewerChatVisibility=a}),98);
__d("useOnTypingStateChanged",["I64","Int64Hooks","LSAuthorityLevel","LSContactBlockedByViewerStatus","LSFactory","LSIntEnum","LSMessagingThreadTypeUtil","LSSendTypingIndicatorStoredProcedure","MWCMIsAnyCMThread","MWPActor.react","MessengerWebUXLogger","ReQL","asyncToGeneratorRuntime","promiseDone","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a,b,c,d){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f){if((i||(i=d("I64"))).equal(e,(j||(j=d("LSIntEnum"))).ofNumber(1))&&!(i||(i=d("I64"))).equal(b,f)){var g;b=(yield (g=d("ReQL")).firstAsync(g.mergeJoin(g.fromTableAscending(a.tables.participants).getKeyRange(b),g.fromTableAscending(a.tables.contacts.index("blockedByViewerStatusId")).getKeyRange((j||(j=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED))).filter(function(a){var b=a[0];a[1];return!(i||(i=d("I64"))).equal(b.contactId,f)})));return b!=null}else return!c("MWCMIsAnyCMThread")(e)});return l.apply(this,arguments)}function a(a){var b=(h||(h=c("useReStore")))(),e=d("MWPActor.react").useActor(),f=c("MessengerWebUXLogger").useInteractionLogger();return d("Int64Hooks").useCallbackInt64(function(g){if(!(i||(i=d("I64"))).ge(a.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE)))return;c("promiseDone")(k(b,a.threadKey,a.threadType,e).then(function(e){if(e){f==null?void 0:f({eventName:"send_typing_indicators",threadKey:a.threadKey,threadType:a.threadType});return b.runInTransaction(function(b){return c("LSSendTypingIndicatorStoredProcedure")(c("LSFactory")(b),{isGroupThread:d("LSMessagingThreadTypeUtil").isGroup(a.threadType),isTyping:g,threadKey:a.threadKey})},"readwrite")}}))},[a.authorityLevel,a.threadKey,a.threadType,b,e,f])}g["default"]=a}),98);
__d("useMWOnTypingStateChanged",["MWChatViewerChatVisibilityHook","react","useOnTypingStateChanged"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useMemo,j=function(a){return void 0};function a(a){var b=c("useOnTypingStateChanged")(a),e=d("MWChatViewerChatVisibilityHook").useViewerChatVisibility();return i(function(){return e?b:j},[b,e])}g["default"]=a}),98);
__d("MWV2OpenComposer.react",["GroupsCometChatsEngagementLogger","I64","Int64Hooks","LSMessagingThreadTypeUtil","MWPReplyContext.react","MWV2ComposerEditContainer.react","MWV2ComposerReplyView.react","MWV2ComposerView.react","MessengerMSplitFlag","Promise","WebUXLoggingSurfaceContextProvider","asyncToGeneratorRuntime","cr:5001","cr:5118","emptyFunction","gkx","promiseDone","react","useAsyncReStore","useMAWEditMessageData","useMWMediaManager","useMWOnTypingStateChanged","useMWPComposerEditor","useMWV2FileDropzoneRegisterHandler","useMWV2OnSendOpenMessage"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react")),l=j.useContext,m=c("gkx")("23426");function a(a){var e,f=a.afterSendMessage,g=f===void 0?c("emptyFunction"):f;f=a.isPreviewThread;var j=a.thread,n=c("useAsyncReStore")();a=l(d("MWPReplyContext.react").MWPReplyContext);a=a.reply;var o=b("cr:5001")==null?void 0:b("cr:5001").useMWAdmodOnboardingSuggestedActionsContext(),p=c("useMAWEditMessageData")(),q=c("useMWMediaManager")({thread:j}),r=q.handleFileRemove,s=q.handleFileSelect;q=q.mediaStaging;var t=d("Int64Hooks").useCallbackInt64(function(){var a;g();var e=o==null?void 0:(a=o.showWelcomeMessageSuggestion)==null?void 0:a.source,f=o==null?void 0:(a=o.showWelcomeMessageSuggestion)==null?void 0:a.entryPoint;b("cr:5118")&&(o==null?void 0:(a=o.showWelcomeMessageSuggestion)==null?void 0:a.show)&&(o==null?void 0:(a=o.showWelcomeMessageSuggestion)==null?void 0:a.source)!=null&&c("promiseDone")((h||(h=b("Promise"))).resolve().then(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a,b=(yield n);a=(a=j==null?void 0:j.parentThreadKey)!=null?a:(i||(i=d("I64"))).zero;b=(yield b.table("community_folders").get(a));b=(b=b==null?void 0:b.fbGroupId)!=null?b:(i||(i=d("I64"))).zero;d("GroupsCometChatsEngagementLogger").log({action:"tap",community_id:(i||(i=d("I64"))).to_string(a),entry_point:f,event:"admin_send_message_visible_when_message_sent",group_id:i.to_string((a=b)!=null?a:(i||(i=d("I64"))).zero),parent_surface:"thread_view",source:e,surface:"admin_send_message_hint_card"})})));o==null?void 0:o.setShowWelcomeMessageSuggestion({show:!1})},[g,n,o,j==null?void 0:j.parentThreadKey]);t=c("useMWV2OnSendOpenMessage")({afterSendMessage:t,skipUrlPreviewGen:!1,thread:j});var u=c("useMWOnTypingStateChanged")(j);c("useMWV2FileDropzoneRegisterHandler")(s);var v=d("LSMessagingThreadTypeUtil").isAiBotSummoning(j);f=c("useMWPComposerEditor")({isPreviewThread:f,mediaStaging:q,onSendMessage:t,onTypingStateChanged:u,threadKey:j.threadKey});u=f.editor;var w=f.editorElementRef,x=f.hasStuffToSend;f=f.sendMessage;return k.jsx(d("WebUXLoggingSurfaceContextProvider").WebUXLoggingSurfaceContextProvider,{value:"open_composer",children:k.jsxs("div",{children:[b("cr:5118")&&(o==null?void 0:(e=o.showWelcomeMessageSuggestion)==null?void 0:e.show)?k.jsx(b("cr:5118"),{threadKey:j.threadKey}):a!=null?k.jsx(d("MWV2ComposerReplyView.react").MWV2ComposerReplyView,{messageId:a.messageId,messageTimestamp:a.timestampMs,thread:j}):null,p!=null&&k.jsx(c("MWV2ComposerEditContainer.react"),{editMessageData:p,threadType:j.threadType}),p!=null?null:k.jsx(d("MWV2ComposerView.react").MWV2ComposerView,{editor:u,editorElementRef:w,hasStuffToSend:x,isAiBotMentionsEnabled:v&&m&&!c("MessengerMSplitFlag").is_msplit_account,mediaStaging:q,onAttachmentRemoved:r,onAttachmentsAdded:s,onSendMessage:t,policyProduct:"messaging_lightswitch",sendMessage:f,supportedFileTypes:void 0,surface:"mwp_mwv2_composer",thread:j})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useIsDefaultE2eeOpenThread",["LSMessagingThreadTypeUtil","cr:8061"],(function(a,b,c,d,e,f,g){"use strict";var h=(c=b("cr:8061"))!=null?c:function(a,b){return[!1,!0,null]};function a(a){var b=h(a.threadKey,a.threadType),c=b[0];b[1];b[2];return d("LSMessagingThreadTypeUtil").isOpenOneToOne(a.threadType)&&c}g["default"]=a}),98);
__d("useMWDefaultE2eeComposerConfiguration",["JSResourceForInteraction","lazyLoadComponent","react","useIsDefaultE2eeOpenThread"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWDefaultE2eeThreadBlockedComposer.react").__setRef("useMWDefaultE2eeComposerConfiguration"));function a(a){var b=c("useIsDefaultE2eeOpenThread")(a);if(b)return i.jsx(j,{thread:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPComposerPlaceholder.react",["CometPlaceholder.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function j(a){a=a.height;return i.jsx("div",{className:"x1exxf4d x13fuv20 x178xt8z",style:{height:a.toString()+"px"}})}j.displayName=j.name+" [from "+f.id+"]";function a(a){var b=a.children;a=a.height;return i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx(j,{height:a}),children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWPAdultMinorRestrictionLogging",["I64","LSContactReachabilityStatusType","LSIntEnum","LSMessagingThreadTypeUtil","MwbActorExperienceEventFalcoEvent","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(h||d("react")).useEffect;function l(a){var b=d("LSMessagingThreadTypeUtil").isSecure(a),c=d("LSMessagingThreadTypeUtil").isOneToOne(a);a=d("LSMessagingThreadTypeUtil").isGroup(a);if(c)return b?"messenger_encrypted_direct_thread":"messenger_direct_thread_details";return a?b?"messenger_encrypted_group_thread":"messenger_group_thread_details":"unknown"}function m(a){switch(a){case c("LSContactReachabilityStatusType").UNREACHABLE_USER_TYPE:return 12;case c("LSContactReachabilityStatusType").UNREACHABLE_ADULT_TYPE:return 21;default:return 0}}var n=function(a){return a?(i||(i=d("LSIntEnum"))).toNumber(a):c("LSContactReachabilityStatusType").REACHABLE};function a(a,b){var e=n(b),f=l(a),g=(j||(j=d("I64"))).to_string(a);k(function(){e!==c("LSContactReachabilityStatusType").REACHABLE&&e!==c("LSContactReachabilityStatusType").REACHABLE_INVITE_BANNER&&c("MwbActorExperienceEventFalcoEvent").log(function(){return{action:1,restriction_type:m(e),surface:f,thread_id:g}})},[g,e,f])}g["default"]=a}),98);
__d("useMWPBlockedComposerConfiguration",["fbt","I64","JSResourceForInteraction","LSContactBlockedByViewerStatus","LSContactReachabilityStatusType","LSIntEnum","LSMessagingThreadTypeUtil","MWBlockedComposerLogging","MWGetLSThreadReportingTokenFromThread","MWPActor.react","MWPComposerPlaceholder.react","ReQL","ReQLSuspense","lazyLoadComponent","react","useMWPAdultMinorRestrictionLogging","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=j||d("react"),n=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPReQLBlockedComposer.react").__setRef("useMWPBlockedComposerConfiguration"));function o(a){if(a==null)return c("LSContactReachabilityStatusType").REACHABLE;a=a.contactReachabilityStatusType;return a==null?c("LSContactReachabilityStatusType").REACHABLE:(l||(l=d("LSIntEnum"))).toNumber(a)}function a(a,b){var e=(i||(i=c("useReStore")))(),g=d("MWPActor.react").useActor(),j=(k||(k=d("I64"))).equal(g,a.threadKey),p=d("ReQLSuspense").useFirst(function(){return d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType)?d("ReQL").mergeJoin(d("ReQL").fromTableAscending(e.tables.participants).getKeyRange(a.threadKey),d("ReQL").fromTableAscending(e.tables.contacts)).filter(function(a){a[0];a=a[1];return j||!(k||(k=d("I64"))).equal(a.id,g)}).map(function(a){a[0];a=a[1];return a}):d("ReQL").empty()},[e,a.threadKey,a.threadType,g,j],f.id+":58"),q=o(p);c("useMWPAdultMinorRestrictionLogging")(a.threadKey,p==null?void 0:p.contactReachabilityStatusType);if(d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType)&&p!=null){var r=c("MWGetLSThreadReportingTokenFromThread")(a),s=!(k||(k=d("I64"))).equal(p.blockedByViewerStatus,(l||(l=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED));if(q!==c("LSContactReachabilityStatusType").REACHABLE&&q!==c("LSContactReachabilityStatusType").REACHABLE_INVITE_BANNER){q=h._("__JHASH__6xAG31n9hza__JHASH__");return m.jsx(c("MWPComposerPlaceholder.react"),{height:35,children:m.jsx(n,{fbid:(k||(k=d("I64"))).to_string(p.id),isReachable:!1,reason:d("MWBlockedComposerLogging").ComposerBlockingReason.USER_UNREACHABLE,reportingToken:void 0,thread:a,unreachableTitle:q})})}if(s)return m.jsx(c("MWPComposerPlaceholder.react"),{height:189,children:m.jsx(n,{buttonsOverride:b,fbid:(k||(k=d("I64"))).to_string(p.id),reason:d("MWBlockedComposerLogging").ComposerBlockingReason.USER_BLOCKED,reportingToken:r,thread:a})})}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXIconDragHandle",["MWXSvgIcon","SVGIcon","cr:6254","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:6254")),c("gkx")("23219"));g["default"]=a}),98);
__d("useMWV2DisabledPageComposerSendMenuItem",["LSFactory","LSIntEnum","LSMailboxType","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSOptimisticSendMessageV2StoredProcedure","LSShape","LSThreadAttributionTypeUtil","MWPActor.react","MessagePowerUp","promiseDone","react","useLSMessagingSource","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||d("react")).useCallback;function a(){var a=(h||(h=c("useReStore")))(),b=d("MWPActor.react").useActor(),e=c("useLSMessagingSource")();return k(function(f,g,h){c("promiseDone")(a.runInTransaction(function(a){var j=d("LSThreadAttributionTypeUtil").getSource(f,e);return c("LSOptimisticSendMessageV2StoredProcedure")(c("LSFactory")(a),{extraSendMessageParams:d("LSShape").ofRecord({calculate_denormalizations:!0,mark_read:!0,platform_token:h,power_up_style:(i||(i=d("LSIntEnum"))).ofNumber(c("MessagePowerUp").NONE),reply_source_type:i.ofNumber(c("LSMessageReplySourceType").MESSAGE),reply_source_type_v2:i.ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE),snippet_has_emoji:!1,source:j}),mailboxType:i.ofNumber(c("LSMailboxType").MESSENGER),senderId:b,snippet:g,text:g,threadKey:f,threadType:i.ofNumber(1)})},"readwrite"))},[a,e,b])}g["default"]=a}),98);
__d("MWV2DisabledPageComposer.react",["fbt","JSResourceForInteraction","MWBlockedComposerLogging","MWXButton.react","MWXIconDragHandle","MWXLazyPopoverTrigger.react","react","useMWV2DisabledPageComposerSendMenuItem"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=c("JSResourceForInteraction")("LSComposerPersistentMenu.react").__setRef("MWV2DisabledPageComposer.react");function a(a){var b=a.threadKey;d("MWBlockedComposerLogging").useLogMWBlockedComposerReason(b,d("MWBlockedComposerLogging").ComposerBlockingReason.PAGE_THREAD_DISABLED);var e=c("useMWV2DisabledPageComposerSendMenuItem")();a=function(a){var c=a.title;a=a.id;if(a!=null)return e(b,c,a)};return j.jsx(c("MWXLazyPopoverTrigger.react"),{align:"middle",popoverProps:{onClose:function(){},onSelect:a},popoverResource:k,children:function(a,b){return j.jsx("div",{className:"x78zum5 xu06os2 xvijh9v xz9dl7a xn6708d xsag5q8 x1ye3gou",ref:a,children:j.jsx(c("MWXButton.react"),{icon:c("MWXIconDragHandle"),label:h._("__JHASH__pzPWkkyVYqg__JHASH__"),onPress:b,reduceEmphasis:!0})})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWPDisablePageComposerConfiguration",["MWV2DisabledPageComposer.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){if(a.disableComposerInput&&a.hasPersistentMenu)return i.jsx(c("MWV2DisabledPageComposer.react"),{threadKey:a.threadKey})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPFeatureLimitLoggingUtils",["I64","Int64Hooks","LSFeatureLimitsType","LSIntEnum","LSMessagingThreadTypeUtil","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("requireDeferred")("MwbActorExperienceEventFalcoEvent").__setRef("MWPFeatureLimitLoggingUtils");function a(a,b,c){var e=k(c);return d("Int64Hooks").useCallbackInt64(function(){var c;l({action:1,restriction_type:a,surface:e,thread_id:(h||(h=d("I64"))).to_string((c=b)!=null?c:(h||(h=d("I64"))).zero)})},[b,a,e])}function b(a,b,c){var e=k(c);return d("Int64Hooks").useCallbackInt64(function(){var c;l({action:2,restriction_type:a,surface:e,thread_id:(h||(h=d("I64"))).to_string((c=b)!=null?c:(h||(h=d("I64"))).zero)})},[b,a,e])}function e(a){if(a)if((h||(h=d("I64"))).equal(a.type_,(i||(i=d("LSIntEnum"))).ofNumber(c("LSFeatureLimitsType").MESSAGE_SEND_PRIVATE)))return 40;else if((h||(h=d("I64"))).equal(a.type_,(i||(i=d("LSIntEnum"))).ofNumber(c("LSFeatureLimitsType").MESSAGE_SEND_PUBLIC)))return 39;else return 6;return 0}function k(a){if(a){var b=d("LSMessagingThreadTypeUtil").isSecure(a),c=d("LSMessagingThreadTypeUtil").isOneToOne(a);if(c)return b?"messenger_encrypted_direct_thread":"messenger_direct_thread_details";c=d("LSMessagingThreadTypeUtil").isGroup(a);a=d("LSMessagingThreadTypeUtil").isPublicCMThread(a);if(c)return b?"messenger_encrypted_group_thread":a?"messenger_public_cm_chat":"messenger_group_thread_details"}return"unknown"}function l(a){var b=a.action,c=a.restriction_type,d=a.surface,e=a.thread_id;j.onReady(function(a){return a.log(function(){return{action:b,restriction_type:c,surface:d,thread_id:e}})})}g.useLogFeatureLimitComposerImpression=a;g.useLogViewCommunityStandards=b;g.getRestrictionTypeFromFeatureLimit=e}),98);
__d("useMWPFeatureLimitComposerBlockHeaderText",["fbt","I64","useServerTime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=60*60*1e3,k=24*j,l=23*j,m=1e3;function a(a,b){var e=c("useServerTime")().valueOf();a=a!=null?(i||(i=d("I64"))).to_float(a.expirationTimestampSeconds)*1e3:e;a=a-e;if(a<=l){e=Math.ceil(Math.max(a,j)/j);return b?h._("__JHASH__MtDrzd4mllU__JHASH__",[h._plural(e,"number")]):h._("__JHASH__Oh7AJclyvOB__JHASH__",[h._plural(e,"number")])}else{e=Math.ceil(Math.max(a,k)/k);return e>=m?h._("__JHASH__XJkVHKZY5be__JHASH__"):b?h._("__JHASH__DoFdcIuVM_E__JHASH__",[h._plural(e,"number")]):h._("__JHASH__RWH0KbM4haJ__JHASH__",[h._plural(e,"number")])}}g["default"]=a}),98);
__d("MWPFeatureLimitsBlockedComposer.react",["fbt","I64","LSFeatureLimitsType","LSIntEnum","MWBlockedComposerLogging","MWPActor.react","MWPFeatureLimitLoggingUtils","MWPFeatureLimitedData","MWXComposerBanner.react","react","useMWPFeatureLimitComposerBlockHeaderText","useSinglePartialViewImpression"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=i||d("react");function a(a){a=a.thread;d("MWBlockedComposerLogging").useLogMWBlockedComposerReason(a==null?void 0:a.threadKey,d("MWBlockedComposerLogging").ComposerBlockingReason.FEATURE_LIMITED_TO_READONLY);var b=d("MWPFeatureLimitedData").useReadOnlyFeatureLimitDataWithThreadType(a==null?void 0:a.threadType),e=d("MWPActor.react").isAPPlus();e=b!=null&&(j||(j=d("I64"))).equal(b.type_,(k||(k=d("LSIntEnum"))).ofNumber(c("LSFeatureLimitsType").MESSAGE_SEND_PUBLIC))&&e;var f=c("useMWPFeatureLimitComposerBlockHeaderText")(b,e);b=d("MWPFeatureLimitLoggingUtils").getRestrictionTypeFromFeatureLimit(b);var g=d("MWPFeatureLimitLoggingUtils").useLogFeatureLimitComposerImpression(b,a==null?void 0:a.threadKey,a==null?void 0:a.threadType);b=d("MWPFeatureLimitLoggingUtils").useLogViewCommunityStandards(b,a==null?void 0:a.threadKey,a==null?void 0:a.threadType);a=c("useSinglePartialViewImpression")({onImpressionStart:g});g=h._("__JHASH__7_EenTF_FJG__JHASH__");var i=h._("__JHASH__phCVAIUGUlz__JHASH__"),m={target:"_blank",url:"https://www.facebook.com/communitystandards/"},n=e?h._("__JHASH__9oilSt_qVYo__JHASH__"):h._("__JHASH___Q1doHhXtgm__JHASH__");return l.jsx("div",{ref:a,children:l.jsx(c("MWXComposerBanner.react"),{bodyText:e?i:g,buttons:[{label:n,linkProps:m,onPress:b}],headerText:f})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWPFeatureLimitsBlockedComposerConfiguration",["MWPFeatureLimitsBlockedComposer.react","isFeatureLimitEnabled","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a,b,d){b=b&&(!a||c("isFeatureLimitEnabled")());if(b)return i.jsx(c("MWPFeatureLimitsBlockedComposer.react"),{thread:d})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWPReQLFeatureLimitsBlockedComposerConfiguration",["LSMessagingThreadTypeUtil","react","useIsReadOnlyFeatureLimitedWithThreadType","useMWPFeatureLimitsBlockedComposerConfiguration"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");function a(a){var b=d("LSMessagingThreadTypeUtil").isSecure(a.threadType),e=c("useIsReadOnlyFeatureLimitedWithThreadType")(a.threadType);return c("useMWPFeatureLimitsBlockedComposerConfiguration")(b,e,a)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWPNullComposerConfiguration",["I64","LSNullstateCTAType","MWBlockedComposerLogging","MWPreloadedText","justknobx","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react")),k=h.useContext;function l(a){var b=a.reason;a=a.threadKey;d("MWBlockedComposerLogging").useLogMWBlockedComposerReason(a,b);return null}function a(a,b,e,f){var g=k(c("MWPreloadedText"));f=f!=null&&(i||(i=d("I64"))).equal(f,(i||(i=d("I64"))).of_float(c("LSNullstateCTAType").GET_STARTED))&&!g.text;g=!(i||(i=d("I64"))).equal(b,i.zero);b=c("justknobx")._("926");if(f&&!g||!b&&e)return j.jsx(l,{reason:e?d("MWBlockedComposerLogging").ComposerBlockingReason.GAMING_GAME_BOT:d("MWBlockedComposerLogging").ComposerBlockingReason.GAMING_GET_STARTED_CTA,threadKey:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWPReQLNullComposerConfiguration",["LSThreadBitOffset","ReQL","ReQLSuspense","react","useMWPNullComposerConfiguration","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;i||d("react");function a(a){var b=(h||(h=c("useReStore")))(),e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(b.tables.thread_nullstate).getKeyRange(a.threadKey)},[b,a.threadKey],f.id+":27"),g=d("LSThreadBitOffset").has(44,a);return c("useMWPNullComposerConfiguration")(a.threadKey,a.lastActivityTimestampMs,g,e==null?void 0:e.ctaType)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatUnavailableComposer.react",["fbt","ComponentMountUnmountSubspanLogger.react","MWBlockedComposerLogging","MWXComposerBanner.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=a.reason;a=a.thread;d("MWBlockedComposerLogging").useLogMWBlockedComposerReason(a.threadKey,b);a=h._("__JHASH__FoZB3MxTOU9__JHASH__");return j.jsxs("div",{children:[j.jsx(c("ComponentMountUnmountSubspanLogger.react"),{description:"MWChatUnavailableComposer"}),j.jsx(c("MWXComposerBanner.react"),{bodyText:a})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("getMWPUnavailableComposerConfiguration",["LSMessagingThreadTypeUtil","MWBlockedComposerLogging","MWChatUnavailableComposer.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a,b,e){if(d("LSMessagingThreadTypeUtil").isOneToOne(b)&&e!=null){b=!e.isPage&&(!e.hasMessageCapability||!e.hasReplyMessageCapability);if(e.blockedSinceTimestampMs==null&&b)return i.jsx(c("MWChatUnavailableComposer.react"),{reason:e.hasMessageCapability?d("MWBlockedComposerLogging").ComposerBlockingReason.USER_BLOCKED_CANNOT_REPLY:d("MWBlockedComposerLogging").ComposerBlockingReason.USER_BLOCKED_CANNOT_MESSAGE,thread:{threadKey:a}})}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWPReQLUnavailableComposerConfiguration",["I64","LSContactBitOffset","LSContactType","LSIntEnum","LSMessagingThreadTypeUtil","MWPActor.react","ReQL","ReQLSuspense","getMWPUnavailableComposerConfiguration","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;k||d("react");function a(a){var b=(h||(h=c("useReStore")))(),e=d("MWPActor.react").useActor(),g=(i||(i=d("I64"))).equal(e,a.threadKey),k=d("ReQLSuspense").useFirst(function(){return d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType)?d("ReQL").mergeJoin(d("ReQL").fromTableAscending(b.tables.participants).getKeyRange(a.threadKey),d("ReQL").fromTableAscending(b.tables.contacts)).filter(function(a){a[0];a=a[1];return g||!(i||(i=d("I64"))).equal(a.id,e)}).map(function(a){a[0];a=a[1];return a}):d("ReQL").empty()},[b,a.threadKey,a.threadType,e,g],f.id+":33");if(k==null)return;return c("getMWPUnavailableComposerConfiguration")(a.threadKey,a.threadType,{blockedSinceTimestampMs:k==null?void 0:k.blockedSinceTimestampMs,hasMessageCapability:d("LSContactBitOffset").has(0,k),hasReplyMessageCapability:d("LSContactBitOffset").has(1,k),isPage:i.equal(k.contactType,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactType").PAGE))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWPShouldShowRestrictedComposer",["LSMessagingThreadTypeUtil","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return d("LSMessagingThreadTypeUtil").isOneToOne(a)&&c("gkx")("24036")&&b}g["default"]=a}),98);
__d("useMWPRestrictedComposerConfiguration",["I64","JSResourceForInteraction","LSContactBitOffset","MWPComposerPlaceholder.react","lazyLoadComponent","react","useMWGetOtherUserContact","useMWIsContactRestricted","useMWPShouldShowRestrictedComposer"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react"),k=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPReQLRestrictedComposer.react").__setRef("useMWPRestrictedComposerConfiguration"));function a(a){var b=c("useMWGetOtherUserContact")(a.threadKey,a.threadType,["id"].concat(d("LSContactBitOffset").contactCapabilityFields)),e=c("useMWIsContactRestricted")(b);e=c("useMWPShouldShowRestrictedComposer")(a.threadType,e);if(e&&b!=null)return j.jsx(c("MWPComposerPlaceholder.react"),{height:128,children:j.jsx(k,{fbid:(i||(i=d("I64"))).to_string(b.id),threadKey:a.threadKey,threadType:a.threadType})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWCutoverComposerConfiguration",["JSResourceForInteraction","LSMessagingThreadTypeUtil","MWBlockedComposerLogging","lazyLoadComponent","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWCutoverComposer.react").__setRef("useMWCutoverComposerConfiguration")),k=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWDualThreadCutoverComposer.react").__setRef("useMWCutoverComposerConfiguration"));function a(a,b,c,e,f,g){if((g||f)&&(!d("LSMessagingThreadTypeUtil").isOneToOne(b)||c!=null))return e?i.jsx(k,{otherUser:c,thread:{threadKey:a}}):i.jsx(j,{reason:c!=null?d("MWBlockedComposerLogging").ComposerBlockingReason.ARMADILLO_THREAD_ALREADY_CUTOVER:d("MWBlockedComposerLogging").ComposerBlockingReason.ARMADILLO_GROUP_THREAD_CUTOVER,thread:{threadKey:a}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWReQLCutoverComposerConfiguration",["LSContactBitOffset","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWThreadCutover","ReQL","ReQLSuspense","react","useMWCutoverComposerConfiguration","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;i||d("react");function a(a){var b,e=(h||(h=c("useReStore")))(),g=d("ReQLSuspense").useFirst(function(){return d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType)?d("ReQL").fromTableAscending(e.tables.contacts).getKeyRange(a.threadKey):d("ReQL").empty()},[e,a],f.id+":33");b=((b=(b=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(e.tables.messages_ranges_v2__generated).getKeyRange(a.threadKey)},[e,a.threadKey],f.id+":44"))==null?void 0:b.minMessageId)!=null?b:"")==="";var i=g!=null&&d("LSContactBitOffset").has(76,g);i=i&&b;b=d("MAWThreadCutover").useIsCutoverOpenThread(a.threadKey)||d("LSThreadBitOffset").has(128,a);var j=d("MAWThreadCutover").useIsDualThreadCutoverOpenThread(a.threadKey);return c("useMWCutoverComposerConfiguration")(a.threadKey,a.threadType,g,j,b,i)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWComposerGating.react",["LSMessagingThreadTypeUtil","MWPComposerGating.react","MWV2OpenComposer.react","cr:6984","emptyFunction","react","useMWDefaultE2eeComposerConfiguration","useMWPBlockedComposerConfiguration","useMWPDisablePageComposerConfiguration","useMWPReQLFeatureLimitsBlockedComposerConfiguration","useMWPReQLNullComposerConfiguration","useMWPReQLUnavailableComposerConfiguration","useMWPRestrictedComposerConfiguration","useMWReQLCutoverComposerConfiguration"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.memo;function k(a){return[c("useMWPReQLNullComposerConfiguration")(a),c("useMWPDisablePageComposerConfiguration")(a),c("useMWPReQLFeatureLimitsBlockedComposerConfiguration")(a),c("useMWReQLCutoverComposerConfiguration")(a),c("useMWPBlockedComposerConfiguration")(a),c("useMWPRestrictedComposerConfiguration")(a),c("useMWPReQLUnavailableComposerConfiguration")(a),c("useMWDefaultE2eeComposerConfiguration")(a)]}function a(a){var e=a.afterSendMessage,f=a.isPreviewThread;a=a.thread;var g=d("LSMessagingThreadTypeUtil").isSecure(a.threadType);if(b("cr:6984")!=null&&g)return i.jsx(b("cr:6984"),{afterSendMessage:e,isPreviewThread:f,thread:a});else return i.jsx(c("MWV2OpenComposer.react"),{afterSendMessage:e,isPreviewThread:f,thread:a})}a.displayName=a.name+" [from "+f.id+"]";var l=j(a);function e(a){var b=a.afterSendMessage,d=b===void 0?c("emptyFunction"):b;a.isMessengerInbox;var e=a.isPreviewThread,f=a.thread;b=k(f);return i.jsx(c("MWPComposerGating.react"),{configurations:b,isMessengerInbox:!1,renderComposer:function(){return i.jsx(l,{afterSendMessage:d,isPreviewThread:e,thread:f})},thread:f})}e.displayName=e.name+" [from "+f.id+"]";function m(a){var b=a.afterSendMessage;a.isMessengerInbox;var d=a.isPreviewThread,e=a.thread;a=k(e);return i.jsx(c("MWPComposerGating.react"),{configurations:a,isMessengerInbox:!0,renderComposer:function(){return i.jsx(l,{afterSendMessage:b,isPreviewThread:d,thread:e})},thread:e})}m.displayName=m.name+" [from "+f.id+"]";g.MWChatComposerGating=e;g.MWInboxComposerGating=m}),98);
__d("useMWMessageRowTheme",["MWLSThreadDisplayContext","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useMemo;function a(){var a=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();return i(function(){var b=c("gkx")("23219")?"12px":a==="Inbox"?"16px":"8px";return{dark:{"mwp-message-list-profile-start-padding":b},light:{"mwp-message-list-profile-start-padding":b},type:"VARIABLES"}},[a])}g["default"]=a}),98);
__d("MWMessageRowAdminMessage.react",["BaseView.react","MWMessageListAttachmentContainer.react","MWPMessageListColumn.react","MWPMessageListRowWithKeyboardInteractions.react","MWV2ChatAdminMessage.react","MWV2MessageRowSimple.react","react","useMWMessageRowTheme","useMWPEditMessageDeemphasizer"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={adminMessageAttachment:{boxSizing:"x9f619",maxWidth:"x4ndzw7",minWidth:"xwj5yc2",paddingBottom:"xdvlbce",paddingStart:"x5ib6vp",paddingLeft:null,paddingRight:null,paddingEnd:"xc73u3c",paddingTop:"x1nn3v0j",$$css:!0},adminMessageContainer:{maxWidth:"x193iq5w",$$css:!0}};function a(a){var b=a.domElementRef,e=a.isDialogOpened,f=a.isFirstMessageInGroup,g=a.isFocused,h=a.isModal,k=a.message,l=a.messageDomID,m=a.nextMessage,n=a.outgoing,o=a.prevMessage,p=a.setFocusedInTransition,q=a.setHoveredInTransition,r=a.setIsDialogOpened;a=a.stopHoveringRef;var s=c("useMWPEditMessageDeemphasizer")(),t=c("useMWMessageRowTheme")();s=i.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{centered:!0,children:i.jsxs(c("BaseView.react"),{xstyle:[s,j.adminMessageContainer],children:[i.jsx(d("MWV2ChatAdminMessage.react").MWV2ChatAdminMessage,{message:k,nextMessage:m,prevMessage:o}),i.jsx(c("MWMessageListAttachmentContainer.react"),{connectBottom:!1,connectTop:!1,message:k,outgoing:n,xstyle:j.adminMessageAttachment})]})});if(k.adminMsgCtaType==null)return i.jsx(c("MWV2MessageRowSimple.react"),{children:s});else return i.jsx(c("MWPMessageListRowWithKeyboardInteractions.react"),{domElementRef:f?void 0:b,isDialogOpened:e,isFocused:g,isModal:h,message:k,messageDomID:l,outgoing:n,setFocused:p,setHovered:q,setIsDialogOpened:r,stopHoveringRef:a,theme:t,children:s})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWExtraPinnedMessagePadding.react",["MWPMessageListColumn.react","react","useMWPIsMessagePinned"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){a=a.nextMessage;a=c("useMWPIsMessagePinned")(a);return a&&i.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:6})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWMessagePromptPopoverTrigger.react",["I64","JSResourceForInteraction","MWPActor.react","MWShowMessagePromptPopoverContext.react","MWXLazyPopoverTrigger.react","emptyFunction","react","useShouldAllowRollCallForMessage"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react")),k=h.useRef,l=c("JSResourceForInteraction")("MWMessagePromptPopover.react").__setRef("MWMessagePromptPopoverTrigger.react");function a(a){var b=a.attachments,e=a.children;a=a.message;b=d("useShouldAllowRollCallForMessage").useShouldAllowRollCallForMessage(a,b);var f=k(!1),g=d("MWPActor.react").useActor(),h=d("MWShowMessagePromptPopoverContext.react").useMWShowMessagePromptPopoverContext();h[0];var m=h[1];return b?j.jsx(c("MWXLazyPopoverTrigger.react"),{align:"middle",popoverProps:{message:a,onClose:c("emptyFunction")},popoverResource:l,position:(i||(i=d("I64"))).equal(g,a.senderId)?"start":"end",children:function(a,b){f.current===!1&&(f.current=!0,m(b));return j.jsx("div",{ref:a,children:e})}}):e}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ChatReactionsTooltip.react",["fbt","FBLogger","I64","LSAuthorityLevel","LSClearReactionsV2DetailsAndRangeStoredProcedure","LSContactBlockedByViewerStatus","LSContactGender","LSContactIdType","LSContactType","LSContactViewerRelationship","LSContactWorkForeignEntityType","LSFactory","LSIntEnum","LSIssueReactionsV2DetailsUsersListFetchStoredProcedure","LSVerifyContactRowExistsStoredProcedure","MWLSThread","MWPActor.react","Promise","ReQL","ReQLSuspense","intlSummarizeNumber","promiseDone","react","react-strict-dom","useIsReactionsV2Enabled","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m,n=m||(m=d("react"));e=m;var o=e.useEffect,p=e.useMemo,q=9;function r(a){var b=(j||(j=c("useReStore")))(),e=d("ReQLSuspense").useArray(function(){return a==null?d("ReQL").empty():d("ReQL").fromTableAscending(b.tables.contextual_profile_v1.index("associatedEntityIdAndOwner")).getKeyRange(a)},[b,a],f.id+":47"),g=p(function(){var a=new Map();for(var b=e,c=Array.isArray(b),f=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(c){if(f>=b.length)break;g=b[f++]}else{f=b.next();if(f.done)break;g=f.value}g=g;var h=g==null?void 0:g.profileName;h!=null&&a.set((l||(l=d("I64"))).to_string(g.ownerId),h)}return a},[e]);return g}function a(a){var b=a.messageId;a.parentThreadKey;var c=a.reactions;a=a.threadKey;var e=d("MWLSThread").useThread(a,function(a){return a.parentThreadKey}),f=d("useIsReactionsV2Enabled").useIsReactionsV2Enabled(a);return f?n.jsx(t,{messageId:b,parentThreadKey:e,reactions:c,threadKey:a}):n.jsx(s,{messageId:b,parentThreadKey:e,reactions:c,threadKey:a})}a.displayName=a.name+" [from "+f.id+"]";function s(a){var e=a.messageId,g=a.parentThreadKey,m=a.reactions,s=a.threadKey,t=(j||(j=c("useReStore")))(),u=d("ReQLSuspense").useArray(function(){return d("ReQL").leftJoin(d("ReQL").fromTableAscending(t.tables.reactions).getKeyRange(s,e),d("ReQL").fromTableAscending(t.tables.contacts))},[t,s,e],f.id+":108"),v=r(g);o(function(){c("promiseDone")(t.runInTransaction(function(a){return(i||(i=b("Promise"))).all(u.map(function(e){e=e[1];if(e!=null)return c("LSVerifyContactRowExistsStoredProcedure")(c("LSFactory")(a),{authorityLevel:(k||(k=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").CLIENT_PARTIAL),blockedByViewerStatus:k.ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED),contactIdType:k.ofNumber(c("LSContactIdType").FBID),contactType:k.ofNumber(c("LSContactType").USER),contactViewerRelationship:k.ofNumber(c("LSContactViewerRelationship").UNKNOWN),gender:k.ofNumber(c("LSContactGender").UNKNOWN),id:e.id,isBlocked:!1,isMemorialized:!1,isSelf:!1,workForeignEntityType:k.ofNumber(c("LSContactWorkForeignEntityType").UNKNOWN)});else return(i||(i=b("Promise"))).resolve()}))},"readwrite"))},[t,u]);a=p(function(){var a=new Map(u.map(function(a){var b=a[1];b==null&&c("FBLogger")("messenger_web_product").debug("missing contact for reaction tooltip");return[(l||(l=d("I64"))).to_string(a[0].actorId),b!=null?b.name:h._("__JHASH__AaE4hJExM0x__JHASH__")]})),b=m.map(function(b){b=(l||(l=d("I64"))).to_string(b.actorId);if(v.has(b))return v.get(b);b=a.get(b);if(b==null)return"";else return b}).filter(function(a){return a!==""}),e=b.length;b=b.slice(0,q);if(e>q){e=e-q;b.push(h._("__JHASH__KVtJcih6CQz__JHASH__",[h._plural(e),h._param("count",String(e))]))}return b},[v,m,u]);g=a.map(function(a,b){return n.jsx(d("react-strict-dom").html.div,{children:a},String(b))});return n.jsx(d("react-strict-dom").html.div,{children:g})}s.displayName=s.name+" [from "+f.id+"]";function t(a){var b,e=a.messageId,g=a.parentThreadKey;a.reactions;var i=a.threadKey,k=(j||(j=c("useReStore")))();o(function(){c("promiseDone")(k.runInTransaction(function(a){return c("LSClearReactionsV2DetailsAndRangeStoredProcedure")(c("LSFactory")(a))},"readwrite")),c("promiseDone")(k.runInTransaction(function(a){return c("LSIssueReactionsV2DetailsUsersListFetchStoredProcedure")(c("LSFactory")(a),{messageId:e,threadId:i})},"readwrite"))},[k,i,e]);var m=r(g);a=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(k.tables.reactions_v2_details).getKeyRange(i,e).map(function(a){var b;return(b=m.get((l||(l=d("I64"))).to_string(a.reactorId)))!=null?b:a.fullName})},[k,m,i,e],f.id+":242");g=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(k.tables.reactions_v2).getKeyRange(i,e)},[k,i,e],f.id+":255");var p=g?g.map(function(a){return a.viewerIsReactor}):[];p=p.length>0?p.reduce(function(a,b){return a||b}):!1;var s=d("MWPActor.react").useActor(),t=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(k.tables.contacts).getKeyRange(s)},[k,s],f.id+":274");g=g?g.map(function(a){return(l||(l=d("I64"))).to_int32(a.count)}).filter(function(a){return a>0}):[];b=(b=(t==null?void 0:t.id)!=null?m.get((l||(l=d("I64"))).to_string(t.id)):null)!=null?b:t==null?void 0:t.name;JSON.stringify(g)===JSON.stringify([1])&&p&&b!=null&&a.length===0?a.push(b):p&&a[0]!=null&&t&&b!=null&&((g=a[0])==null?void 0:g.toString())!==b&&a.unshift(b);p=h._("__JHASH__GTBXwO8BaZr__JHASH__");t=a.slice(0,q);if(a.length>q){g=a.length-q;t.push(h._("__JHASH__KVtJcih6CQz__JHASH__",[h._plural(g),h._param("count",String(c("intlSummarizeNumber")(g)))]))}b=t.length===0?p:t.map(function(a,b){return n.jsx(d("react-strict-dom").html.div,{children:a},String(b))});return n.jsx(d("react-strict-dom").html.div,{children:b})}t.displayName=t.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useIsReactionDialogEnabled",["LSMessagingThreadTypeUtil","LSThreadBitOffset","MWLSThread"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return(a=d("MWLSThread").useThread(a,function(a){return d("LSThreadBitOffset").has(184,a)||d("LSMessagingThreadTypeUtil").isSecure(a.threadType)}))!=null?a:!1}g["default"]=a}),98);
__d("MWMessageReactionsContainer.react",["fbt","I64","MWChatReactionEmoji","MWChatReactionsUtils","MWV2ChatReactionsTooltip.react","MWXTooltip.react","intlSummarizeNumber","react","stylex","useIsReactionDialogEnabled"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=j||d("react"),m={emoji:{alignItems:"x6s0dn4",backgroundColor:"x2bj2ny",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",lineHeight:"x14ju556",$$css:!0},emojiMargin:{marginEnd:"xcwd3tp",marginLeft:null,marginRight:null,$$css:!0},emojiNum:{color:"xi81zsa",fontSize:"x1ncwhqj",lineHeight:"x14ju556",minWidth:"xdhweic",paddingEnd:"x150jy0e",paddingLeft:null,paddingRight:null,paddingStart:"x1e558r4",textAlign:"x2b8uid",$$css:!0},emojiRow:{alignItems:"x6s0dn4",backgroundColor:"x2bj2ny",borderTopStartRadius:"x1a2cdl4",borderTopEndRadius:"xnhgr82",borderBottomEndRadius:"x1qt0ttw",borderBottomStartRadius:"xgk8upj",boxShadow:"x10vwrwz",display:"x78zum5",justifyContent:"xl56j7k",paddingTop:"x4p5aij",paddingEnd:"x19um543",paddingBottom:"x1j85h84",paddingStart:"x1m6msm",textAlign:"xp4054r",$$css:!0},emojiWithCursor:{cursor:"x1ypdohk",$$css:!0},scaleHeartEmoji:{transform:"xhqu4j4",$$css:!0}};function a(a){var b=a.count,e=a.emojis,f=a.message,g=a.reactions,j=a.reactionsV2,o=a.renderEmojis;a=a.threadKey;f=f.messageId;j=j!=null?j.map(function(a){return(k||(k=d("I64"))).to_int32(a.count)}).reduce(function(a,b){return a+b},0):0;var p=c("useIsReactionDialogEnabled")(a);j=j>1?j:b;var q=j>1;b=e.map(function(a,b){var f=q||b!==e.length-1,g=d("MWChatReactionsUtils").isHeart(a[0]);return l.jsx("div",{className:(i||(i=c("stylex")))(m.emoji,p?m.emojiWithCursor:!1,f?m.emojiMargin:!1),children:l.jsx("div",{className:i(g?m.scaleHeartEmoji:!1),children:o?o(a,16,"messenger_reaction_emoji_"+a[0]):l.jsx(c("MWChatReactionEmoji"),{emoji:a,size:16,testid:void 0})})},String(b))});b=l.jsxs("div",{className:"x6s0dn4 x2bj2ny x1a2cdl4 xnhgr82 x1qt0ttw xgk8upj x10vwrwz x78zum5 xl56j7k x4p5aij x19um543 x1j85h84 x1m6msm xp4054r",role:"none",children:[b,q?l.jsx(n,{reactionCount:j}):null]});return p?l.jsx(c("MWXTooltip.react"),{align:"middle",label:h._("__JHASH__pugXv5G1XoG__JHASH__"),position:"above",tooltip:l.jsx(c("MWV2ChatReactionsTooltip.react"),{messageId:f,reactions:g,threadKey:a}),children:b}):b}a.displayName=a.name+" [from "+f.id+"]";function n(a){a=a.reactionCount;a=c("intlSummarizeNumber")(a);var b=a.length;return l.jsx("div",{className:"xi81zsa x1ncwhqj x14ju556 xdhweic x150jy0e x1e558r4 x2b8uid",role:"none",style:{width:b+"ch"},children:a})}n.displayName=n.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPMessageFooter.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.Children,l={container:{backgroundColor:"x1eb86dx",display:"x78zum5",height:"xmix8c7",justifyContent:"x13a6bvl",position:"x1n2onr6",width:"xh8yej3",zIndex:"x1vjfegm",$$css:!0},gutter:{flexBasis:"x1ohifd9",flexGrow:"x1c4vz4f",flexShrink:"xs83m0k",$$css:!0},items:{display:"x78zum5",transform:"x11z5cog",$$css:!0}};function a(a){var b=a.children,d=a.itemsXstyle,e=a.outgoing;a=a.xstyle;b=k.toArray(b).filter(Boolean);return b.length===0?null:j.jsxs("div",{className:(h||(h=c("stylex")))(l.container,a),role:"none",children:[b.map(function(a,b){return j.jsx("div",{className:(h||(h=c("stylex")))(l.items,d),role:"none",children:a},""+b)}),e?null:j.jsx("div",{className:"x1ohifd9 x1c4vz4f xs83m0k",role:"none"})]})}a.displayName=a.name+" [from "+f.id+"]";g.MWPMessageFooter=a}),98);
__d("MWPMessageLoggingWrapper.react",["CometHeroInteractionWithDiv.react","MWChatInteraction","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var b=a.children,e=a.messageId,f=a.optimisticMessageId;a=a.xstyle;e=d("MWChatInteraction").get(e);f=d("MWChatInteraction").get(f);e=(e=e)!=null?e:f;if(e==null)return j.jsx("div",{className:(h||(h=c("stylex")))(a),children:b});else return j.jsx(c("CometHeroInteractionWithDiv.react"),{interactionDesc:"MESSAGE_RENDER",interactionUUID:e,pageletName:"Message",xstyle:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWMultiReactConstants",[],(function(a,b,c,d,e,f){"use strict";a=3;b=20;c=3;d=9;e=180;var g=2;f.DEFAULT_MAX_REACTION_PREVIEWED_ALLOWED=a;f.CM_MAX_REACTION_EMOJIS_ALLOWED=b;f.PUBLIC_CHANNELS_MAX_REACTIONS_EMOJIS_PREVIEWED_WHEN_COLLAPSED=c;f.SPACING_PER_COUNT_CHARACTER=d;f.REACTIONS_ROW_EXPAND_COLLAPSE_ANIMATION_TOTAL_DURATION=e;f.REACTION_BUTTON_BUBBLE_EASE_FACTOR=g}),66);
__d("MWReactionUtils",["LSMessagingThreadTypeUtil","MWCMThreadTypes.react","ReQL","ReQLSuspense","useIsMultiReactionEnabled","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){var e,g=(h||(h=c("useReStore")))(),i=d("useIsMultiReactionEnabled").useIsMultiReactEnabled(b);e=(e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(g.tables.threads,["threadSubtype","threadType"]).getKeyRange(b)},[g,b],f.id+":30"))!=null?e:{};var j=e.threadSubtype;e=e.threadType;if(!(e!=null&&d("LSMessagingThreadTypeUtil").isDiscoverableChannel(e))&&!(e!=null&&d("MWCMThreadTypes.react").isBroadcastThread(e))&&!(j!=null&&d("MWCMThreadTypes.react").isIGBroadcastChannelThread(j)))return;if(i)return;a.sort(function(a,b){return a.count===b.count&&a.reactionLiteral!=null&&b.reactionLiteral!=null?a.reactionLiteral.localeCompare(b.reactionLiteral):b.count-a.count})}g.useSortReactionsForBroadcastChat=a}),98);
__d("MWPMessageReactions.react",["fbt","EmojiRenderer","I64","JSResourceForInteraction","LSFactory","LSIssueReactionsV2DetailsUsersListFetchStoredProcedure","LSMessagingThreadTypeUtil","LSPlatformWaitForTaskCompletion","MWChatReactionsUtils","MWLSThread","MWMultiReactConstants","MWReactionUtils","MWV2MessageRowIsRowFocusedContext.react","MWXPressable.react","ReQL","ReQLSuspense","emptyFunction","gkx","intlList","promiseDone","react","useIsMultiReactionEnabled","useIsReactionDialogEnabled","useIsReactionsV2Enabled","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react")),m=k,n=m.useCallback,o=m.useContext,p=m.useDeferredValue,q=m.useMemo,r=m.useRef,s=m.useState,t=c("gkx")("24166")?d("MWChatReactionsUtils").heartType2:d("MWChatReactionsUtils").heartType1;function a(a){var b=(i||(i=c("useReStore")))(),e=a.messageId,g=a.threadKey;a=p(d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(b.tables.reactions).getKeyRange(g,e).map(function(a){return d("MWChatReactionsUtils").isHeart(a.reaction)?{actorId:a.actorId,authorityLevel:a.authorityLevel,messageId:a.messageId,reaction:t,threadKey:a.threadKey,timestampMs:a.timestampMs}:a})},[g,e,b],f.id+":64"));return a}function b(a){var b=(i||(i=c("useReStore")))(),e=a.messageId,g=a.threadKey;a=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(b.tables.reactions_v2).getKeyRange(g,e)},[b,g,e],f.id+":89");return a}function e(a){var b=(i||(i=c("useReStore")))(),e=a.messageId,g=a.threadKey;a=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(b.tables.reactions_v2).getKeyRange(g,e).filter(function(a){return(j||(j=d("I64"))).gt(a.count,j.zero)})},[b,g,e],f.id+":105");return a}function u(a,b){a=a!=null?c("intlList")(a.map(function(a){return a.join("")}),c("intlList").CONJUNCTIONS.AND,c("intlList").DELIMITERS.COMMA):"";return h._("__JHASH__tSgM5wXgT0G__JHASH__",[h._plural(b,"number"),h._param("the comma separated list of emojis used to react on this message",a)])}function v(a){return a.map(function(a,b){b=d("EmojiRenderer").parse(a).map(function(a){return a.emoji});return b.length!==1?[""]:b[0]}).filter(function(a){return a.join("")!==""})}function w(a){var b=a.children,e=a.dialogResource,g=a.message,h=a.onPress;a.outgoing;var k=a.reactions,m=a.reactionsV2;a=a.shouldUseVariant16ForReactionsV2;var p=a===void 0?!1:a,t=g.messageId,w=g.threadKey;a=o(d("MWV2MessageRowIsRowFocusedContext.react").context);var x=a.setFocused,y=a.setIsDialogOpened,z=(i||(i=c("useReStore")))();a=s(!1);var A=a[0],B=a[1];a=function(){B(function(a){return!a})};var C=d("useIsReactionsV2Enabled").useIsReactionsV2Enabled(w),D=d("useIsMultiReactionEnabled").useIsMultiReactEnabled(w),E=d("MWLSThread").useThread(w,function(a){return d("LSMessagingThreadTypeUtil").isDiscoverableChannel(a.threadType)}),F=D?d("MWMultiReactConstants").CM_MAX_REACTION_EMOJIS_ALLOWED:3,G=c("useIsReactionDialogEnabled")(w),H=r(new Map()),I=n(function(){C&&c("promiseDone")(c("LSPlatformWaitForTaskCompletion")(z,function(a){return c("LSIssueReactionsV2DetailsUsersListFetchStoredProcedure")(c("LSFactory")(a),{messageId:g.messageId,threadId:w})},"issueReactionsV2DetailsUsersListFetch").then(function(){return H.current.forEach(function(a){return a()})}))},[z,C,g.messageId,w]),J=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(z.tables.reactions_v2).getKeyRange(w,t).filter(function(a){return(j||(j=d("I64"))).gt(a.count,j.zero)}).map(function(a){var b=d("ReQLSuspense").first(d("ReQL").fromTableAscending(z.tables.reaction_v2_types).getKeyRange(a.reactionFbid),f.id+":226");b=p?b==null?void 0:b.reactionLiteralVariant16:b==null?void 0:b.reactionLiteral;return babelHelpers["extends"]({},a,{count:(j||(j=d("I64"))).to_int32(a.count),reactionLiteral:b})})},[z,w,t,p],f.id+":220");d("MWReactionUtils").useSortReactionsForBroadcastChat(J,w);var K=Array.from(new Set(J.map(function(a){return(a=a.reactionLiteral)!=null?a:""})));E=D&&E===!0?K:K.slice(0,F);K=m!=null&&C?v(E):v(Array.from(new Set(k.map(function(a){a=a.reaction;return a}))).slice(0,F));E=m!=null&&C?(j||(j=d("I64"))).to_int32(J.reduce(function(a,b){return(j||(j=d("I64"))).add(a,j.of_int32(b.count))},(j||(j=d("I64"))).zero)):k.length;F=u(K,E);m=r(null);J=q(function(){return e!=null?e:C?c("JSResourceForInteraction")("MWBroadcastChatReactionsDialog.react").__setRef("MWPMessageReactions.react"):c("JSResourceForInteraction")("MWV2ChatReactionsDialog.react").__setRef("MWPMessageReactions.react")},[e,C]);var L=q(function(){return{message:g,onLoadComplete:function(a){H.current.set(a,a);return function(){H.current["delete"](a)}},thread:{threadKey:w}}},[g,w]),M=n(function(){y(function(){return!1}),x(function(){return!0})},[x,y]);J=c("useMWXLazyDialog")(J);var N=J[0],O=n(function(a){y(function(){return!0}),N(babelHelpers["extends"]({},L,{initialTab:a}),M),h==null?void 0:h(),I()},[L,M,h,y,N,I]);J={eventName:"open_message_reactions_dialog",threadKey:w};return D||!G?b(K,E,k,g,w,O,A,a):l.jsx(c("MWXPressable.react"),{"aria-label":F,loggingEvent:J,onPress:function(){return O()},overlayDisabled:!0,ref:m,children:b(K,E,k,g,w,O,!1,c("emptyFunction"))})}w.displayName=w.name+" [from "+f.id+"]";g.useReactions=a;g.useReactionsV2=b;g.useNonZeroCountReactionsV2=e;g.MWPMessageReactions=w}),98);
__d("MWMessageRowMessageComponent.react",["GroupsCometChatsEngagementLogger","I64","Int64Hooks","LSMessagingThreadTypeUtil","MWClickedMessageContext.react","MWMessageListAttachmentContainer.react","MWMessageReactionsContainer.react","MWPBaseMessage.react","MWPMessageFooter.react","MWPMessageLoggingWrapper.react","MWPMessageReactions.react","MWV2ChatBubbleContainer.react","MWV2ChatEmoji.react","MWV2ChatText.react","MWV2ChatUnsentMessage.react","MWV2MessageTimestampTooltip.react","MWXPressable.react","ReQL","asyncToGeneratorRuntime","cr:120","promiseDone","react","useIsMultiReactionEnabled","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react"));a=j.memo;e=a(function(a){var e=a.hasClickState,f=e===void 0?!1:e,g=a.hasMessageEmphasisRing;e=a.isFirstMessageInGroup;var j=a.isLastMessageInGroup,l=a.isSearchPluginAttachment,m=l===void 0?!1:l,n=a.isSecureMessage,o=a.message,p=a.navigateToRouteForMediaViewer,q=a.nextMessage,r=a.offlineAttachmentId,s=a.outgoing,t=a.prevMessage,u=a.reactions,v=a.reactionsV2,w=a.renderAttachment;l=a.threadType;a=c("MWClickedMessageContext.react").useHook();var x=a.clickedMessageId,y=a.fetchMessageSeenCount,z=a.hasError,A=a.setClickedMessageId,B=(h||(h=c("useReStore")))(),C=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(l),D=d("useIsMultiReactionEnabled").useIsMultiReactEnabled(o.threadKey),E=d("Int64Hooks").useCallbackInt64(function(){if(window.getSelection().toString()!=="")return;c("promiseDone")(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(B.tables.threads).getKeyRange(o.threadKey))),b=a==null?null:yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(B.tables.community_folders).getKeyRange(a.parentThreadKey));a!=null&&b!=null&&d("GroupsCometChatsEngagementLogger").log({action:"tap",client_extras:{mid:o.messageId},community_id:(i||(i=d("I64"))).to_string(b.folderId),event:"render_seen_count",group_id:i.to_string(b.fbGroupId),source:"message_bubble",surface:"thread_view",thread_id:i.to_string(a.threadKey)});if(x===o.messageId&&!z)return A(null);else return y(o.threadKey,o.messageId,b)})())},[B,x,o.messageId,o.threadKey,z,A,y]);return k.jsx(c("MWPBaseMessage.react"),{checkEmoticon:!0,isFirstMessageInGroup:e,isLastMessageInGroup:j,isSearchPluginAttachment:m,message:o,nextMessage:q,outgoing:s,prevMessage:t,reactions:u,reactionsV2:v,renderAttachment:function(a,b,d){if(m)return null;return w!=null&&n?w(o,t,q,s):k.jsx(c("MWMessageListAttachmentContainer.react"),{connectBottom:b,connectTop:a,hasEmphasisRing:g,hasText:d,message:o,navigateToRouteForMediaViewer:p,outgoing:s})},renderEmoji:function(){return k.jsx(c("MWV2ChatEmoji.react"),{hasEmphasisRing:g,isSecureMessage:n,message:o})},renderMessageBubble:function(a,b,d,e){return k.jsx(c("MWV2ChatBubbleContainer.react"),{connectBottom:d,connectTop:b,hasEmphasisRing:g,message:o,outgoing:s,precedesXMA:e,children:k.jsx(c("MWV2ChatText.react"),{isSecureMessage:n,message:o,outgoing:s})})},renderMessageContainer:function(a,d){var e;e=k.jsx(c("MWPMessageLoggingWrapper.react"),{messageId:o.messageId,optimisticMessageId:(e=r)!=null?e:o.offlineThreadingId,xstyle:d,children:C&&b("cr:120")?k.jsx(b("cr:120"),{message:o,children:a}):k.jsx(c("MWV2MessageTimestampTooltip.react"),{message:o,children:a})});if(f)return k.jsx(c("MWXPressable.react"),{onPress:E,overlayDisabled:!0,xstyle:d,children:e});else return e},renderMessageFooter:function(){if(D)return null;var a=v!=null&&v.length>0;return k.jsx(d("MWPMessageFooter.react").MWPMessageFooter,{outgoing:s,children:!a&&u.length<1?null:k.jsx(d("MWPMessageReactions.react").MWPMessageReactions,{message:o,outgoing:s,reactions:u,reactionsV2:a?v:void 0,children:function(b,d,e,f,g){return k.jsx(c("MWMessageReactionsContainer.react"),{count:d,emojis:b,message:f,reactions:e,reactionsV2:a?v:void 0,threadKey:g})}})})},renderUnsentMessage:function(){return k.jsx(c("MWV2MessageTimestampTooltip.react"),{message:o,children:k.jsx(d("MWV2ChatUnsentMessage.react").MWV2ChatUnsentMessage,{isSecureMessage:n,message:o,outgoing:s})})}})});g.MWMessageRowMessageComponent=e}),98);
__d("MWSearchPluginUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a){a=(a=a==null?void 0:(a=a.split("?")[1])==null?void 0:a.split("&"))!=null?a:[];if(a.length===0)return null;var b=[],c=[],d=[],e="",f="",g="";a.forEach(function(a){a=a.split("=");var h=a[0];a=a[1];a=decodeURIComponent(a);h.includes("source_titles")&&b.push(a.replaceAll("+"," "));h.includes("source_sub_titles")&&c.push(a.replaceAll("+"," "));h.includes("source_urls")&&d.push(a);h==="source_query"&&(e=a.replaceAll("+"," "));h==="source_query_url"&&(f=a);h==="header"&&(g=a)});return{header:g,source_query:e,source_query_url:f,source_sub_titles:c,source_titles:b,source_urls:d}}function b(a){return a.cta1Type==="xma_gen_ai_search_plugin_response_search_engine_attribution"&&a.cta2Type==="xma_gen_ai_search_plugin_response_sources"}f.useSearchPluginSources=a;f.isSearchPlugin=b}),66);
__d("MWMessageSearchPluginMustache.react",["BaseView.react","CurrentUser","IGDWebUtils","MWPMessageListColumn.react","MWSearchPluginUtils","MWXPressable.react","MWXText.react","MessengerWebUXLogger","react","useMWPGetAttachmentCTA","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useMemo,l={mustacheContainer:{display:"x78zum5",flexDirection:"x1q0g3np",$$css:!0},root:{marginStart:"x16n37ib",marginLeft:null,marginRight:null,$$css:!0}};function a(a){var b=a.attachment,e=a.botResponseId,f=a.dialogResource,g=a.flowInstanceId;a=b.attachmentCta1Id;b=b.attachmentCta2Id;a=c("useMWPGetAttachmentCTA")(a);b=c("useMWPGetAttachmentCTA")(b);var h=d("MWSearchPluginUtils").useSearchPluginSources(b==null?void 0:b.nativeUrl),m=d("IGDWebUtils").isInstagramWebSupportedApp(Number(c("CurrentUser").getAppID()));f=c("useMWXLazyDialog")(f);var n=f[0];f=m?"highlight":"blueLink";m=m?"bodyLink4":"body4";var o=k(function(){var a;return{extraData:{botResponseId:(a=e)!=null?a:""},flowInstanceId:g}},[e,g]),p=c("MessengerWebUXLogger").useImpressionLoggerRef(babelHelpers["extends"]({eventName:"search_plugin_attachment_rendered"},o)),q=c("MessengerWebUXLogger").useInteractionLogger(),r=j(function(){q==null?void 0:q(babelHelpers["extends"]({eventName:"search_plugin_see_more"},o))},[q,o]),s=j(function(){h!=null&&(q==null?void 0:q(babelHelpers["extends"]({eventName:"search_plugin_see_sources"},o)),n({botResponseId:e,sources:h}))},[e,o,q,n,h]);return i.jsxs(c("BaseView.react"),{ref:p,xstyle:l.root,children:[i.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:4}),i.jsxs("div",{className:"x78zum5 x1q0g3np",children:[i.jsx(c("MWXPressable.react"),{linkProps:{url:a==null?void 0:a.actionUrl},onPress:r,overlayDisabled:!0,children:i.jsx(c("MWXText.react"),{color:f,type:m,children:a!=null&&a.title})}),i.jsx(c("MWXPressable.react"),{children:i.jsx(c("MWXText.react"),{color:"primary",type:"bodyLink4",children:"\xa0\xb7\xa0"})}),i.jsx(c("MWXPressable.react"),{onPress:s,overlayDisabled:!0,children:i.jsx(c("MWXText.react"),{color:f,type:m,children:b!=null&&b.title})})]}),i.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:4})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWMustacheText",["fbt","I64","LSIntEnum","LSMessageTakedownState","MWPMessageListColumn.react","MWXLink.react","MWXText.react","react","stylex","useGroupsCometCMDisabledChatEntryPointDialog","useMWPGetAttachments"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=l||d("react"),n={outgoing:{alignSelf:"xpvyfi4",$$css:!0},row:{marginBottom:"x12nagc",marginTop:"x1gslohp",$$css:!0}};function o(a){var b=a.attachment;a=a.outgoing;b=b.mustacheText;return b==null||b===""?null:m.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnWithGutters,{shrinkwrap:!0,children:m.jsx("div",{className:(i||(i=c("stylex")))(n.row,a&&n.outgoing),children:m.jsx(c("MWXText.react"),{color:"tertiary",type:"meta4",children:h._("__JHASH__fTQoFWqjgLD__JHASH__",[h._param("quoted text",b)])})})})}o.displayName=o.name+" [from "+f.id+"]";function p(a){var b=a.outgoing,e=a.threadID,f=!0;a=c("useGroupsCometCMDisabledChatEntryPointDialog")({isGeoBlocked:f,threadID:e});var g=a[0];return m.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnWithGutters,{shrinkwrap:!0,children:m.jsx("div",{className:(i||(i=c("stylex")))(n.row,b&&n.outgoing),children:m.jsx(c("MWXText.react"),{color:"blueLink",type:"bodyLink4",children:m.jsx(c("MWXLink.react"),{display:"inline",onClick:function(){return g({isGeoBlocked:f,threadID:e})},children:h._("__JHASH__P-dEPoA1cwy__JHASH__")})})})})}p.displayName=p.name+" [from "+f.id+"]";function a(a){var b,e=a.message;a=a.outgoing;b=(b=c("useMWPGetAttachments")(e))==null?void 0:b[0];var f=e.takedownState!=null&&(j||(j=d("I64"))).equal(e.takedownState,(k||(k=d("LSIntEnum"))).ofNumber(c("LSMessageTakedownState").GEO_BLOCKED));if(f)return m.jsx(p,{outgoing:a,threadID:(j||(j=d("I64"))).to_string(e.threadKey)});return b!=null?m.jsx(o,{attachment:b,outgoing:a}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPEditMessageHistoryListText.react",["MWChatTextTransform","MWXMessageTextWithEntities.react","MWXText.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={incoming:{color:"x18lvrbx",$$css:!0},outgoing:{color:"xyk4ms5",$$css:!0},regular:{marginTop:"x1gslohp",marginEnd:"x11i5rnm",marginBottom:"x12nagc",marginStart:"x1mh8g0r",textAlign:"x1yc453h",whiteSpace:"x126k92a",$$css:!0}};function a(a){var b=a.maxLength,e=a.maxLines,f=a.seeLessLinkProps,g=a.seeMoreLinkProps,i=a.text,l=a.truncationStyle,m=a.outgoing,n=a.ranges,o=a.renderers,p=a.transforms;a=a.xstyleForText;return j.jsx(c("MWXText.react"),{color:m?"white":"primary",type:"body3",children:j.jsx("div",{className:(h||(h=c("stylex")))(k.regular,a,m?k.outgoing:k.incoming),dir:"auto",children:j.jsx(c("MWXMessageTextWithEntities.react"),{maxLength:b,maxLines:e,ranges:n,renderers:o,seeLessLinkProps:f,seeMoreLinkProps:g,text:i,transforms:(a=p)!=null?a:d("MWChatTextTransform").epdTextTransforms,truncationStyle:l,truncationThreshold:2,withParagraphs:!0})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPEditedMessageHistoryEntry.react",["MWPEditMessageHistoryListText.react","MWXMessageBubble.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={inner:{display:"x78zum5",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",marginBottom:"xjpr12u",minWidth:"xeuugli",opacity:"xbyyjgo",$$css:!0},outgoing:{flexDirection:"x15zctf7",$$css:!0}},l={weight:"semibold"};function a(a){var b=a.isReply,d=a.messageHistoryEntry;a=a.outgoing;return j.jsx("div",{className:(h||(h=c("stylex")))(k.inner,a&&k.outgoing),"data-testid":void 0,role:"none",children:j.jsx(c("MWXMessageBubble.react"),{align:a?"right":"left",color:a?"outgoing":"incoming",connectBottom:!1,connectTop:!1,hasBorder:!a&&b,variant:"opaque",children:j.jsx(c("MWPEditMessageHistoryListText.react"),{maxLength:300,maxLines:3,outgoing:a,ranges:[],seeLessLinkProps:l,seeMoreLinkProps:l,text:d.messageContent||"",truncationStyle:"see-more-and-less"})})})}a.displayName=a.name+" [from "+f.id+"]";g.MWPEditedMessageHistoryEntry=a}),98);
__d("MWPEditedMessageHistoryList.react",["MWMessageEditContext.react","MWPEditedMessageHistoryEntry.react","ReQL","ReQLSuspense","react","stylex","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react")),l=j.useMemo,m={base:{backgroundColor:"x1eb86dx",zIndex:"x1vjfegm",$$css:!0},incoming:{display:"x1lliihq",paddingEnd:"x1sxyh0",paddingLeft:null,paddingRight:null,paddingStart:"x1wd77nz",$$css:!0},outgoing:{display:"x1lliihq",paddingEnd:"xuzvp2x",paddingLeft:null,paddingRight:null,paddingStart:"xd06s5i",$$css:!0}};function n(a){var b=(h||(h=c("useReStore")))(),e=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(b.tables.edit_message_history.index("originalMsgPkEditTs")).getKeyRange(a)},[b,a],f.id+":52");return l(function(){return e.slice(0,-1)},[e])}function a(a){var b=a.isReply,e=a.msgId,f=a.outgoing;a=n(e);e=d("MWMessageEditContext.react").useMWMessageEditContext()||{showEdits:!1};e=e.showEdits;a=k.jsx("div",{className:(i||(i=c("stylex")))(m.base,f?m.incoming:m.outgoing),role:"none",children:a.map(function(a,c){return k.jsx(d("MWPEditedMessageHistoryEntry.react").MWPEditedMessageHistoryEntry,{isReply:b,messageHistoryEntry:a,outgoing:f},c)})});return e?a:null}a.displayName=a.name+" [from "+f.id+"]";g.MWPEditedMessageHistoryList=a}),98);
__d("MWPinnedMessageDropdownButton.react",["fbt","ix","JSResourceForInteraction","MWXLazyPopoverTrigger.react","TetraIcon.react","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react"),l=c("JSResourceForInteraction")("MWPinnedMessageItemHoverDropdownMenu.react").__setRef("MWPinnedMessageDropdownButton.react");function a(a){var b=a.hidden;a=a.message;return!b&&k.jsx("div",{className:"x1a87ojn x10l6tqk xwa60dl",children:k.jsx(c("MWXLazyPopoverTrigger.react"),{popoverProps:{message:a},popoverResource:l,children:function(a,b){return k.jsx(c("TetraIcon.react"),{"aria-label":h._("__JHASH__2-Q8CjJAjMD__JHASH__"),color:"secondary",icon:d("fbicon")._(i("484386"),16),onPress:b,ref:a})}})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("usePinnedIconAnimation",["react","useDebouncedValue"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useRef,k=b.useState,l={mountAnimationIncoming:{animationDuration:"x5hsz1j",animationName:"x1ko8byu",animationTimingFunction:"x4hg4is",$$css:!0},mountAnimationOutgoing:{animationDuration:"x5hsz1j",animationName:"x1c78tyx",animationTimingFunction:"x4hg4is",$$css:!0},unmountAnimation:{animationDuration:"x5hsz1j",animationFillMode:"x10e4vud",animationName:"xvma63k",animationTimingFunction:"x4hg4is",$$css:!0}};function a(a,b){var d=k(!1),e=d[0],f=d[1],g=j(a);d=b?l.mountAnimationOutgoing:l.mountAnimationIncoming;i(function(){a!==g.current&&f(!0),g.current=a},[a]);return{mountAnimation:e?d:null,shouldShow:c("useDebouncedValue")(a,200),unmountAnimation:l.unmountAnimation}}g["default"]=a}),98);
__d("MWPinnedMessageOverlay.react",["MDSPinnedMessageIcon.react","react","stylex","useMWPIsMessagePinned","usePinnedIconAnimation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={alignEnd:{end:"xds687c",left:null,right:null,transform:"x7b9nwf",$$css:!0},alignStart:{start:"x17qophe",left:null,right:null,transform:"x1op1vkj",$$css:!0},container:{position:"x10l6tqk",top:"x13vifvy",zIndex:"xhtitgo",$$css:!0},relative:{position:"x1n2onr6",$$css:!0}};function a(a){var b=a.alreadyRenderedPin,d=a.children,e=a.message;a=a.outgoing;e=c("useMWPIsMessagePinned")(e);var f=c("usePinnedIconAnimation")(e,a),g=f.mountAnimation,i=f.shouldShow;f=f.unmountAnimation;return!i||b?j.jsx(j.Fragment,{children:d}):d&&j.jsxs("div",{className:"x1n2onr6",children:[j.jsx("div",{className:(h||(h=c("stylex")))([k.container,a?k.alignEnd:k.alignStart,e?g:f]),children:j.jsx(c("MDSPinnedMessageIcon.react"),{color:"tertiary",size:16})}),d]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWIsXMARoom",["ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=(h||(h=c("useReStore")))(),e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(b.table("attachments")).getKeyRange(a.threadKey,a.messageId)},[b,a],f.id+":27");return(e==null?void 0:e.defaultCtaType)==="xma_web_url"&&(e==null?void 0:e.attachmentLoggingType)==="xma_open_native_rooms_invite"}g["default"]=a}),98);
__d("MWPinnedMessageRowFooterNUXWrapperRequireNUX.react",["nux:344","react","useMWIsXMARoom","withCometPlaceholder"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=function(){return b("nux:344")==null?void 0:b("nux:344")("WEB_MSGR_PINNED_MESSAGES_NUX")};function a(a){var b=a.isLastMessage,d=a.isOutgoing,e=a.isPinnedMessageList;a=a.message;var f=a.textHasLinks;a=c("useMWIsXMARoom")(a);d=!d&&(f||a)&&b&&!e;return!d?null:i.jsx(j,{})}a.displayName=a.name+" [from "+f.id+"]";e=d("withCometPlaceholder").withCometPlaceholder(a);g["default"]=e}),98);
__d("MWPBaseRepliedMessage.react",["I64","LSIntEnum","LSMessageReplySourceTypeV2","LSReplyMessageAttachmentType","LSReplyMessageStatus","MWXPressable.react","react","recoverableViolation","useIsRollcallEnabled","useMWJumpToMessage","useRollcallContributionsXMAActionHandler"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||d("react"),l={elevate:{maxWidth:"x193iq5w",position:"x1n2onr6",zIndex:"x1vjfegm",$$css:!0},pressable:{display:"x1lliihq",$$css:!0}};function a(a){var b=a.clickToNavigateToReply;b=b===void 0?!0:b;var e=a.earlyCheckForReplyStatus;e=e===void 0?!1:e;var f=a.isSecureMessage,g=a.message,h=a.outgoing,m=a.renderAttachment,n=a.renderExpiredMessage,o=a.renderGIF,p=a.renderMedia,q=a.renderPost,r=a.renderRemovedMessage,s=a.renderRollcallContribution,t=a.renderSticker,u=a.renderStory,v=a.renderTextMessage,w=a.renderUnavailableMessage;a=a.renderVideo;var x=g.replyAttachmentId,y=g.replyAttachmentType,z=g.replyMessageText;y!=null&&(!e||g.replyStatus!=null&&!(i||(i=d("I64"))).equal(g.replyStatus,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageStatus").DELETED)))?((i||(i=d("I64"))).equal(y,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").PHOTO))||(i||(i=d("I64"))).equal(y,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").VIDEO)))&&g.replySourceTypeV2!=null&&(i||(i=d("I64"))).equal(g.replySourceTypeV2,(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").STORY))?e=k.jsx(u,{isSecureMessage:f,message:g,outgoing:h}):x!=null?(i||(i=d("I64"))).equal(y,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").OTHER))?e=k.jsx(m,{message:g,outgoing:h}):(i||(i=d("I64"))).equal(y,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").PHOTO))?p!=null?e=k.jsx(p,{isSecureMessage:f,message:g,outgoing:h}):e=k.jsx(m,{message:g,outgoing:h}):(i||(i=d("I64"))).equal(y,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").ROLL_CALL_PHOTO_CONTRIBUTION))||(i||(i=d("I64"))).equal(y,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").ROLL_CALL_VIDEO_CONTRIBUTION))||(i||(i=d("I64"))).equal(y,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").ROLL_CALL_TEXT_CONTRIBUTION))?s!=null?e=k.jsx(s,{message:g,outgoing:h}):e=k.jsx(m,{message:g,outgoing:h}):(i||(i=d("I64"))).equal(y,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").MULTIPHOTO))?p!=null?e=k.jsx(p,{isSecureMessage:f,message:g,outgoing:h}):e=k.jsx(m,{message:g,outgoing:h}):(i||(i=d("I64"))).equal(y,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").VIDEO))?a!=null?e=k.jsx(a,{isSecureMessage:f,message:g,outgoing:h}):e=k.jsx(m,{message:g,outgoing:h}):(i||(i=d("I64"))).equal(y,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").GIF))?o!=null?e=k.jsx(o,{isSecureMessage:f,message:g,outgoing:h}):e=k.jsx(m,{message:g,outgoing:h}):(i||(i=d("I64"))).equal(y,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").STICKER))?t!=null?e=k.jsx(t,{isSecureMessage:f,message:g,outgoing:h}):e=k.jsx(m,{message:g,outgoing:h}):(i||(i=d("I64"))).equal(y,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").LINK))||(i||(i=d("I64"))).equal(y,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").PERMANENT_RAVEN_PHOTO))||(i||(i=d("I64"))).equal(y,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").PERMANENT_RAVEN_VIDEO))||(i||(i=d("I64"))).equal(y,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").AUDIO))?e=k.jsx(m,{message:g,outgoing:h}):q!=null?e=k.jsx(q,{message:g,outgoing:h}):e=c("recoverableViolation")("Unknown attachment type: "+(i||(i=d("I64"))).to_string(y),"messenger_comet"):(i||(i=d("I64"))).equal(y,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").STICKER))&&t!=null?e=k.jsx(t,{message:g,outgoing:h}):(i||(i=d("I64"))).equal(y,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").XMA))&&m!=null?z!=null&&z!==""?e=k.jsx(v,{message:g,outgoing:h,text:z}):e=k.jsx(m,{message:g,outgoing:h}):e=null:x!=null?g.replySourceTypeV2!=null&&(i||(i=d("I64"))).equal(g.replySourceTypeV2,(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").LIGHTWEIGHT_STATUS))&&z!=null&&z!==""?e=k.jsx(v,{message:g,outgoing:h,text:z}):p!=null?e=k.jsx(p,{isSecureMessage:f,message:g,outgoing:h}):e=k.jsx(m,{message:g,outgoing:h}):g.replyStatus!=null&&(i||(i=d("I64"))).equal(g.replyStatus,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageStatus").DELETED))?r!=null?e=k.jsx(r,{outgoing:h}):e=null:g.replyStatus!=null&&(i||(i=d("I64"))).equal(g.replyStatus,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageStatus").EXPIRED))?n!=null?e=k.jsx(n,{outgoing:h}):e=null:g.replyStatus!=null&&(i||(i=d("I64"))).equal(g.replyStatus,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageStatus").TEMPORARY_UNAVAILABLE))?w!=null?e=k.jsx(w,{outgoing:h}):e=null:z!=null&&g.replySourceTypeV2!=null&&(i||(i=d("I64"))).equal(g.replySourceTypeV2,(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE))?z!==""?e=k.jsx(v,{message:g,outgoing:h,text:z}):e=k.jsx(m,{message:g,outgoing:h}):e=null;u=k.jsx("div",{className:"x193iq5w x1n2onr6 x1vjfegm",children:e});var A=g.replySourceTimestampMs,B=g.replySourceId,C=c("useMWJumpToMessage")("Pinned");s=y!=null&&((i||(i=d("I64"))).equal(y,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").ROLL_CALL_PHOTO_CONTRIBUTION))||(i||(i=d("I64"))).equal(y,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").ROLL_CALL_VIDEO_CONTRIBUTION))||(i||(i=d("I64"))).equal(y,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").ROLL_CALL_TEXT_CONTRIBUTION)));var D=d("useRollcallContributionsXMAActionHandler").useRollcallContributionsXMAActionHandler();a=c("useIsRollcallEnabled")(g.threadKey);if(B!=null&&A!=null&&b){o=function(){C(B,A)};if(s&&a){var E=(i||(i=d("I64"))).of_string((q=g.replyAttachmentExtra)!=null?q:"0"),F=g.threadKey,G=(t=g.replySourceId)!=null?t:null;o=function(){D(E,F,G,null)}}return k.jsx(c("MWXPressable.react"),{onPress:o,overlayDisabled:!0,xstyle:function(){return[l.pressable]},children:u})}else return u}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ReplyTo.react",["fbt","CometScreenReaderText.react","MWXMessageBubble.react","MWXText.react","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react"),l={content:{overflowWrap:"x1mzt3pk",paddingBottom:"x1l90r2v",paddingTop:"x1iorvi4",$$css:!0}};function a(a){var b=a.children,d=a.outgoing;a=a.xstyle;a=a===void 0?!1:a;return k.jsxs(c("MWXMessageBubble.react"),{align:d?"right":"left",color:"quoted",connectBottom:!0,connectTop:!1,precedesXMA:!1,children:[k.jsx(c("CometScreenReaderText.react"),{text:h._("__JHASH__pLiiclD1jc1__JHASH__")}),k.jsx(c("MWXText.react"),{color:"secondary",type:"body4",children:k.jsx("div",{className:(i||(i=c("stylex")))(l.content,a),"data-testid":void 0,children:b})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRepliesAttachment.react",["fbt","ix","MWV2ReplyTo.react","MWXIcon.react","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react");function a(a){a=a.outgoing;var b=h._("__JHASH__ExfgVu3ZeIV__JHASH__");return k.jsx(c("MWV2ReplyTo.react"),{outgoing:a,children:k.jsxs("div",{className:"x6s0dn4 x78zum5 x1k4tb9n",children:[b,k.jsx("span",{className:"x1lliihq x1i64zmx",children:k.jsx(c("MWXIcon.react"),{color:"secondary",icon:d("fbicon")._(i("537728"),12)})})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRepliesExpired.react",["fbt","MWV2ReplyTo.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={root:{fontStyle:"x1k4tb9n",$$css:!0}};function a(a){a=a.outgoing;var b=h._("__JHASH__LRWYiWT4b63__JHASH__");return j.jsx(c("MWV2ReplyTo.react"),{outgoing:a,xstyle:k.root,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRepliesImage.react",["I64","MWLSThreadDisplayContext","MWPStableImage.react","MWPThreadCapabilitiesContext","cr:4509","gkx","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react"),l={incoming:{borderBottomStartRadius:"x10y3i5r",$$css:!0},outgoing:{borderBottomEndRadius:"xrt01vj",$$css:!0},root:{borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",display:"x1lliihq",filter:"xin470k",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",width:"x14atkfc",$$css:!0},rootHasSticker:{borderTopStartRadius:"x168nmei",borderTopEndRadius:"x13lgxp2",borderBottomEndRadius:"x5pf9jr",borderBottomStartRadius:"xo71vjh",$$css:!0}};function a(a){var e=a.height,f=a.imageAlt;f=f===void 0?"":f;var g=a.isSticker;g=g===void 0?!1:g;var j=a.outgoing,m=a.src;a=a.width;var n=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();n=n==="ChatTab";var o=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext();o=o.blurMediaEnabled;o=c("gkx")("24098")&&o;j=g?!1:j?l.outgoing:l.incoming;f=k.jsx(d("MWPStableImage.react").MWPStableImage,{alt:f,className:(h||(h=c("stylex")))(l.root,g&&l.rootHasSticker,j),height:e!=null?(i||(i=d("I64"))).to_float(e):void 0,maxHeight:100,maxWidth:n?180:300,src:m,width:a!=null?(i||(i=d("I64"))).to_float(a):void 0});return b("cr:4509")!=null&&o&&!g?k.jsx(b("cr:4509"),{mediaType:"Image",overlayDisabled:!0,type:"image",uncoverable:!1,url:m,xstyle:[l.root,j],children:f}):f}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRepliesGIF.react",["fbt","CometPlaceholder.react","I64","LSMediaUrlAttachment","MWRepliesImage.react","MWV2ReplyTo.react","ReQL","ReQLSuspense","cr:6930","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||d("react"),m={italic:{fontStyle:"x1k4tb9n",$$css:!0}};function n(a){var e=a.isSecureMessage;e=e===void 0?!1:e;var g=a.message;a=a.outgoing;var k=(i||(i=c("useReStore")))(),n=d("ReQLSuspense").useFirst(function(){var a,b;a=(a=g.replyAttachmentId)!=null?a:(j||(j=d("I64"))).zero;b=(b=g.replySourceId)!=null?b:"";return d("ReQL").fromTableAscending(k.tables.attachments).getKeyRange(g.threadKey,b,(j||(j=d("I64"))).to_string(a))},[k,g],f.id+":44"),o;n!=null&&(b("cr:6930")==null||!e?o=d("LSMediaUrlAttachment").previewUrl(n):o=b("cr:6930").getAttachmentBlobNonOptional(n.attachmentFbid));if(o!=null&&o!=="")return l.jsx(c("MWRepliesImage.react"),{height:g.replyMediaPreviewHeight,outgoing:a,src:o,width:g.replyMediaPreviewWidth});else return l.jsx(c("MWV2ReplyTo.react"),{outgoing:a,xstyle:m.italic,children:h._("__JHASH__kPmtZiB6viN__JHASH__")})}n.displayName=n.name+" [from "+f.id+"]";function a(a){return l.jsx(c("CometPlaceholder.react"),{fallback:null,children:l.jsx(n,babelHelpers["extends"]({},a))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("getLSMediaMessageReplyMediaUrl",["LSMediaUrlUtils","rewriteFallbackUrl"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.replyMediaExpirationTimestampMs;if(b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b))return c("rewriteFallbackUrl")(a.replyMediaUrlFallback);else return a.replyMediaUrl}g["default"]=a}),98);
__d("MWRepliesMedia.react",["fbt","ix","CometIcon.react","CometPlaceholder.react","I64","IconSource","MWRepliesImage.react","MWV2ReplyTo.react","ReQL","ReQLSuspense","WAArmadilloXMA.pb","cr:6930","getLSMediaMessageReplyMediaUrl","react","useReStore"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l,m=l||d("react"),n={FBIcon:{marginTop:"x14vqqas",marginEnd:"xq8finb",marginBottom:"xod5an3",marginStart:"x16n37ib",$$css:!0},italic:{fontStyle:"x1k4tb9n",$$css:!0},postBackground:{alignItems:"x6s0dn4",backdropFilter:"x99fzhk",background:"x18aeczl",borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",display:"x78zum5",flexDirection:"xdt5ytf",height:"xpyat2d",justifyContent:"xl56j7k",textAlign:"x2b8uid",width:"x1exxlbk",$$css:!0},storyBackground:{alignItems:"x6s0dn4",backdropFilter:"x1qb2erx",background:"xjw5052",borderTopStartRadius:"xyi19xy",borderTopEndRadius:"x1ccrb07",borderBottomEndRadius:"xtf3nb5",borderBottomStartRadius:"x1pc53ja",display:"x78zum5",flexDirection:"xdt5ytf",height:"x1wkxgih",justifyContent:"xl56j7k",opacity:"x197sbye",textAlign:"x2b8uid",width:"xni59qk",$$css:!0}};function o(a){var e=a.isSecureMessage,g=a.message;a=a.outgoing;var l=h._("__JHASH__bznTdd53oJN__JHASH__"),o=(j||(j=c("useReStore")))(),p=d("ReQLSuspense").useFirst(function(){var a=g.replyAttachmentId,b=g.replySourceId;return b!=null&&a!=null?d("ReQL").fromTableAscending(o.tables.attachments).getKeyRange(g.threadKey,b,(k||(k=d("I64"))).to_string(a)):d("ReQL").empty()},[o,g],f.id+":84"),q=p!=null&&p.hasXma&&e&&p.gatingType===String(d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.PRIVATE);if(p!=null&&p.hasXma&&e){var r;r=(r=p.defaultCtaType)!=null?r:""}else r="";var s=new(c("IconSource"))("FB",i("1423124"),28);if(q)if(r==="xma_montage_share")return m.jsx("div",{className:"x6s0dn4 x1qb2erx xjw5052 xyi19xy x1ccrb07 xtf3nb5 x1pc53ja x78zum5 xdt5ytf x1wkxgih xl56j7k x197sbye x2b8uid xni59qk",children:m.jsx("div",{className:"x14vqqas xq8finb xod5an3 x16n37ib",children:m.jsx(c("CometIcon.react"),{icon:s})})});else return m.jsx("div",{className:"x6s0dn4 x99fzhk x18aeczl x1tlxs6b x1g8br2z x1gn5b1j x230xth x78zum5 xdt5ytf xpyat2d xl56j7k x2b8uid x1exxlbk",children:m.jsx("div",{className:"x14vqqas xq8finb xod5an3 x16n37ib",children:m.jsx(c("CometIcon.react"),{icon:s})})});q=b("cr:6930")!=null&&e?function(a){return p!=null&&p.hasXma?a.replyAttachmentId!=null?b("cr:6930").getInfoUrlXMA(p,"preview"):void 0:a.replyAttachmentId!=null?b("cr:6930").getAttachmentBlobNonOptional((k||(k=d("I64"))).to_string(a.replyAttachmentId)):void 0}:c("getLSMediaMessageReplyMediaUrl");r=q(g);return r!=null&&r!==""?m.jsx(c("MWRepliesImage.react"),{height:g.replyMediaPreviewHeight,imageAlt:h._("__JHASH__eNDXc9eUfIy__JHASH__"),outgoing:a,src:r,width:g.replyMediaPreviewWidth}):m.jsx(c("MWV2ReplyTo.react"),{outgoing:a,xstyle:n.italic,children:l})}o.displayName=o.name+" [from "+f.id+"]";function a(a){var b=a.isSecureMessage;b=b===void 0?!1:b;var d=a.message;a=a.outgoing;return m.jsx(c("CometPlaceholder.react"),{fallback:null,children:m.jsx(o,{isSecureMessage:b,message:d,outgoing:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRepliesRemoved.react",["fbt","MWV2ReplyTo.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={root:{fontStyle:"x1k4tb9n",$$css:!0}};function a(a){a=a.outgoing;var b=h._("__JHASH__uG4wbYWD9QU__JHASH__");return j.jsx(c("MWV2ReplyTo.react"),{outgoing:a,xstyle:k.root,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRepliesRollcallContribution.react",["fbt","CometBlurredBackgroundImage.react","CometImageCover.react","CometPlaceholder.react","I64","Int64Hooks","LSFactory","LSIssuePointQueryForRollCallConversionStoredProcedure","MWV2ReplyTo.react","ReQL","ReQLSuspense","cr:2472","getLSMediaMessageReplyMediaUrl","isStringNullOrEmpty","promiseDone","react","stylex","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=l||d("react"),n=213,o=213,p={blurredImage:{borderBottomStartRadius:"x230xth",borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",$$css:!0},italic:{fontStyle:"x1k4tb9n",$$css:!0},outgoing:{borderBottomEndRadius:"xrt01vj",borderBottomStartRadius:"x230xth",$$css:!0},unblurredImageContainer:{borderBottomStartRadius:"x230xth",borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",opacity:"x197sbye",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}};function a(a){return m.jsx(c("CometPlaceholder.react"),{fallback:null,children:m.jsx(q,babelHelpers["extends"]({},a))})}a.displayName=a.name+" [from "+f.id+"]";function q(a){var e,g=a.message;a=a.outgoing;var l=c("isStringNullOrEmpty")(g.replyMessageText)?h._("__JHASH__YG4J77RBBDH__JHASH__"):b("cr:2472")==null?g.replyMessageText:b("cr:2472").unvault(g.replyMessageText),q=(i||(i=c("useReStore")))(),r=(k||(k=d("I64"))).of_string((e=g.replyAttachmentExtra)!=null?e:"0"),s=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(q.tables.roll_calls).getKeyRange(r)},[q,r],f.id+":81"),t=g.threadKey;d("Int64Hooks").useEffectInt64(function(){s||c("promiseDone")(q.runInTransaction(function(a){return c("LSIssuePointQueryForRollCallConversionStoredProcedure")(c("LSFactory")(a),{rollCallId:r,threadKey:t})},"readwrite"))},[s,r,t,q]);e=(e=s==null?void 0:s.isBlurred)!=null?e:!1;var u=c("getLSMediaMessageReplyMediaUrl")(g),v=g.replyMediaPreviewHeight!=null?(k||(k=d("I64"))).to_float(g.replyMediaPreviewHeight):0;g=g.replyMediaPreviewWidth!=null?(k||(k=d("I64"))).to_float(g.replyMediaPreviewWidth):0;var w=Math.min(1,n/v),x=Math.min(1,o/g);v=Math.round(v*Math.min(w,x));g=Math.round(g*Math.min(w,x));return!c("isStringNullOrEmpty")(u)?e?m.jsx("div",{style:{height:v,width:g},children:m.jsx(c("CometBlurredBackgroundImage.react"),{src:u,xstyle:[p.blurredImage,a&&p.outgoing]})}):m.jsx("div",{className:(j||(j=c("stylex")))([p.unblurredImageContainer,a&&p.outgoing]),style:{height:v,width:g},children:m.jsx(c("CometImageCover.react"),{alt:"",src:u})}):m.jsx(c("MWV2ReplyTo.react"),{outgoing:a,xstyle:p.italic,children:l})}q.displayName=q.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRepliesSticker.react",["fbt","CometPlaceholder.react","I64","LSMediaUrlAttachment","MWRepliesImage.react","MWV2ReplyTo.react","MWV2Sticker.react","ReQL","ReQLSuspense","cr:2472","cr:6930","cr:6931","getLSMediaMessageReplyMediaUrl","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||d("react"),m={italic:{fontStyle:"x1k4tb9n",$$css:!0},replyHotLikeSticker:{filter:"xin470k",transform:"xst6bnn",$$css:!0},replySticker:{filter:"xin470k",$$css:!0}};function a(a){var e,g=a.isSecureMessage;g=g===void 0?!1:g;var k=a.message;a=a.outgoing;var n=h._("__JHASH__13yhS1gywbZ__JHASH__"),o=(i||(i=c("useReStore")))(),p=d("ReQLSuspense").useFirst(function(){var a=k.replyAttachmentId,b=k.replySourceId;return b!=null&&a!=null?d("ReQL").fromTableAscending(o.tables.attachments).getKeyRange(k.threadKey,b,(j||(j=d("I64"))).to_string(a)):d("ReQL").empty()},[o,k],f.id+":59");e=(e=k.replyMessageText)!=null?e:"";e=(b("cr:2472")!=null?b("cr:2472").unvault(e):e)==="\ud83d\udc4d";if(e)if(b("cr:6931")==null)return null;else return l.jsx(b("cr:6931"),{xstyle:m.replyHotLikeSticker});e=c("getLSMediaMessageReplyMediaUrl")(k);if(e!=null&&p==null)return l.jsx(c("MWRepliesImage.react"),{height:k.replyMediaPreviewHeight,isSticker:!0,outgoing:a,src:e,width:k.replyMediaPreviewWidth});if(p==null)return l.jsx(c("MWV2ReplyTo.react"),{outgoing:a,xstyle:m.italic,children:n});b("cr:6930")==null||!g?e=function(a){return d("LSMediaUrlAttachment").previewUrl(a)}:e=function(a){return b("cr:6930").getAttachmentBlobNonOptional(a.attachmentFbid)};return l.jsx(c("CometPlaceholder.react"),{fallback:null,children:l.jsx(c("MWV2Sticker.react"),{attachment:p,getPreviewUrl:e,scale:.6,xstyle:m.replySticker})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRepliesStory.react",["fbt","CometPlaceholder.react","I64","MWRepliesImage.react","MWXPressable.react","XCometStoriesControllerRouteBuilder","cr:6930","getLSMediaMessageReplyMediaUrl","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||d("react");function a(a){return k.jsx(c("CometPlaceholder.react"),{fallback:null,children:k.jsx(l,babelHelpers["extends"]({},a))})}a.displayName=a.name+" [from "+f.id+"]";function l(a){var e=a.isSecureMessage;e=e===void 0?!1:e;var f=a.message;a=a.outgoing;var g=f.replySourceId;g=g!=null?e?g:(g=c("XCometStoriesControllerRouteBuilder").buildUri({card_id:window.btoa("S:_ISC:"+g),view_single:!0}).setDomain("www.facebook.com"))==null?void 0:(g=g.setProtocol("https"))==null?void 0:g.toString():void 0;e=b("cr:6930")!=null&&e?function(a){return a.replyAttachmentId!=null?b("cr:6930").getAttachmentBlobNonOptional((j||(j=d("I64"))).to_string(a.replyAttachmentId)):null}:c("getLSMediaMessageReplyMediaUrl");e=e(f);return e==null?null:k.jsx(c("MWXPressable.react"),{"aria-label":h._("__JHASH__thxINaLEtLl__JHASH__"),linkProps:g!=null?{url:g}:void 0,overlayDisabled:!0,children:k.jsx(c("MWRepliesImage.react"),{outgoing:a,src:e})})}l.displayName=l.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRepliesText.react",["MWChatTextFormatting","MWChatTextTransform","MWV2ReplyTo.react","MWXMessageTextWithEntities.react","cr:2472","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useMemo;function a(a){var e=a.outgoing,f=a.text;a=j(function(){return{MessengerTextFormatting:[d("MWChatTextFormatting").replyRenderer]}},[]);var g=j(function(){return d("MWChatTextFormatting").getFormattingRanges(f)},[f]),h=b("cr:2472")==null?f:b("cr:2472").unvault(f);return i.jsx(c("MWV2ReplyTo.react"),{outgoing:e,children:i.jsx("div",{className:"xi81zsa x126k92a",children:i.jsx(c("MWXMessageTextWithEntities.react"),{maxLength:120,maxLines:3,ranges:g,renderers:a,text:h,transforms:d("MWChatTextTransform").epdTextTransformsNoVault,truncationStyle:"ellipsis-only",withParagraphs:!1})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRepliesUnavailable.react",["fbt","MWV2ReplyTo.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={root:{fontStyle:"x1k4tb9n",$$css:!0}};function a(a){a=a.outgoing;var b=h._("__JHASH__3TzRhHHRgwV__JHASH__");return j.jsx(c("MWV2ReplyTo.react"),{outgoing:a,xstyle:k.root,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRepliesVideo.react",["fbt","ix","CometImage.react","CometPlaceholder.react","I64","LSMediaUrlAttachment","MWLSThreadDisplayContext","MWPStableImage.react","MWV2ReplyTo.react","ReQL","ReQLSuspense","cr:6930","react","useReStore"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l,m=l||d("react"),n={italic:{fontStyle:"x1k4tb9n",$$css:!0},playButtonContainer:{alignItems:"x6s0dn4",display:"x78zum5",flexDirection:"xdt5ytf",height:"x5yr21d",justifyContent:"xl56j7k",position:"x10l6tqk",start:"x17qophe",left:null,right:null,top:"x13vifvy",width:"xh8yej3",$$css:!0},thumbnail:{borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",filter:"xin470k",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},thumbnailContainer:{position:"x1n2onr6",$$css:!0}};function o(a){var e=a.isSecureMessage;e=e===void 0?!1:e;var g=a.message;a=a.outgoing;var l=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();l=l==="ChatTab";var o=(j||(j=c("useReStore")))(),p=d("ReQLSuspense").useFirst(function(){var a,b;a=(a=g.replyAttachmentId)!=null?a:(k||(k=d("I64"))).zero;b=(b=g.replySourceId)!=null?b:"";return d("ReQL").fromTableAscending(o.tables.attachments).getKeyRange(g.threadKey,b,(k||(k=d("I64"))).to_string(a))},[o,g],f.id+":69"),q;p!=null&&(b("cr:6930")==null||!e?q=d("LSMediaUrlAttachment").previewUrl(p):q=b("cr:6930").getAttachmentBlobNonOptional(p.attachmentFbid));if(q==null)return m.jsx(c("MWV2ReplyTo.react"),{outgoing:a,xstyle:n.italic,children:h._("__JHASH__7WGJ1daCkBD__JHASH__")});e=g.replyMediaPreviewHeight!=null?(k||(k=d("I64"))).to_float(g.replyMediaPreviewHeight):void 0;a=g.replyMediaPreviewWidth!=null?(k||(k=d("I64"))).to_float(g.replyMediaPreviewWidth):void 0;var r=100;l=l?180:300;(p==null?void 0:p.previewUrlMimeType)!=null?p=m.jsx(d("MWPStableImage.react").MWPStableImage,{alt:"",className:"x1tlxs6b x1g8br2z x1gn5b1j x230xth xin470k x6ikm8r x10wlt62",height:e,maxHeight:r,maxWidth:l,src:q,width:a}):p=m.jsx("video",{alt:"",className:"x1tlxs6b x1g8br2z x1gn5b1j x230xth xin470k x6ikm8r x10wlt62",height:e!=null&&e>r?"100%":e,src:q,style:{maxHeight:r,maxWidth:l},width:a!=null&&a>l?"100%":a});return m.jsxs("div",{className:"x1n2onr6",children:[p,m.jsx("div",{className:"x6s0dn4 x78zum5 xdt5ytf x5yr21d xl56j7k x10l6tqk x17qophe x13vifvy xh8yej3",children:m.jsx(c("CometImage.react"),{src:i("354763")})})]})}o.displayName=o.name+" [from "+f.id+"]";function a(a){return m.jsx(c("CometPlaceholder.react"),{fallback:null,children:m.jsx(o,babelHelpers["extends"]({},a))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWRepliedMessage.react",["MWPBaseRepliedMessage.react","MWRepliesAttachment.react","MWRepliesExpired.react","MWRepliesGIF.react","MWRepliesMedia.react","MWRepliesRemoved.react","MWRepliesRollcallContribution.react","MWRepliesSticker.react","MWRepliesStory.react","MWRepliesText.react","MWRepliesUnavailable.react","MWRepliesVideo.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.isSecureMessage;b=b===void 0?!1:b;var d=a.message;a=a.outgoing;return i.jsx(c("MWPBaseRepliedMessage.react"),{isSecureMessage:b,message:d,outgoing:a,renderAttachment:c("MWRepliesAttachment.react"),renderExpiredMessage:c("MWRepliesExpired.react"),renderGIF:c("MWRepliesGIF.react"),renderMedia:c("MWRepliesMedia.react"),renderRemovedMessage:c("MWRepliesRemoved.react"),renderRollcallContribution:c("MWRepliesRollcallContribution.react"),renderSticker:c("MWRepliesSticker.react"),renderStory:c("MWRepliesStory.react"),renderTextMessage:c("MWRepliesText.react"),renderUnavailableMessage:c("MWRepliesUnavailable.react"),renderVideo:c("MWRepliesVideo.react")})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ReplyError.react",["fbt","MWV2ReplyTo.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={root:{fontStyle:"x1k4tb9n",$$css:!0}};function a(a){a=a.outgoing;return j.jsx(c("MWV2ReplyTo.react"),{outgoing:a,xstyle:k.root,children:h._("__JHASH__962PS6SI-P2__JHASH__")})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWIsReplyToAuthor",["I64","LSIntEnum","LSMessageReplySourceTypeV2"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){return a.replySourceTypeV2!=null&&(h||(h=d("I64"))).equal(a.replySourceTypeV2,(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").XMA))}g["default"]=a}),98);
__d("MWMessageRowBody.react",["CometErrorBoundary.react","CometPlaceholder.react","I64","JSResourceForInteraction","MWClickedMessageContext.react","MWExtraPinnedMessagePadding.react","MWMessageListLoggingContext","MWMessagePromptPopoverTrigger.react","MWMessageRowActions.react","MWMessageRowMessageComponent.react","MWMessageSearchPluginMustache.react","MWMustacheText","MWPBaseMessageListRow.react","MWPEditedMessageHistoryList.react","MWPMessageIsReply","MWPMessageListColumn.react","MWPMessageParsingUtils","MWPMessageReactions.react","MWPinnedMessageDropdownButton.react","MWPinnedMessageOverlay.react","MWPinnedMessageRowFooterNUXWrapperRequireNUX.react","MWRepliedMessage.react","MWSearchPluginUtils","MWV2ChatErrorBubble.react","MWV2MessageProfilePhoto.react","MWV2ReplyError.react","cr:277","deferredLoadComponent","gkx","isMWEditedMessage","react","requireDeferredForDisplay","stylex","useIsMultiReactionEnabled","useMWIsReplyToAuthor","useMWPGetAttachments","useShowPersistentGenAIFeedbackButtons"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||d("react"),l=c("deferredLoadComponent")(c("requireDeferredForDisplay")("MWMessageReactionsContainerV2.react").__setRef("MWMessageRowBody.react")),m={alignEnd:{alignItems:"xuk3077",marginEnd:"x1c0yhlu",marginLeft:null,marginRight:null,$$css:!0},emptyGutterForTextReceipts:{width:"x1xc55vz",$$css:!0},multiReactContainer:{display:"x78zum5",flexDirection:"x1q0g3np",$$css:!0},multiReactContainerOutgoing:{alignSelf:"xpvyfi4",$$css:!0},reply:{alignItems:"x1cy8zhl",display:"x78zum5",flexDirection:"xdt5ytf",$$css:!0},replyMargin:{marginBottom:"x1q5jw98",minHeight:"xvnwnnf",$$css:!0}};function a(a){var e=a.focused,f=a.hasClickState,g=a.hasMessageEmphasisRing,i=a.hovered,n=a.incoming,o=a.isDialogOpened,p=a.isFirstMessageInGroup,q=a.isGroupThread,r=a.isModal,s=a.isPinnedMessageList,t=a.isSecureMessage,u=a.isStandardMessageList,v=a.message,w=a.navigateToRouteForMediaViewer,x=a.nextMessage,y=a.prevMessage,z=a.renderAttachment,A=a.shouldUseReactionsV2,B=a.threadType,C=d("MWPMessageReactions.react").useReactions(v),D=d("MWPMessageReactions.react").useReactionsV2(v),E=d("useIsMultiReactionEnabled").useIsMultiReactEnabled(v.threadKey);a=d("MWMessageListLoggingContext").useFlowInstanceId();var F=c("MWClickedMessageContext.react").useHook();F=F.clickedMessageId;var G=c("MWPMessageIsReply")(v),H=c("isMWEditedMessage")(v),I=x==null,J=s||d("MWPMessageParsingUtils").isEndOfGroup(v,x),K=!n;n=n&&q;var L=c("useMWPGetAttachments")(v),M=L.length>0;M=M&&d("MWSearchPluginUtils").isSearchPlugin(L[0]);var N=c("useShowPersistentGenAIFeedbackButtons")(v.threadKey,v.botResponseId,c("gkx")("26372")),O=E&&D.some(function(a){return(j||(j=d("I64"))).to_int32(a.count)>0}),P=(C.length>0||D.length>0)&&!E,Q=c("useMWIsReplyToAuthor")(v);Q=Q||v.replySourceId==null?!1:v.replyMediaExpirationTimestampMs!=null?(j||(j=d("I64"))).gt(v.replyMediaExpirationTimestampMs,(j||(j=d("I64"))).zero):!0;return k.jsxs(k.Fragment,{children:[p&&!n?k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:2}):null,G&&k.jsx("div",{className:(h||(h=c("stylex")))(m.reply,K?m.alignEnd:!1,Q?m.replyMargin:!1),role:"none",children:k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnWithGutters,{grow:!0,children:k.jsx(c("CometErrorBoundary.react"),{fallback:function(a){return k.jsx(c("MWV2ReplyError.react"),{outgoing:K})},children:u?k.jsx(c("MWPinnedMessageOverlay.react"),{alreadyRenderedPin:!1,message:v,outgoing:K,children:k.jsx(c("MWRepliedMessage.react"),{isSecureMessage:t,message:v,outgoing:K})}):k.jsx(c("MWRepliedMessage.react"),{isSecureMessage:t,message:v,outgoing:K})})})}),H&&c("gkx")("24097")?k.jsx(d("MWPEditedMessageHistoryList.react").MWPEditedMessageHistoryList,{isReply:G,msgId:v.messageId,outgoing:K}):null,k.jsx(d("MWPBaseMessageListRow.react").MWPBaseMessageListRowBody,{hasReactions:P,message:v,outgoing:K,renderGenAIFeedbackActions:N&&b("cr:277")!=null?function(){return k.jsx(b("cr:277"),{ariaHidden:r===!1,hasReactions:P,message:v,outgoing:K})}:void 0,renderGutterItem:function(){return k.jsx("div",{className:"x1xc55vz",role:"none"})},renderMessageActions:function(){return u?k.jsx(d("MWMessageRowActions.react").MWMessageRowActions,{ariaHidden:r===!1,focused:e||o||r,hasReactions:P,hovered:i,message:v,outgoing:K,shouldHideHoverMenuReact:O,showPersistentGenAiFeedbackActionButtons:N,threadType:B}):s?k.jsx(c("MWPinnedMessageDropdownButton.react"),{hidden:!i&&!e,message:v}):null},renderMultiReactions:function(){if(v.isUnsent)return null;var a=D!=null&&D.length>0;return!E||!a?null:k.jsx("div",{className:(h||(h=c("stylex")))(m.multiReactContainer,K?m.multiReactContainerOutgoing:!1),children:k.jsx(d("MWPMessageReactions.react").MWPMessageReactions,{message:v,outgoing:K,reactions:C,reactionsV2:D,children:function(a,b,d,e,f,g,h,i){return k.jsx(c("CometPlaceholder.react"),{fallback:null,children:k.jsx(l,{emojis:a,isMultiReactRowExpanded:h,message:e,onOpenDialog:g,outgoing:K,reactionsV2:D,toggleMultiReactionRowExpansion:i})})}})})},renderProfile:function(){return k.jsx(c("MWV2MessageProfilePhoto.react"),{ariaHidden:q?!r:!0,isGroupThread:q,isLastMessageInGroup:J,message:v})},children:k.jsxs(c("CometErrorBoundary.react"),{fallback:function(a){return k.jsx(c("MWV2ChatErrorBubble.react"),{isReply:G})},children:[k.jsx(c("MWMessagePromptPopoverTrigger.react"),{attachments:L,message:v,children:s?k.jsx(d("MWMessageRowMessageComponent.react").MWMessageRowMessageComponent,{hasClickState:f,hasMessageEmphasisRing:g,isFirstMessageInGroup:p,isLastMessageInGroup:J,isSearchPluginAttachment:M,isSecureMessage:t,message:v,nextMessage:x,offlineAttachmentId:L&&L.length>0?L[0].offlineAttachmentId:null,outgoing:K,prevMessage:y,reactions:C,reactionsV2:A?D:void 0,renderAttachment:z,threadType:B}):k.jsx(c("MWPinnedMessageOverlay.react"),{alreadyRenderedPin:G,message:v,outgoing:K,children:k.jsx(d("MWMessageRowMessageComponent.react").MWMessageRowMessageComponent,{hasClickState:f,hasMessageEmphasisRing:g,isFirstMessageInGroup:p,isLastMessageInGroup:J,isSearchPluginAttachment:M,isSecureMessage:t,message:v,navigateToRouteForMediaViewer:w,nextMessage:x,offlineAttachmentId:L&&L.length>0?L[0].offlineAttachmentId:null,outgoing:K,prevMessage:y,reactions:C,reactionsV2:A?D:void 0,renderAttachment:z,threadType:B})})}),M&&k.jsx(c("MWMessageSearchPluginMustache.react"),{attachment:L[0],botResponseId:v.botResponseId,dialogResource:c("JSResourceForInteraction")("MWMessageSearchPluginSourcesDialog.react").__setRef("MWMessageRowBody.react"),flowInstanceId:a.current})]})}),k.jsx(c("MWPinnedMessageRowFooterNUXWrapperRequireNUX.react"),{isLastMessage:I,isOutgoing:K,isPinnedMessageList:s,message:v}),k.jsx(c("MWMustacheText"),{message:v,outgoing:K}),k.jsx(c("MWExtraPinnedMessagePadding.react"),{nextMessage:x}),f&&F===v.messageId?k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:6}):J&&!I?k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:6}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWMessageRowFooter.react",["MWMessageDeliveryStatus","MWPBaseMessageListRow.react","MWV2MessageEndOfGroupContent.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.hasClickState,c=a.incoming,e=a.isBroadcastThread,f=a.isLastMessage,g=a.isStandardMessageList,h=a.message,j=a.nextMessage,k=a.outgoing,l=a.status;return g?i.jsx(d("MWPBaseMessageListRow.react").MWPBaseMessageListRowFooter,{message:h,nextMessage:j,showContent:b||d("MWMessageDeliveryStatus").isAlwaysShownStatus(l),children:function(){return i.jsx(d("MWV2MessageEndOfGroupContent.react").MWV2MessageEndOfGroupContent,{alignLeft:b&&c,hasTextBasedMessageReceipts:!0,isLastMessage:f,isOutgoing:k,isTextOnly:e,message:h,status:l})}}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWHighlyForwardedIndicator.react",["fbt","LSMessagingThreadTypeUtil","MDSForwardStackSvgIcon.react","MWXText.react","coerceMessagingThreadTypeToLSThreadType","react","requireDeferred","useSinglePartialViewImpression"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=c("requireDeferred")("MwbHighlyForwardedIndicatorImpressionFalcoEvent").__setRef("MWHighlyForwardedIndicator.react");function a(a){var b=a.forwardScore,e=a.mid,f=a.threadType;a=function(){k.onReady(function(a){a.log(function(){return{limit:b,mid:f!=null&&d("LSMessagingThreadTypeUtil").isSecure(f)?void 0:e,thread_type:f!=null?c("coerceMessagingThreadTypeToLSThreadType")(f):void 0}})})};a=c("useSinglePartialViewImpression")({onImpressionStart:a});return j.jsxs(j.Fragment,{children:[j.jsx(c("MDSForwardStackSvgIcon.react"),{color:"tertiary",size:16}),j.jsx("span",{className:"x1h0ha7o",children:j.jsx(c("MWXText.react"),{color:"tertiary",ref:a,type:"meta4",children:h._("__JHASH__hxhFsSrRndH__JHASH__")})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPForwardedContent",["fbt","I64","LSIntEnum","MWPMessageAuthor.react","MWPMessageHasAttachment","MessagingAttachmentType","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=(j||d("react")).useMemo;function n(a){if((k||(k=d("I64"))).equal(a.attachmentType,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA)))return a.defaultCtaType==="xma_web_url";else return!1}function o(a){if((k||(k=d("I64"))).equal(a.attachmentType,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE)))return!0;else return(k||(k=d("I64"))).equal(a.attachmentType,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE))}function p(a,b,e){var g=(i||(i=c("useReStore")))(),j=a.messageId,p=a.threadKey,q=c("MWPMessageHasAttachment")(a),r=d("ReQLSuspense").useFirst(function(){if(q)return d("ReQL").fromTableAscending(g.tables.attachments).getKeyRange(p,j);else return d("ReQL").empty()},[g,j,p,q],f.id+":63");return m(function(){if(b)if(r!=null)if(n(r))return h._("__JHASH___8ZpqsY3Jrg__JHASH__");else if(o(r))return h._("__JHASH__INRUrq18hhv__JHASH__");else if((k||(k=d("I64"))).equal(r.attachmentType,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO)))return h._("__JHASH__Z71bv2q5yoA__JHASH__");else return h._("__JHASH__8h2fNslikTS__JHASH__");else return h._("__JHASH__8h2fNslikTS__JHASH__");else if(r!=null)if(e!=null)if(n(r))return h._("__JHASH__5GN3g82hBzH__JHASH__",[h._param("name",e)]);else if(o(r))return h._("__JHASH__NQwzfDxVOf0__JHASH__",[h._param("name",e)]);else if((k||(k=d("I64"))).equal(r.attachmentType,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO)))return h._("__JHASH__QvgCMGMfMHB__JHASH__",[h._param("name",e)]);else return h._("__JHASH__CmZMizVeMX7__JHASH__");else if(n(r))return h._("__JHASH__QhCmPJ-QbeG__JHASH__");else if(o(r))return h._("__JHASH__vFSMWshNg-J__JHASH__");else if((k||(k=d("I64"))).equal(r.attachmentType,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO)))return h._("__JHASH__U5_TMTE9DWx__JHASH__");else return h._("__JHASH__CmZMizVeMX7__JHASH__");else if(e!=null)return h._("__JHASH__1jGDZrisR_E__JHASH__",[h._param("name",e)]);else return h._("__JHASH__CmZMizVeMX7__JHASH__")},[b,r,e])}function a(a,b){var c=d("MWPMessageAuthor.react").useAuthorName();c=c[0];return p(a,b,c)}g.useTitle=a}),98);
__d("MWForwardedContent.react",["I64","MDSForwardSvgIcon.react","MWHighlyForwardedIndicator.react","MWPForwardedContent","gkx","justknobx","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react"),k=c("justknobx")._("1649");function a(a){var b=a.message,e=a.outgoing;a=a.threadType;e=d("MWPForwardedContent").useTitle(b,e);var f=b.forwardScore!=null?(i||(i=d("I64"))).to_int32(b.forwardScore):0;f=c("gkx")("24141")&&k!==0&&f>=k;f=f?j.jsx(c("MWHighlyForwardedIndicator.react"),{forwardScore:(i||(i=d("I64"))).to_string((f=b.forwardScore)!=null?f:(i||(i=d("I64"))).zero),mid:b.messageId,threadType:a}):j.jsxs(j.Fragment,{children:[j.jsx(c("MDSForwardSvgIcon.react"),{size:16}),j.jsx("div",{className:"x1pg5gke x1h0ha7o",children:e})]});return j.jsx("div",{className:"x6s0dn4 x78zum5 xg8j3zb x1nn3v0j",children:f})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPMessagePinnedText.react",["fbt","react","useMWPIsMessagePinned"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=a.divider;a=a.message;a=c("useMWPIsMessagePinned")(a);var d=h._("__JHASH__hknrqEeMk6h__JHASH__");return a&&j.jsxs(j.Fragment,{children:[b!=null&&j.jsx("span",{className:"x1sdyfia",children:b}),j.jsx("span",{"aria-label":d,children:d})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWReplySnippetContent",["fbt","Actor","I64","MWPMessageAuthor.react","useMWIsReplyToAuthor","useMWPIsMessagePinned"],(function(a,b,c,d,e,f,g,h){"use strict";var i;function a(a,b){var e=c("useMWPIsMessagePinned")(a),f=d("MWPMessageAuthor.react").useAuthorName();f=f[0];var g=d("Actor").useActor();g=g[0];g=g===(i||(i=d("I64"))).to_string(a.senderId);var j=c("useMWIsReplyToAuthor")(a);return!e||g||j?a.replySnippet:b?h._("__JHASH__lpeJtmI6peT__JHASH__").toString():h._("__JHASH__bGQxu-uwmpe__JHASH__",[h._param("name",f)]).toString()}g["default"]=a}),98);
__d("MWReplySnippet.react",["I64","LSIntEnum","LSMessageReplySourceTypeV2","MDSForwardSvgIcon.react","MDSReplySvgIcon.react","MWEditedEyebrow.react","isMWEditedMessage","react","useMWReplySnippetContent"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||d("react"),l={container:{alignItems:"x6s0dn4",color:"x1aimgj9",display:"x78zum5",fontSize:"x1pg5gke",paddingBottom:"xg8j3zb",paddingTop:"x1nn3v0j",$$css:!0},separator:{paddingEnd:"x150jy0e",paddingLeft:null,paddingRight:null,paddingStart:"x1e558r4",$$css:!0},text:{paddingStart:"x1h0ha7o",paddingLeft:null,paddingRight:null,$$css:!0}};function m(a){a=a.replySourceType;if(a==null)return null;if((i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE))||(i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").STORY)))return k.jsx(c("MDSReplySvgIcon.react"),{size:16});else if((i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").FORWARD))||(i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").IG_STORY_SHARE))||(i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").FB_STORY_SHARE)))return k.jsx(c("MDSForwardSvgIcon.react"),{size:16});return null}m.displayName=m.name+" [from "+f.id+"]";function a(a){var b=a.message;a=a.outgoing;a=c("useMWReplySnippetContent")(b,a);if(a==null||a.trim().length===0)return null;var e=c("isMWEditedMessage")(b);return k.jsxs("div",{className:"x6s0dn4 x1aimgj9 x78zum5 x1pg5gke xg8j3zb x1nn3v0j","data-testid":void 0,children:[k.jsx(m,{replySourceType:b==null?void 0:b.replySourceTypeV2}),k.jsx("div",{className:"x1h0ha7o",children:a}),e&&k.jsx(d("MWEditedEyebrow.react").MWEditedEyebrow,{hasSeparator:!0,xstyle:l.separator})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWMessageRowHeader.react",["CometMiddot.react","MWForwardedContent.react","MWPBaseMessageRowHeader.react","MWPMessagePinnedText.react","MWReplySnippet.react","MWXText.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.isCMThread,d=a.isFirstMessageInGroup,e=a.isGroupThread,f=a.isPinnedMessageList,g=a.isStandardMessageList,h=a.message,j=a.outgoing,k=a.threadType;a=function(a){return i.jsx(c("MWXText.react"),{color:"secondary",type:"meta4",children:a})};return i.jsx(c("MWPBaseMessageRowHeader.react"),{alwaysRenderSenderName:f,isAnyCMThread:b,isFirstMessageInGroup:d,isGroupThread:e,message:h,outgoing:j,renderForwardSnippet:function(){return i.jsx(c("MWForwardedContent.react"),{message:h,outgoing:j,threadType:k})},renderPinnedText:function(a,b){return g?i.jsx(c("MWPMessagePinnedText.react"),{divider:b&&i.jsx(c("CometMiddot.react"),{}),message:h}):null},renderReplySnippet:function(){return i.jsx(c("MWReplySnippet.react"),{message:h,outgoing:j})},renderTextWrapper:function(a){return i.jsx(c("MWXText.react"),{color:"secondary",type:"meta4",children:a})},renderTimestamp:f?a:void 0})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWMessageRowMissingMessagesIndicator.react",["CometErrorBoundary.react","I64","MWPMessageListColumn.react","MWV2MessageRowSimple.react","cr:7565","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react");function a(a){var e=a.lastEbMessageTime,f=a.message;a=a.nextMessage;f=e!=null&&(i||(i=d("I64"))).gt(e,f.timestampMs)&&(a==null||(i||(i=d("I64"))).lt(e,a.timestampMs));return f===!0&&b("cr:7565")?j.jsx(c("MWV2MessageRowSimple.react"),{children:j.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:j.jsx(c("CometErrorBoundary.react"),{fallback:function(){return null},children:j.jsx(b("cr:7565"),{})})})}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatMessageUnreadIndicator.react",["fbt","MDSRow.react","MDSRowItem.react","MWXText.react","react","react-strict-dom"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={color:{color:"x186z157",$$css:!0},line:{backgroundColor:"x1m026b5",flexGrow:"x1iyjqo2",height:"xjm9jq1",$$css:!0}};function a(){var a=h._("__JHASH__dAK4xN4bf5e__JHASH__");return j.jsxs(c("MDSRow.react"),{"aria-label":a,paddingVertical:12,spacingVertical:0,children:[j.jsx(c("MDSRowItem.react"),{verticalAlign:"center",xstyle:k.line,children:j.jsx(j.Fragment,{})}),j.jsx(c("MDSRowItem.react"),{children:j.jsx(c("MWXText.react"),{color:"secondary",isSemanticHeading:!0,type:"meta4",children:j.jsx(d("react-strict-dom").html.div,{style:k.color,children:a})})}),j.jsx(c("MDSRowItem.react"),{verticalAlign:"center",xstyle:k.line,children:j.jsx(j.Fragment,{})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWMessageRowUnreadMessagesIndicator.react",["MWChatMessageUnreadIndicator.react","MWPMessageListColumn.react","MWV2MessageRowSimple.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){a=a.shouldRenderUnreadIndicator;return a===!0?i.jsx(c("MWV2MessageRowSimple.react"),{children:i.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:i.jsx(c("MWChatMessageUnreadIndicator.react"),{})})}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWMessageRow.react",["BaseView.react","I64","Int64Hooks","LSIntEnum","LSMessagingThreadTypeUtil","MNLSXMALayoutType","MWCMIsAnyCMThread","MWCMThreadTypes.react","MWMessageDisplayContext.react","MWMessageEditContext.react","MWMessageListAttachmentContainer.react","MWMessageRowAdminMessage.react","MWMessageRowBody.react","MWMessageRowFooter.react","MWMessageRowHeader.react","MWMessageRowMissingMessagesIndicator.react","MWMessageRowUnreadMessagesIndicator.react","MWPActor.react","MWPMessageListColumn.react","MWPMessageListRowWithKeyboardInteractions.react","MWPMessageParsingUtils","MWPMessageRowCalculateStatus.react","MWPThreadCapabilitiesContext","MWShowMessagePromptPopoverContext.react","MWV2MessageRowSimple.react","MWV2MessageStartOfGroupContent.react","cr:3932","cr:7412","react","useMWMessageRowTheme","useMWPEditMessageDeemphasizer","useMWPGetAttachments"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||(h=d("react"));a=h;e=a.memo;var l=a.startTransition,m=a.useCallback,n=a.useId,o=a.useState,p={adminMessageAttachment:{boxSizing:"x9f619",maxWidth:"x4ndzw7",minWidth:"xwj5yc2",paddingBottom:"xdvlbce",paddingStart:"x5ib6vp",paddingLeft:null,paddingRight:null,paddingEnd:"xc73u3c",paddingTop:"x1nn3v0j",$$css:!0}},q=k.memo(c("MWPMessageRowCalculateStatus.react"));function r(a){var b=a.message,c=a.nextMessage;a=babelHelpers.objectWithoutPropertiesLoose(a,["message","nextMessage"]);return k.jsx(q,babelHelpers["extends"]({message:d("Int64Hooks").usePickInt64(b,["senderId","isUnsent","threadKey","primarySortKey","timestampMs","messageId","isAdminMessage","sendStatusV2"]),nextMessage:d("Int64Hooks").usePickInt64(c,["senderId","timestampMs","isAdminMessage"])},a))}r.displayName=r.name+" [from "+f.id+"]";a=e(function(a){var e=a.domElementRef,f=a.hasMessageEmphasisRing,g=a.isModal,h=a.isSecureMessage,q=a.lastEbMessageTime,s=a.message,t=a.navigateToRouteForMediaViewer,u=a.nextMessage,v=a.prevMessage,w=a.renderAttachment,x=a.shouldRenderUnreadIndicator,y=a.stopHoveringRef,z=a.threadType;a=a.useReactionsV2;var A=a===void 0?!1:a;a=(a=d("MWMessageDisplayContext.react").useMWMessageDisplayContext())!=null?a:"standard";var B=a==="standard",C=a==="pinnedMessages";a=d("MWPActor.react").useActor();var D=C||d("MWPMessageParsingUtils").isStartOfGroup(s,v),E=c("MWCMIsAnyCMThread")(z),F=d("MWCMThreadTypes.react").isBroadcastThread(z),G=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(z),H=d("LSMessagingThreadTypeUtil").isGroup(z),I=d("LSMessagingThreadTypeUtil").isSecure(z),J=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext();J=J.seenCountV2Enabled;J=!s.isUnsent&&J;var K=J&&!G&&!d("LSMessagingThreadTypeUtil").isCMSubthread(z),L=!C&&(i||(i=d("I64"))).equal(s.senderId,a),M=u==null,N=!L;J=o(!1);var O=J[0],P=J[1];a=o(!1);var Q=a[0],R=a[1],S=m(function(a){return l(function(){return R(a)})},[R,l]),T=m(function(a){return l(function(){return P(a)})},[P,l]),U=n();J=o(!1);var V=J[0],W=J[1],X=c("useMWMessageRowTheme")(),Y;a=c("useMWPGetAttachments")(s);J=a.length>0&&a[0].xmaLayoutType!=null&&(i||(i=d("I64"))).equal(a[0].xmaLayoutType,(j||(j=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").STANDARD_DXMA));a=a.length>0&&a[0].xmaLayoutType!=null&&(i||(i=d("I64"))).equal(a[0].xmaLayoutType,(j||(j=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").SHARED_STACK));var Z=c("useMWPEditMessageDeemphasizer")(),$=d("LSMessagingThreadTypeUtil").isCMSubthread(z)&&s.subthreadKey!=null;s.isAdminMessage?Y=k.jsx(c("MWMessageRowAdminMessage.react"),{domElementRef:e,isDialogOpened:V,isFirstMessageInGroup:D,isFocused:O,isModal:g,message:s,messageDomID:U,nextMessage:u,outgoing:L,prevMessage:v,setFocusedInTransition:T,setHoveredInTransition:S,setIsDialogOpened:W,stopHoveringRef:y}):J||a?Y=k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{centered:!0,children:k.jsx(c("MWV2MessageRowSimple.react"),{children:k.jsx(c("BaseView.react"),{xstyle:Z,children:k.jsx(c("MWMessageListAttachmentContainer.react"),{connectBottom:!1,connectTop:!1,message:s,outgoing:L,xstyle:p.adminMessageAttachment})})})}):Y=k.jsx(d("MWShowMessagePromptPopoverContext.react").MWShowMessagePromptPopoverContextProvider,{children:k.jsx(d("MWMessageEditContext.react").MWMessageEditContextProvider,{children:k.jsxs(k.Fragment,{children:[k.jsx(c("MWMessageRowUnreadMessagesIndicator.react"),{shouldRenderUnreadIndicator:x}),D&&B?k.jsx(c("MWV2MessageStartOfGroupContent.react"),{domElementRef:e,message:s,prevMessage:v}):null,k.jsx(r,{isBroadcastChannel:G,isBroadcastThread:F,isLargeGroup:!1,isSecureGroupThread:I&&H,message:s,nextMessage:u,children:function(a){return k.jsxs(c("MWPMessageListRowWithKeyboardInteractions.react"),{domElementRef:D?void 0:e,isDialogOpened:V,isFocused:O,isModal:g,message:s,messageDomID:U,outgoing:L,setFocused:T,setHovered:S,setIsDialogOpened:W,stopHoveringRef:y,theme:X,children:[k.jsx(c("MWMessageRowHeader.react"),{isCMThread:E,isFirstMessageInGroup:D,isGroupThread:H,isPinnedMessageList:C,isStandardMessageList:B,message:s,outgoing:L,threadType:z}),k.jsx(c("MWMessageRowBody.react"),{focused:O,hasClickState:K,hasMessageEmphasisRing:f,hovered:Q,incoming:N,isDialogOpened:V,isFirstMessageInGroup:D,isGroupThread:H,isModal:g,isPinnedMessageList:C,isSecureMessage:h,isStandardMessageList:B,message:s,navigateToRouteForMediaViewer:t,nextMessage:u,prevMessage:v,renderAttachment:w,shouldUseReactionsV2:A,threadType:z}),k.jsx(c("MWMessageRowFooter.react"),{hasClickState:K,incoming:N,isBroadcastThread:F,isLastMessage:M,isStandardMessageList:B,message:s,nextMessage:u,outgoing:L,status:a})]})}}),D&&B&&$&&s.subthreadKey!=null&&b("cr:7412")!=null?k.jsx(b("cr:7412"),{domElementRef:e,message:s,nextMessage:u,subthreadKey:s.subthreadKey}):null]})})});return k.jsxs(k.Fragment,{children:[Y,k.jsx(c("MWMessageRowMissingMessagesIndicator.react"),{lastEbMessageTime:q,message:s,nextMessage:u}),b("cr:3932")==null?null:k.jsx(b("cr:3932"),{})]})});g.MWMessageRow=a}),98);
__d("MWCollapsibleAdminMessages.react",["fbt","BaseView.react","MWMessageRow.react","MWPMessageListColumn.react","MWV2ChatAdminMessage.react","MWV2MessageActionsVisibility.react","MWXLink.react","MWXText.react","ODS","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||(i=d("react")),l=i.useState,m={collapsed:{paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",$$css:!0},expanded:{paddingBottom:"x1120s5i",paddingTop:"xz9dl7a",position:"x1n2onr6",zIndex:"x1vjfegm",$$css:!0}};function a(a){var b=d("MWV2MessageActionsVisibility.react").useStopHoveringRef(),e=a.messages,f=babelHelpers.objectWithoutPropertiesLoose(a,["messages"]);a=l(!1);var g=a[0],i=a[1];return k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{centered:!0,children:k.jsxs(d("MWV2ChatAdminMessage.react").MWV2ChatAdminMessageContainer,{children:[k.jsx(c("MWXText.react"),{type:"bodyLink4",children:k.jsx(c("MWXLink.react"),{color:"highlight",onClick:function(){(j||(j=d("ODS"))).bumpEntityKey(3303,"collapsible_admin_messages",g?"hide_messages":"show_messages"),i(function(a){return!a})},role:"button",children:k.jsx(c("BaseView.react"),{xstyle:g?m.expanded:m.collapsed,children:g?h._("__JHASH__k2cKnwAsyRP__JHASH__"):h._("__JHASH__ZpmrUMcuTWA__JHASH__",[h._param("number of admin udpates",e.length)])})})}),g?e.map(function(a,c){return k.createElement(d("MWMessageRow.react").MWMessageRow,babelHelpers["extends"]({},f,{key:a.messageId,message:a,nextMessage:e[c+1],prevMessage:e[c-1],stopHoveringRef:b}))}):null]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWJumpToMostRecentMessageButton.react",["fbt","CurrentUser","MWPColorUtils","MWXIcon.react","MWXPressable.react","ODS","react","useMWPThreadTheme"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||d("react"),l={circleButton:{alignItems:"x6s0dn4",backgroundColor:"x1l31dnx",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",boxShadow:"xurzqwv",display:"x78zum5",height:"x1vqgdyp",justifyContent:"xl56j7k",width:"x100vrsf",$$css:!0}};function m(){var a=c("useMWPThreadTheme")();a=a.threadTheme;a=d("MWPColorUtils").int64ToHex(a.fallbackColor);return k.jsx("svg",{"aria-hidden":!0,fill:"none",height:"18",viewBox:"7 7 22 22",width:"18",children:k.jsx("path",{d:"M24.616 18.366a1.25 1.25 0 011.768 1.768l-7.5 7.5a1.25 1.25 0 01-1.768 0l-7.5-7.5a1.25 1.25 0 011.768-1.768l4.94 4.94a.25.25 0 00.426-.177V9.25a1.25 1.25 0 112.5 0v13.879c0 .222.27.334.427.176l4.94-4.939z",fill:a})})}m.displayName=m.name+" [from "+f.id+"]";m._isSVG=!0;function a(a){var b=a.onPress;return k.jsx(c("MWXPressable.react"),{"aria-label":h._("__JHASH__mZcaI1xn9AA__JHASH__"),onPress:function(){b();var a=c("CurrentUser").getAppID();a=a==null?"unknown":a;(j||(j=d("ODS"))).bumpEntityKey(3185,"mw_jump_to_bottom","app_id."+a)},xstyle:l.circleButton,children:k.jsx(c("MWXIcon.react"),{icon:m})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useFirstUnreadMessage",["I64","MWPActor.react","ReQL","ReQLSuspense","ServerTime","gkx","useReStore","useStable"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=c("gkx")("24099"),e=(i||(i=c("useReStore")))(),g=d("MWPActor.react").useActor(),j=c("useStable")(function(){return(h||(h=d("I64"))).of_float(new Date(d("ServerTime").getMillis()).getTime())}),k=c("useStable")(function(){var b;return(b=(b=d("ReQLSuspense").first(d("ReQL").fromTableAscending(e.tables.threads).getKeyRange(a),f.id+":39"))==null?void 0:b.lastReadWatermarkTimestampMs)!=null?b:(h||(h=d("I64"))).zero});return d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(e.tables.threads,[]).getKeyRange(a).map(function(c){var i;if(!b)return null;c=d("ReQLSuspense").first(d("ReQL").fromTableAscending(e.tables.messages,["senderId"]).getKeyRange(a).bounds({gt:d("ReQL").key(k)}).filter(function(a){a=a.senderId;return(h||(h=d("I64"))).equal(a,g)}),f.id+":54")==null;if(!c)return null;c=d("ReQLSuspense").first(d("ReQL").fromTableDescending(e.tables.messages_ranges_v2__generated).getKeyRange(a),f.id+":64");if(c==null)return null;var l=d("ReQLSuspense").toArray(d("ReQL").fromTableAscending(e.tables.messages,["messageId","timestampMs"]).getKeyRange(a).bounds({gte:d("ReQL").key(c.minTimestampMs,c.minMessageId),lte:d("ReQL").key(j,c.maxMessageId)}).bounds({gt:d("ReQL").key(k)}).take(2),f.id+":74");return l.length<=1?null:((i=l[0])==null?void 0:i.messageId)===c.minMessageId?void 0:l[0]})},[g,e,k,j,a,b],f.id+":43")}g["default"]=a}),98);
__d("MWMessageList",["CometPageletWithDiv.react","I64","Int64Hooks","LSCommunityBitOffset","LSMessageRenderingType","LSMessagingThreadTypeUtil","MWCMIsAnyCMThread","MWClickedMessageContext.react","MWCollapsibleAdminMessages.react","MWInboxThreadMessagesSpinner.react","MWJumpToMostRecentMessageButton.react","MWMessageListLoggingContext","MWMessageRow.react","MWMessageSendingContext.react","MWPBaseMessageList.react","MWPMessageListFocusTable.react","MWPThreadCapabilitiesContext","MWPTypingIndicators.react","MWPVisibleMessageContext.react","MWV2ChatAdminMessage.react","MWV2MessageActionsVisibility.react","WebUXLoggingSurfaceContextProvider","cr:3907","gkx","react","useCommunityFolder","useFirstUnreadMessage","useIsReactionsV2Enabled","useMWPAriaLabelForMessageListGrid","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));a=h;e=a.forwardRef;var k=a.useEffect,l=a.useId,m=a.useState;function n(a){return d("MWV2ChatAdminMessage.react").isAdminMessage(a)&&a!=null&&(a.messageRenderingType==null||!(i||(i=d("I64"))).equal(a.messageRenderingType,(i||(i=d("I64"))).of_int32(c("LSMessageRenderingType").NON_COLLAPSIBLE_ADMIN_MESSAGE)))}function o(){return j.jsx(c("MWInboxThreadMessagesSpinner.react"),{})}o.displayName=o.name+" [from "+f.id+"]";function p(a){return j.jsx(c("MWJumpToMostRecentMessageButton.react"),{onPress:a})}p.displayName=p.name+" [from "+f.id+"]";a=e(function(a,e){var f=a.entryPoint,g=a.renderFooter,h=a.renderHeader,q=a.thread,r=d("MWV2MessageActionsVisibility.react").useStopHoveringRef();a=m("");var s=a[0];a=a[1];var t=l(),u=d("LSMessagingThreadTypeUtil").isSecure(q.threadType),v=c("useMWPAriaLabelForMessageListGrid")(q),w=d("MWPVisibleMessageContext.react").useMWPVisibleMessageContext(),x=w.setVisibleMessage,y=w.visibleMessage,z=d("Int64Hooks").useMemoInt64(function(){return q.threadType},[q.threadType]),A=c("useCommunityFolder")(q),B=A!=null?d("LSCommunityBitOffset").has(9,A):!1,C=d("useIsReactionsV2Enabled").useIsReactionsV2Enabled(q.threadKey),D=c("useFirstUnreadMessage")(q.threadKey);w=m(!1);var E=w[0],F=w[1];d("Int64Hooks").useEffectInt64(function(){return x(void 0)},[q.threadKey,x]);k(function(){D&&!E&&x(function(a){return(a=a)!=null?a:{contextLine:"",highlights:[],messageId:D.messageId,source:"LastReadWatermark",timestamp:D.timestampMs}})},[D,x,E]);w=d("Int64Hooks").useCallbackInt64(function(){return j.jsxs(j.Fragment,{children:[j.jsx(d("MWPTypingIndicators.react").MWPTypingIndicators,{threadKey:q.threadKey,threadType:z}),g&&g()]})},[g,q.threadKey,z]);var G=new Map();f=j.jsx(c("MWPBaseMessageList.react"),{entryPoint:f,onUserScroll:function(){return F(!0)},pageSize:c("gkx")("23432")?3:15,ref:e,renderFooter:w,renderHeader:h,renderJumpToMostRecentMessageButton:p,renderLoadingAnimation:o,renderRow:function(a){var b=a.domElementRef,e=a.message,f=a.nextMessage;a=a.prevMessage;var g=u?(i||(i=d("I64"))).equal(q.threadKey,e.threadKey):!1,h=(D==null?void 0:D.messageId)===e.messageId,k=!n(a)&&!n(f);if((c("MWCMIsAnyCMThread")(q.threadType)||d("LSMessagingThreadTypeUtil").isDiscoverableChannel(q.threadType))&&n(e)&&!k){G.set(e.messageId,e);k=n(a)&&!n(f);if(k){k=Array.from(G.values());G.clear();return j.jsx(c("MWCollapsibleAdminMessages.react"),{domElementRef:b,fbGroupId:A==null?void 0:A.fbGroupId,hasMessageEmphasisRing:y==null?!1:y.messageId===e.messageId&&(y.source==="Reply"||y.source==="Pinned"),isCMAdmin:B,isModal:s===e.messageId,isSecureMessage:g,messages:k,shouldRenderUnreadIndicator:h,threadType:z,useReactionsV2:C})}else return null}return j.jsx(d("MWMessageRow.react").MWMessageRow,{domElementRef:b,fbGroupId:A==null?void 0:A.fbGroupId,hasMessageEmphasisRing:y==null?!1:y.messageId===e.messageId&&(y.source==="Reply"||y.source==="Pinned"),isCMAdmin:B,isModal:s===e.messageId,isSecureMessage:g,message:e,nextMessage:f,prevMessage:a,shouldRenderUnreadIndicator:h,stopHoveringRef:r,threadType:z,useReactionsV2:C})},thread:q});return j.jsx(c("MWMessageSendingContext.react").Provider,{children:j.jsx(c("MWClickedMessageContext.react").Provider,{children:j.jsx(d("CometPageletWithDiv.react").Placeholder,{className:"x78zum5 xdt5ytf x1iyjqo2 x5yr21d",fallback:j.jsx(c("MWInboxThreadMessagesSpinner.react"),{}),name:"MWMessageList",children:j.jsx(d("MWPThreadCapabilitiesContext").Provider,{thread:q,children:j.jsx(c("MWPMessageListFocusTable.react"),{ariaLabel:v,modal:s,setModal:a,children:j.jsx(d("WebUXLoggingSurfaceContextProvider").WebUXSurfaceLoggingContext.Provider,{value:"message_list",children:j.jsx(d("MWMessageListLoggingContext").MWMessageListLoggingContext,{flowInstanceId:c("uuidv4")(),children:b("cr:3907")==null?f:j.jsx(b("cr:3907"),{id:t,children:f})})})})})})})})});g["default"]=a}),98);
__d("MWChatHeaderDetailsSubtitleMutedIcon.react",["fbt","MWXTooltip.react","cr:4426","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){a.forceInlineDisplay;return j.jsx(c("MWXTooltip.react"),{align:"start",position:"above",tooltip:h._("__JHASH__XpvJmcPfz_-__JHASH__"),children:j.jsx(b("cr:4426"),{})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWInboxHeaderDetails.react",["fbt","CometMiddot.react","CometPlaceholder.react","I64","LSIntEnum","LSMessagingThreadTypeUtil","LSReQLPresenceStatusText.react","LSRtcCallState","LSThreadTitle.react","LSVerificationBadge.react","MWCMInboxHeaderCommunityGroupName.react","MWCMThreadTypes.react","MWChatHeaderDetailsSubtitleMutedIcon.react","MWLSContactTypeExactUtils","MWSeparatorContainer.react","MWVerticalRhythm","MWXText.react","MessengerMuteUtils","ReQL","ReQLSuspense","XPlatReactEnvironment","cr:112","cr:4703","react","react-strict-dom","useMWChatCalculateIsMutedFromExpireTime","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=l||d("react"),n=d("XPlatReactEnvironment").isWeb(),o={align:{verticalAlign:"xxymvpz",$$css:!0},color:{color:"x1dyh7pn",$$css:!0},container:{alignItems:"x1cy8zhl",display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",justifyContent:"xl56j7k",minHeight:"xj9xw9b",$$css:!0},item:{alignItems:"x6s0dn4",display:"x78zum5",maxWidth:"x193iq5w",$$css:!0},middot:{paddingStart:"x1k2j06m",paddingLeft:null,paddingRight:null,paddingEnd:"x10ogl3i",$$css:!0}};function p(a){var b=a.children,e=a.threadKey,g=(i||(i=c("useReStore")))();a=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(g.table("threads"),["memberCount"]).getKeyRange(e).map(function(a){return a.memberCount})},[g,e],f.id+":83");return b(a)}p.displayName=p.name+" [from "+f.id+"]";function q(a){a=a.children;return m.jsx(c("MWXText.react"),{align:"start",numberOfLines:1,type:"meta3",children:m.jsxs(d("react-strict-dom").html.span,{style:o.color,children:[a," "]})})}q.displayName=q.name+" [from "+f.id+"]";function a(a){var e=a.thread;a=a.threadNameSize;var g=(i||(i=c("useReStore")))(),l=e.muteCallsExpireTimeMs,r=e.muteExpireTimeMs,s=e.ongoingCallState,t=e.threadKey,u=e.threadType,v=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(g.table("contacts"),["contactTypeExact","secondaryName"]).getKeyRange(t).filter(function(a){a=a.contactTypeExact;return d("MWLSContactTypeExactUtils").isIgContact(a)})},[g,t],f.id+":130"),w=(v==null?void 0:v.secondaryName)!=null&&(v==null?void 0:v.secondaryName)!==""!==""?v.secondaryName:null;v=d("MWCMThreadTypes.react").isJoinedCMThread(u);var x=d("LSMessagingThreadTypeUtil").isJoinedSocialChannel(u);l=d("MessengerMuteUtils").calcMuteUntilMs({muteCallsExpireTimeMs:l,muteExpireTimeMs:r});var y=c("useMWChatCalculateIsMutedFromExpireTime")(l);r=!(j||(j=d("I64"))).equal(s,(k||(k=d("LSIntEnum"))).ofNumber(c("LSRtcCallState").NO_ONGOING_CALL));l=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(u);s=d("LSMessagingThreadTypeUtil").isDiscoverableChannel(u);var z=m.jsx(d("react-strict-dom").html.div,{style:o.middot,children:m.jsx(q,{children:m.jsx(c("CometMiddot.react"),{})})}),A=m.jsx(c("LSThreadTitle.react"),{thread:e});return m.jsxs(d("react-strict-dom").html.div,{style:o.container,children:[m.jsx(d("react-strict-dom").html.div,{style:o.item,children:m.jsx(c("MWXText.react"),{align:"center",isSemanticHeading:!0,numberOfLines:1,testid:void 0,type:a,children:m.jsxs(d("react-strict-dom").html.span,{style:[o.align,o.color],children:[A,m.jsx(c("CometPlaceholder.react"),{fallback:null,children:!s&&!v&&m.jsx(c("LSVerificationBadge.react"),{size:"small",threadKey:t})})]})})}),l&&b("cr:112")?m.jsx(p,{threadKey:t,children:function(a){return m.jsxs(m.Fragment,{children:[m.jsx(c("MWVerticalRhythm"),{height:8}),m.jsx(q,{children:m.jsx(b("cr:112"),{memberCount:a!=null?(j||(j=d("I64"))).to_int32(a):0})})]})}}):x?m.jsx(p,{threadKey:t,children:function(a){return b("cr:4703")!=null&&a!=null?m.jsxs(m.Fragment,{children:[m.jsx(c("MWVerticalRhythm"),{height:8}),m.jsx(q,{children:m.jsx(b("cr:4703"),{count:(j||(j=d("I64"))).to_int32(a)})})]}):null}}):v?m.jsx(c("MWCMInboxHeaderCommunityGroupName.react"),{renderWrapper:function(a){return m.jsxs(m.Fragment,{children:[n&&m.jsx(c("MWVerticalRhythm"),{height:6}),m.jsx(d("react-strict-dom").html.div,{"data-testid":void 0,style:o.item,children:m.jsx(q,{children:a})})]})},thread:e}):r?m.jsxs(m.Fragment,{children:[m.jsx(c("MWVerticalRhythm"),{height:6}),m.jsxs(c("MWSeparatorContainer.react"),{separator:z,xstyle:o.item,children:[w!=null?m.jsx(q,{children:w}):null,m.jsx(q,{children:h._("__JHASH__vQgw_4Xpge6__JHASH__")}),y?m.jsx(c("MWChatHeaderDetailsSubtitleMutedIcon.react"),{forceInlineDisplay:!0}):null]})]}):m.jsx(c("LSReQLPresenceStatusText.react"),{renderNullState:function(){return m.jsxs(c("MWSeparatorContainer.react"),{beforeContent:m.jsx(c("MWVerticalRhythm"),{height:6}),separator:z,xstyle:o.item,children:[w!=null?m.jsxs(q,{children:[" ",w," "]}):null,y?m.jsx(c("MWChatHeaderDetailsSubtitleMutedIcon.react"),{forceInlineDisplay:!0}):null]})},renderWrapper:function(a){return m.jsxs(m.Fragment,{children:[m.jsx(c("MWVerticalRhythm"),{height:6}),m.jsxs(c("MWSeparatorContainer.react"),{separator:z,xstyle:o.item,children:[w!==null?m.jsx(q,{children:w}):null,m.jsx(q,{children:a}),y?m.jsx(c("MWChatHeaderDetailsSubtitleMutedIcon.react"),{forceInlineDisplay:!0}):null]})]})},threadKey:t,threadType:u})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("queryMWLSOtherParticipantContact",["I64","LSMessagingThreadTypeUtil","ReQL"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,c,e,f){c=d("LSMessagingThreadTypeUtil").isOneToOne(c);return c?d("ReQL").leftJoin(d("ReQL").fromTableAscending(a.table("participants"),["contactId"]).getKeyRange(b).filter(function(a){return!(h||(h=d("I64"))).equal(a.contactId,e)}).take(1),d("ReQL").fromTableAscending(a.table("contacts"),f)).map(function(a){a[0];a=a[1];return a}):d("ReQL").empty()}g["default"]=a}),98);
__d("MWInboxHeaderDetailsPressable.react",["I64","LSContactLink.react","LSMessagingThreadTypeUtil","LSThreadBitOffset","MWLSGroupMembershipDialog.entrypoint","MWPActor.react","MWXPressable.react","ReQLSuspense","XPlatReactEnvironment","queryMWLSOtherParticipantContact","react","useCommunityFolder","useMWAriaLabelForThread","useMWXEntryPointDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react")),l=i.useRef,m=d("XPlatReactEnvironment").isWeb(),n={title:{maxWidth:"x193iq5w",$$css:!0},titleXplat:{flexGrow:"x1iyjqo2",marginTop:"xdj266r",verticalAlign:"xxymvpz",$$css:!0}};function o(a){var b=a.children;a=a.thread;var e=a.parentThreadKey,f=a.threadKey,g=a.threadName;a=a.threadType;var h=l(null),i=c("useCommunityFolder")({parentThreadKey:e});e=c("useMWAriaLabelForThread")({threadKey:f,threadName:g,threadType:a});g=c("useMWXEntryPointDialog")(c("MWLSGroupMembershipDialog.entrypoint"),{groupID:(j||(j=d("I64"))).to_string((f=i==null?void 0:i.fbGroupId)!=null?f:(j||(j=d("I64"))).zero)});var o=g[0];return k.jsx(c("MWXPressable.react"),{"aria-label":e,onPress:function(){return o({folder:i})},overlayDisabled:!0,ref:h,xstyle:[n.title,!m&&n.titleXplat],children:b})}o.displayName=o.name+" [from "+f.id+"]";function p(a){var b=a.children;a=a.thread;var e=a.threadKey,g=a.threadType,i=(h||(h=c("useReStore")))(),j=d("MWPActor.react").useActor(),l=d("ReQLSuspense").useFirst(function(){return c("queryMWLSOtherParticipantContact")(i,e,g,j,["name","blockedByViewerStatus","contactTypeExact","id","secondaryName"])},[i,j,e,g],f.id+":112");a=d("LSThreadBitOffset").has(8,a);return l!=null&&a?k.jsx(c("LSContactLink.react"),{contact:l,isText:!1,label:l.name,testid:void 0,children:b}):b}p.displayName=p.name+" [from "+f.id+"]";function a(a){var b=a.children;a=a.thread;if(d("LSMessagingThreadTypeUtil").isBusinessSupportThread(a.threadSubtype))return b;if(d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType))return k.jsx(p,{thread:a,children:b});var c=d("LSThreadBitOffset").has(26,a);return d("LSMessagingThreadTypeUtil").isGroup(a.threadType)&&c?k.jsx(o,{thread:a,children:b}):b}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWInboxHeaderDetailsContainer.react",["CometPlaceholder.react","Int64Hooks","LSThreadBitOffset","MWInboxHeaderDetails.react","MWInboxHeaderDetailsPressable.react","MWThreadPicture.react","MWXRow.react","MWXRowItem.react","ReQL","ReQLSuspense","XPlatReactEnvironment","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i.memo;var k=d("XPlatReactEnvironment").isWeb(),l={detailsContainer:{flexGrow:"x1iyjqo2",paddingStart:"x1h0ha7o",$$css:!0}};function a(a){var b=a.badgeSize;b=b===void 0?10:b;var e=a.isContainerPressable;e=e===void 0?!0:e;var g=a.photoSize;g=g===void 0?40:g;var i=a.threadKey;a=a.threadNameSize;a=a===void 0?"headlineEmphasized3":a;var m=(h||(h=c("useReStore")))(),n=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(m.tables.threads,["threadKey","threadType","muteCallsExpireTimeMs","muteExpireTimeMs","ongoingCallState","cannotReplyReason","parentThreadKey","threadName","threadSubtype"].concat(d("LSThreadBitOffset").threadCapabilityFields)).getKeyRange(i)},[m,i],f.id+":53");if(n==null)return null;b=j.jsx(c("MWXRowItem.react"),{children:j.jsx(c("MWThreadPicture.react"),{badgeSize:b,photoSize:g,threadKey:i,withAltText:!1})});g=j.jsx(c("MWXRowItem.react"),{expanding:!0,xstyle:l.detailsContainer,children:j.jsx(c("MWInboxHeaderDetails.react"),{thread:n,threadNameSize:a})});return j.jsx(c("MWXRow.react"),{expanding:!0,paddingHorizontal:0,paddingVertical:0,testid:void 0,verticalAlign:k?"center":"top",children:j.jsx(c("CometPlaceholder.react"),{fallback:null,children:e?j.jsx(c("MWInboxHeaderDetailsPressable.react"),{thread:n,children:j.jsxs(c("MWXRow.react"),{paddingHorizontal:0,paddingTop:0,paddingVertical:0,children:[b,g]})}):j.jsxs(j.Fragment,{children:[j.jsx(c("MWInboxHeaderDetailsPressable.react"),{thread:n,children:b}),g]})})})}a.displayName=a.name+" [from "+f.id+"]";e=b(a,d("Int64Hooks").mostlyShallowEqual);g["default"]=e}),98);
__d("MWV2HeaderSettingsMenuQuery$Parameters",["MWV2HeaderSettingsMenuQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWV2HeaderSettingsMenuQuery_facebookRelayOperation"),metadata:{},name:"MWV2HeaderSettingsMenuQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWV2HeaderSettingsMenu.entrypoint",["JSResourceForInteraction","MWV2HeaderSettingsMenuQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.groupID;return{queries:{headerSettingsMenuQueryRef:{parameters:c("MWV2HeaderSettingsMenuQuery$Parameters"),variables:{groupID:(a=a)!=null?a:""}}}}},root:c("JSResourceForInteraction")("MWV2HeaderSettingsMenu.react").__setRef("MWV2HeaderSettingsMenu.entrypoint")};g["default"]=a}),98);
__d("MWV2HeaderSettingsPopoverTrigger.react",["I64","MWV2HeaderSettingsMenu.entrypoint","MWXEntryPointPopoverTrigger.react","MessengerWebUXLogger","WebUXLoggingSurfaceContextProvider","cr:2580","emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react");function a(a){var e=a.children,f=a.folderFbGroupId,g=a.pushPage,h=a.tab;a=a.thread;var k=a.threadKey,l=a.threadType,m=c("MessengerWebUXLogger").useImpressionLogger();a=f!=null?(i||(i=d("I64"))).to_string(f):void 0;return j.jsx(d("WebUXLoggingSurfaceContextProvider").WebUXLoggingSurfaceContextProvider,{value:"chat_tab_header_settings_menu",children:j.jsx(c("MWXEntryPointPopoverTrigger.react"),{entryPointParams:{groupID:a},onVisibilityChange:function(a){b("cr:2580")&&a&&(b("cr:2580")({threadKey:k,threadType:l},"open_thread_settings_menu","popup_chat_box"),m==null?void 0:m({eventName:"thread_settings_menu_impression",threadKey:k,threadType:l}))},otherProps:{onClose:c("emptyFunction"),pushPage:g,tab:h,threadKey:k},popoverEntryPoint:c("MWV2HeaderSettingsMenu.entrypoint"),position:"start",preloadTrigger:"button",children:e})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWCMIssueCommunityMemberListFetch",["I64","Int64Hooks","LSFactory","LSIntEnum","LSIssueCommunityMemberListFetchStoredProcedure","LSVec","pageID","promiseDone","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a,b){var e=(j||(j=c("useReStore")))();return d("Int64Hooks").useCallbackInt64(function(){c("promiseDone")(e.runInTransaction(function(e){return c("LSIssueCommunityMemberListFetchStoredProcedure")(c("LSFactory")(e),{communityId:a,fetchAdminsOnly:!1,fetchFriendMembersOnly:!1,maxName:"",maxTimestampMs:(h||(h=d("I64"))).zero,nextPageCursor:"",requestId:c("pageID"),roles:c("LSVec").ofArray([(i||(i=d("LSIntEnum"))).ofNumber(0)]),source:i.ofNumber(7),threadKey:b,threadRoles:c("LSVec").ofArray([])})},"readwrite"))},[e,a,b])}g["default"]=a}),98);
__d("useMWV2HeaderSettingsPopover",["fbt","LSMessagingThreadTypeUtil","MWCMThreadTypes.react","MessengerWebUXLogger","ODS","useMWCMIssueCommunityMemberListFetch"],(function(a,b,c,d,e,f,g,h){"use strict";var i;function a(a){var b=a.fbGroupId,e=a.threadKey,f=a.threadType,g=c("useMWCMIssueCommunityMemberListFetch")(b,e),j=d("MWCMThreadTypes.react").isJoinedCMThread(f);a=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(f);var k=c("MessengerWebUXLogger").useInteractionLogger();return{showDialog:function(a){a(),j&&g(),k==null?void 0:k({eventName:"open_thread_settings_menu",threadKey:e,threadType:f}),(i||(i=d("ODS"))).bumpEntityKey(3185,"mwchat_header","settings")},tooltip:a?h._("__JHASH__J1KJGjGSRI0__JHASH__"):h._("__JHASH__FjEOIpwxx5G__JHASH__")}}g["default"]=a}),98);
__d("MWV2HeaderSettingsButton.react",["MDSRow.react","MDSRowItem.react","MWV2HeaderSettingsButtonChevron.react","MWV2HeaderSettingsPopoverTrigger.react","MWXPressable.react","MWXTooltip.react","react","useMWV2HeaderSettingsPopover"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={icon:{marginStart:"x1i64zmx",marginLeft:null,marginRight:null,$$css:!0},rowItem:{alignItems:"x6s0dn4",flexDirection:"x1q0g3np",flexGrow:"x1iyjqo2",$$css:!0},settingsButton:{flexShrink:"xs83m0k",marginEnd:"x1emribx",marginLeft:null,marginRight:null,minWidth:"xeuugli",$$css:!0}};function a(a){var b,d=a.children,e=a.folderFbGroupId,f=a.pushPage,g=a.tab;a=a.thread;var h=a.threadKey,k=a.threadType;b=c("useMWV2HeaderSettingsPopover")({fbGroupId:(b=e)!=null?b:h,threadKey:h,threadType:k});var l=b.showDialog,m=b.tooltip;return i.jsx(c("MWV2HeaderSettingsPopoverTrigger.react"),{folderFbGroupId:e,pushPage:f,tab:g,thread:a,children:function(a,b,e,f,g,h,k){return i.jsx(c("MWXTooltip.react"),{align:"middle",position:"above",tooltip:m,children:i.jsx(c("MWXPressable.react"),{"aria-label":m,onHoverIn:f,onHoverOut:g,onPress:function(){return l(b)},onPressIn:h,overlayRadius:"compact",ref:a,testid:void 0,xstyle:j.settingsButton,children:i.jsx(c("MDSRow.react"),{align:"center",paddingHorizontal:0,paddingVertical:0,spacingHorizontal:0,verticalAlign:"center",children:i.jsxs(c("MDSRowItem.react"),{expanding:!0,xstyle:j.rowItem,children:[d,i.jsx(c("MWV2HeaderSettingsButtonChevron.react"),{xstyle:j.icon})]})})})})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWReQLHeaderSettingsButton.react",["MWV2HeaderSettingsButton.react","react","useCommunityFolder"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.children,d=a.pushPage,e=a.tab;a=a.thread;var f=a.parentThreadKey;f=c("useCommunityFolder")({parentThreadKey:f});return i.jsx(c("MWV2HeaderSettingsButton.react"),{children:b,folderFbGroupId:f==null?void 0:f.fbGroupId,pushPage:d,tab:e,thread:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ChatRTCButtonsBaseButton.react",["MWChatHeaderActionButton.react","MWXThreadThemeColor","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.icon,e=a.label,f=a.loggingEvent,g=a.onPress,h=a.size;a=a.testid;return i.jsx(c("MWChatHeaderActionButton.react"),{color:d("MWXThreadThemeColor").mwxThreadThemeColor("var(--mwp-header-button-color)"),icon:b,loggingEvent:f,onPress:g,size:h,testid:void 0,tooltipLabel:e,tooltipPosition:c("gkx")("23219")?"below":"above"})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ChatRTCButtonsAudio.react",["fbt","MWV2ChatRTCButtonsBaseButton.react","MWXIconPhone","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=a.size;a=a.startAudioCall;return j.jsx(c("MWV2ChatRTCButtonsBaseButton.react"),{icon:c("MWXIconPhone"),label:h._("__JHASH__7OlJstElKZQ__JHASH__"),loggingEvent:"start_audio_call",onPress:a,size:b,testid:void 0})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXIconCamcorder",["MWXSvgIcon","SVGIcon","cr:5381","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:5381")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWV2ChatRTCButtonsJoinExistingChat.react",["fbt","I64","LSIntEnum","LSRtcCallState","MWXCircleButton.react","MWXIconCamcorder","MWXIconPhone","MWXThreadThemeColor","MWXTooltip.react","emptyFunction","gkx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=i||d("react");function a(a){var b=a.ongoingCallState,e=a.size,f=a.startAudioCall;a=a.startVideoCall;if((j||(j=d("I64"))).equal(b,(k||(k=d("LSIntEnum"))).ofNumber(c("LSRtcCallState").NO_ONGOING_CALL)))return null;var g=(j||(j=d("I64"))).equal(b,(k||(k=d("LSIntEnum"))).ofNumber(c("LSRtcCallState").AUDIO_GROUP_CALL))?h._("__JHASH__Jezj_QnZwHq__JHASH__"):(j||(j=d("I64"))).equal(b,(k||(k=d("LSIntEnum"))).ofNumber(c("LSRtcCallState").VIDEO_GROUP_CALL))?h._("__JHASH__LWBq4gDrf_a__JHASH__"):"";return l.jsx(c("MWXTooltip.react"),{align:"middle",position:c("gkx")("23219")?"below":"above",tooltip:g,children:l.jsx(c("MWXCircleButton.react"),{color:d("MWXThreadThemeColor").mwxThreadThemeColor("var(--mwp-header-button-color)"),icon:(j||(j=d("I64"))).equal(b,(k||(k=d("LSIntEnum"))).ofNumber(c("LSRtcCallState").AUDIO_GROUP_CALL))?c("MWXIconPhone"):(j||(j=d("I64"))).equal(b,(k||(k=d("LSIntEnum"))).ofNumber(c("LSRtcCallState").VIDEO_GROUP_CALL))?c("MWXIconCamcorder"):c("MWXIconPhone"),label:g,onPress:(j||(j=d("I64"))).equal(b,(k||(k=d("LSIntEnum"))).ofNumber(c("LSRtcCallState").AUDIO_GROUP_CALL))?f:(j||(j=d("I64"))).equal(b,(k||(k=d("LSIntEnum"))).ofNumber(c("LSRtcCallState").VIDEO_GROUP_CALL))?a:c("emptyFunction"),size:e,testid:void 0})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ChatRTCButtonsVideo.react",["fbt","BaseBadge.react","BaseView.react","MWV2ChatRTCButtonsBaseButton.react","MWXIconCamcorder","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={activityIndicatorColor:{backgroundColor:"xv9rvxn",height:"xqu0tyb",width:"x51ohtg",$$css:!0},badgeContainer:{alignItems:"x6s0dn4",bottom:"x1ey2m1c",display:"x78zum5",end:"xds687c",left:null,right:null,position:"x10l6tqk",top:"x13vifvy",$$css:!0}};function a(a){var b=a.isActive,d=a.size;a=a.startVideoCall;a=j.jsx(c("MWV2ChatRTCButtonsBaseButton.react"),{icon:c("MWXIconCamcorder"),label:h._("__JHASH__BhmiwbAyMN2__JHASH__"),loggingEvent:"start_video_chat",onPress:a,size:d,testid:void 0});return b===!0?j.jsxs(c("BaseView.react"),{children:[a,j.jsx(c("BaseView.react"),{xstyle:k.badgeContainer,children:j.jsx(c("BaseBadge.react"),{xstyle:k.activityIndicatorColor})})]}):a}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ChatRTCButtons.react",["I64","LSIntEnum","LSRtcCallState","MWStartRTCCallUtils","MWV2ChatRTCButtonsAudio.react","MWV2ChatRTCButtonsJoinExistingChat.react","MWV2ChatRTCButtonsVideo.react","react","useShouldTryWithMessengerDesktop"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||d("react");function l(a){return a}function a(a){var b=a.canAudioCall,e=a.canVideoCall,f=a.isActive,g=a.ongoingCallState,h=a.renderContainer;h=h===void 0?l:h;var m=a.size;m=m===void 0?28:m;var n=a.startWebAudioCall,o=a.startWebVideoCall;a=a.threadKey;var p=c("useShouldTryWithMessengerDesktop")(),q=d("MWStartRTCCallUtils").useStartMessengerDesktopCall(a,"video",o);a=d("MWStartRTCCallUtils").useStartMessengerDesktopCall(a,"audio",n);q=p?q:o;o=p?a:n;if(!(b||e))return null;return!(i||(i=d("I64"))).equal(g,(j||(j=d("LSIntEnum"))).ofNumber(c("LSRtcCallState").NO_ONGOING_CALL))?h(k.jsx(c("MWV2ChatRTCButtonsJoinExistingChat.react"),{ongoingCallState:g,size:m,startAudioCall:o,startVideoCall:q})):k.jsxs(k.Fragment,{children:[b?h(k.jsx(c("MWV2ChatRTCButtonsAudio.react"),{size:m,startAudioCall:o})):null,e?h(k.jsx(c("MWV2ChatRTCButtonsVideo.react"),{isActive:f,size:m,startVideoCall:q})):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWV2StartGroupCall",["I64","Int64Hooks","JSResourceForInteraction","LSIntEnum","LSMessagingThreadTypeUtil","getRTCCallStateOfLSRTCCallState","gkx","useMWXLazyDialog","useRTWebCometStartCallCallback"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b,e,f){var g=a.ongoingCallState,j=a.threadKey,k=a.threadType,l=c("useRTWebCometStartCallCallback")();a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("RestrictedUserInGroupInterstitialDialog.react").__setRef("useMWV2StartGroupCall"));var m=a[0];return d("Int64Hooks").useCallbackInt64(function(a){var n,o=a.jid,p=a.ongoingCallServerInfoData,q=a.otherParticipantId;a=a.restrictedUsers;a=a===void 0?[]:a;b();n=(n=d("LSMessagingThreadTypeUtil").isGroup(k))!=null?n:!1;n=n&&a.length>0&&c("gkx")("24036");var r={existingCall:p!=null?{call_state:c("getRTCCallStateOfLSRTCCallState")((h||(h=d("LSIntEnum"))).unwrapIntEnum(g),(h||(h=d("LSIntEnum"))).unwrapIntEnum(k)),initiator_fbid:null,server_info_data:p}:null,isE2eeMandated:d("LSMessagingThreadTypeUtil").isSecure(k),mediaType:e,thread:{e2eeThreadID:o!=null?(i||(i=d("I64"))).to_string(o):void 0,id:(i||(i=d("I64"))).to_string(j),secureOneToOneThreadPeerId:q!=null&&(i||(i=d("I64"))).equal(k,(h||(h=d("LSIntEnum"))).ofNumber(15))?(i||(i=d("I64"))).to_string(q):void 0,type:(h||(h=d("LSIntEnum"))).unwrapIntEnum(k)},trigger:f};return n?m({onContinue:function(){return l(r)},restrictedUsers:a}):l(r)},[b,k,g,e,j,f,l,m])}g["default"]=a}),98);
__d("useMWReQLStartGroupCall",["Actor","I64","Int64Hooks","LSContactBitOffset","Promise","ReQL","asyncToGeneratorRuntime","promiseDone","react","useMWV2StartGroupCall","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=(k||d("react")).useCallback;function a(a,e,f,g){var i=a.ongoingCallState,k=a.threadKey;a=a.threadType;var p=(j||(j=c("useReStore")))(),q=d("Actor").useActor();q=q[0];var r=d("ReQL").firstAsync(d("ReQL").fromTableAscending(p.tables.mi_act_mapping_table).getKeyRange(k).map(function(a){return a.jid})),s=d("ReQL").toArrayAsync(m(p,k)),t=d("ReQL").firstAsync(n(p,k,q)),u=d("ReQL").firstAsync(o(p,k)),v=c("useMWV2StartGroupCall")({ongoingCallState:i,threadKey:k,threadType:a},e,f,g),w=d("Int64Hooks").useCallbackInt64(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield (h||(h=b("Promise"))).all([r,t,u,s])),c=a[0],d=a[1],e=a[2];a=a[3];v({jid:c,ongoingCallServerInfoData:e,otherParticipantId:d,restrictedUsers:a})}),[r,t,u,s,v]);return l(function(){return c("promiseDone")(w())},[w])}var m=function(a,b){return d("ReQL").mergeJoin(d("ReQL").fromTableAscending(a.tables.participants).getKeyRange(b).take(20),d("ReQL").fromTableAscending(a.tables.contacts)).filter(function(a){a[0];a=a[1];return(a=d("LSContactBitOffset").has(66,a))!=null?a:!1}).map(function(a){a[0];a=a[1];return a})},n=function(a,b,c){return d("ReQL").fromTableAscending(a.tables.participants).getKeyRange(b).filter(function(a){return!(i||(i=d("I64"))).equal(a.contactId,i.of_string(c))}).map(function(a){return a.contactId})},o=function(a,b){return d("ReQL").fromTableAscending(a.tables.rtc_ongoing_calls_on_threads_v2).getKeyRange(b).map(function(a){return a.ongoingCallServerInfoData})};g["default"]=a}),98);
__d("useMWThreadHasActiveParticipants",["I64","MWPActor.react","ReQL","ReQLSuspense","useMWChatHasActiveContact","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=(i||(i=c("useReStore")))(),e=d("MWPActor.react").useActor(),g=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(b.table("participants")).getKeyRange(a).filter(function(a){return!(h||(h=d("I64"))).equal(a.contactId,e)}).take(1)},[e,b,a],f.id+":28");return d("useMWChatHasActiveContact").useMWChatHasActiveContact(g.map(function(a){return a.contactId}))}g["default"]=a}),98);
__d("MWReQLChatRTCButtons.react",["MWStartRTCCallUtils","MWV2ChatRTCButtons.react","emptyFunction","react","useMWReQLStartGroupCall","useMWThreadHasActiveParticipants"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function j(a){return a}function a(a){var b=a.audioCallingSurface;a.disableOverlayOnHover;var e=a.logAudio;e=e===void 0?c("emptyFunction"):e;var f=a.logVideo;f=f===void 0?c("emptyFunction"):f;var g=a.renderContainer;g=g===void 0?j:g;var h=a.size;h=h===void 0?28:h;var k=a.thread;a=a.videoCallingSurface;var l=c("useMWThreadHasActiveParticipants")(k.threadKey),m=d("MWStartRTCCallUtils").useCanCall(k),n=m[0];m=m[1];f=c("useMWReQLStartGroupCall")(k,f,"video",a);a=c("useMWReQLStartGroupCall")(k,e,"audio",b);return i.jsx(c("MWV2ChatRTCButtons.react"),{canAudioCall:n,canVideoCall:m,isActive:l,ongoingCallState:k.ongoingCallState,renderContainer:g,size:h,startWebAudioCall:a,startWebVideoCall:f,threadKey:k.threadKey})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ChatTabHeaderRTCButtons.react",["Int64Hooks","LSThreadBitOffset","MWReQLChatRTCButtons.react","ODS","ReQL","ReQLSuspense","react","requireDeferred","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react"));b=i;e=b.memo;var l=b.useCallback,m=c("requireDeferred")("ZenonUserActionLoggerCommon").__setRef("MWV2ChatTabHeaderRTCButtons.react");function a(a){var b=a.threadKey;a=l(function(){(j||(j=d("ODS"))).bumpEntityKey(3185,"mwchat_header","audio"),m.onReady(function(a){return a.logClick({component:"audio_button",surface:"chat_tab"})})},[]);var e=l(function(){(j||(j=d("ODS"))).bumpEntityKey(3185,"mwchat_header","video"),m.onReady(function(a){return a.logClick({component:"video_button",surface:"chat_tab"})})},[]),g=(h||(h=c("useReStore")))(),i=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(g.tables.threads,["threadKey","threadType","folderName","ongoingCallState"].concat(d("LSThreadBitOffset").threadCapabilityFields)).getKeyRange(b)},[g,b],f.id+":49");if(i==null)return;return k.jsx(c("MWReQLChatRTCButtons.react"),{audioCallingSurface:"comet_chattab_audio_button",logAudio:a,logVideo:e,thread:i,videoCallingSurface:"comet_chattab_video_button"})}a.displayName=a.name+" [from "+f.id+"]";b=e(a,d("Int64Hooks").mostlyShallowEqual);g["default"]=b}),98);
__d("MWXIconMinus",["MWXSvgIcon","SVGIcon","cr:7964","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:7964")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWV2HeaderMinimizeButton.react",["fbt","MWChatHeaderActionButton.react","MWXIconMinus","MWXThreadThemeColor","react","useSetAttributeRef"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){a=a.onPress;var b=c("useSetAttributeRef")("data-prevent_chattab_focus","1"),e=h._("__JHASH__Sy-7_lHYMqE__JHASH__");return j.jsx(c("MWChatHeaderActionButton.react"),{color:d("MWXThreadThemeColor").mwxThreadThemeColor("var(--mwp-header-button-color)"),icon:c("MWXIconMinus"),iconRatio:"large",loggingEvent:"minimize_chat_tab",onPress:a,ref:b,tooltipLabel:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ChatTabHeader.react",["I64","LSMessagingThreadTypeUtil","MAWThreadCutover","MWChatStateActions","MWChatStateV2.react","MWInboxHeaderDetailsContainer.react","MWReQLHeaderSettingsButton.react","MWV2ChatTabHeaderRTCButtons.react","MWV2ChatTabSSR","MWV2HeaderCloseButton.react","MWV2HeaderContainer.react","MWV2HeaderMinimizeButton.react","MWXTooltipGroup.react","cr:7274","react","useMWV2CloseTab"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react");function a(a){var e=a.pushPage,f=a.renderThreadDetails,g=a.tab;a=a.thread;var h=d("MWChatStateV2.react").useDispatch(),i=c("useMWV2CloseTab")(a==null?void 0:a.threadKey,g),k=d("MAWThreadCutover").useIsCutoverOpenThread(a.threadKey),l=j.jsx(c("MWInboxHeaderDetailsContainer.react"),{isContainerPressable:!1,photoSize:32,threadKey:a.threadKey,threadNameSize:"headlineEmphasized4"});k||d("LSMessagingThreadTypeUtil").isBusinessSupportThread(a.threadSubtype)?k=l:k=f!=null?f():j.jsx(d("MWV2ChatTabSSR").Placeholder,{fallback:l,children:j.jsx(c("MWReQLHeaderSettingsButton.react"),{pushPage:e,tab:g,thread:a,children:l})});return j.jsx(c("MWV2HeaderContainer.react"),{endContent:j.jsx(c("MWXTooltipGroup.react"),{children:j.jsxs("div",{className:"x6s0dn4 x78zum5 xcud41i",children:[j.jsx(d("MWV2ChatTabSSR").Placeholder,{children:j.jsx(c("MWV2ChatTabHeaderRTCButtons.react"),{threadKey:a.threadKey})}),j.jsx(c("MWV2HeaderMinimizeButton.react"),{onPress:function(){return h(d("MWChatStateActions").minimizeTab(Date.now(),g.tabId))}}),b("cr:7274")!=null?j.jsx(d("MWV2ChatTabSSR").Placeholder,{children:j.jsx(b("cr:7274"),{thread:a})}):null,j.jsx(c("MWV2HeaderCloseButton.react"),{onPress:i,testid:void 0})]})}),startContent:k})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useC4GEngagementSurface",["MWLSThreadDisplayContext"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),b="messenger_inbox";switch(a){case"ChatTab":b="chats_tab";break}return b}g["default"]=a}),98);
__d("useC4gEngagementImpressionLogging",["GroupsCometChatsEngagementLogger","I64","Int64Hooks","MWCMIsAnyCMThread","MWCMIsCMSubthread","MWV2IsTabFocusedContext.react","useC4GEngagementSurface"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=a.isSubthreadDisplayed,e=b===void 0?!1:b,f=a.threadKey,g=a.threadType,i=d("MWV2IsTabFocusedContext.react").useIsTabFocused(),j=c("useC4GEngagementSurface")();d("Int64Hooks").useEffectInt64(function(){i&&(c("MWCMIsAnyCMThread")(g)||c("MWCMIsCMSubthread")(g)&&e)&&d("GroupsCometChatsEngagementLogger").log({action:"impression",client_extras:c("MWCMIsCMSubthread")(g)?{is_subthread:"1"}:void 0,event:"thread_focus",source:"thread_view",surface:j,thread_id:(h||(h=d("I64"))).to_string(f)})},[f,g,i,j,e])}g["default"]=a}),98);
__d("useLogSubthreadSpentTime.react",["I64","Int64Hooks","MWCMLogTimeSpent","MWV2IsTabFocusedContext.react","ServerTime","react","useC4gEngagementImpressionLogging","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=h||d("react");var j=b.useRef,k=b.useState;function a(a){var b=a.loggingSurface,e=a.threadKey;a=a.threadType;var f=k(!1),g=f[0],h=f[1],l=d("MWV2IsTabFocusedContext.react").useIsTabFocused(),m=j(!0);c("useC4gEngagementImpressionLogging")({isSubthreadDisplayed:g,threadKey:e,threadType:a});d("Int64Hooks").useEffectInt64(function(){l&&g&&(c("MWCMLogTimeSpent")("active",(i||(i=d("I64"))).to_string(e),b,d("ServerTime").getMillis()),m.current=!1);return function(){m.current||(c("MWCMLogTimeSpent")("inactive",(i||(i=d("I64"))).to_string(e),b,d("ServerTime").getMillis()),m.current=!0)}},[e,l,g,b]);f=c("useVisibilityObserver")({onHidden:function(){h(!1)},onVisible:function(){h(!0)}});return f}g["default"]=a}),98);
__d("MWCMSubthreadThreadViewChatTab.react",["CometErrorBoundary.react","I64","Int64Hooks","LSAuthorityLevel","LSFactory","LSIntEnum","LSReportThreadViewOpenStoredProcedure","LSResult","LSThreadBitOffset","LSVerifyThreadRowExistsStoredProcedure","MWCMSubthreadHeader.react","MWCMSubthreadThreadViewContexts.react","MWComposerGating.react","MWInboxThreadMessagesSpinner.react","MWLSThread","MWLSThreadDisplayContext","MWMessageList","MWPThreadGradientBackground.react","MWV2ChatTabHeader.react","MWV2ErrorComposer.react","MWV2FileDropzone.react","MWV2OnAuthoritativeThreadInsert","MWV2TabContainer","MWXColumn.react","MWXColumnItem.react","emptyFunction","promiseDone","react","useLogSubthreadSpentTime.react","useReStore","xplatToDOMRef"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=k||(k=d("react"));b=k;var m=b.useRef,n=b.useState,o={chatTabHeader:{maxHeight:"x1egxudb",$$css:!0},messageListContainer:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",$$css:!0}};function p(a){var b=a.onReturn,e=a.setActualThreadKey,f=a.tab,g=a.thread,k=(h||(h=c("useReStore")))(),n=d("MWLSThread").useThread(g.parentThreadKey);a=d("Int64Hooks").useCallbackInt64(function(){var a;(a=p.current)==null?void 0:a.jumpToMostRecentMessage();(i||(i=d("I64"))).equal(g.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC))&&d("MWV2OnAuthoritativeThreadInsert").onAuthoritativeThreadInsert(c("LSResult")(g.threadKey),k,function(a){return e(a.threadKey)})},[g.authorityLevel,g.threadKey,k,e]);var p=m({getScrollAreaElement:c("emptyFunction"),jumpToMostRecentMessage:c("emptyFunction"),restoreScrollPosition:c("emptyFunction")}),q=c("useLogSubthreadSpentTime.react")({loggingSurface:"chat_nub",threadKey:g.threadKey,threadType:g.threadType});d("Int64Hooks").useEffectInt64(function(){c("promiseDone")(k.runInTransaction(function(a){return c("LSReportThreadViewOpenStoredProcedure")(c("LSFactory")(a),{threadKey:g.threadKey})},"readwrite"))},[k,g.threadKey]);return l.jsx(d("MWLSThreadDisplayContext").MWLSThreadDisplayContextProvider,{value:"ChatTab",children:l.jsx(c("MWCMSubthreadThreadViewContexts.react"),{thread:g,children:l.jsxs(c("MWV2TabContainer"),{style:{boxShadow:"none",margin:0},tab:f,threadKey:g.parentThreadKey,children:[l.jsx(c("MWXColumn.react"),{expanding:!0,xstyle:o.chatTabHeader,children:l.jsx(c("MWXColumnItem.react"),{expanding:!0,ref:d("xplatToDOMRef").xplatToDOMRef(q),children:l.jsx(c("MWV2ChatTabHeader.react"),{renderThreadDetails:function(a){return l.jsx(c("MWCMSubthreadHeader.react"),{closeSidePanelOnBack:!1,isChatTab:!0,onPressBack:function(){b()},subtitle:n==null?void 0:n.threadName,thread:g,title:g.threadName})},tab:f,thread:g})})}),l.jsxs(d("MWV2FileDropzone.react").MWV2FileDropzone,{isMediaOnly:!d("LSThreadBitOffset").has(56,g),thread:g,children:[l.jsx("div",{className:"x78zum5 xdt5ytf x1iyjqo2",children:l.jsx(d("MWPThreadGradientBackground.react").MWPThreadGradientBackground,{children:l.jsx(c("MWMessageList"),{entryPoint:"popup_chat_box",ref:p,thread:g})})}),l.jsx(c("CometErrorBoundary.react"),{fallback:function(){return l.jsx(c("MWV2ErrorComposer.react"),{})},children:l.jsx(d("MWComposerGating.react").MWChatComposerGating,{afterSendMessage:a,isPreviewThread:!1,thread:g})})]})]})})})}p.displayName=p.name+" [from "+f.id+"]";function a(a){var b=a.onReturn,e=a.tab,f=a.threadKey,g=(h||(h=c("useReStore")))();a=n(f);var k=a[0];a=a[1];var m=d("MWLSThread").useThread(k);d("Int64Hooks").useEffectInt64(function(){(m==null||!(i||(i=d("I64"))).equal(m==null?void 0:m.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC)))&&c("promiseDone")(g.runInTransaction(function(a){return c("LSVerifyThreadRowExistsStoredProcedure")(c("LSFactory")(a),{syncGroup:(j||(j=d("LSIntEnum"))).ofNumber(1),threadKey:f})},"readwrite"))},[g,m,f]);return m==null?l.jsx(c("MWInboxThreadMessagesSpinner.react"),{}):l.jsx(p,{onReturn:b,setActualThreadKey:a,tab:e,thread:m})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWEditChannelDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6185531621550317"}),null);
__d("MWEditChannelDialogQuery$Parameters",["MWEditChannelDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWEditChannelDialogQuery_facebookRelayOperation"),metadata:{},name:"MWEditChannelDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWEditChannelDialog.entrypoint",["JSResourceForInteraction","MWEditChannelDialogQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.threadID;return{queries:{queryReference:{options:{fetchPolicy:"network-only"},parameters:c("MWEditChannelDialogQuery$Parameters"),variables:{threadID:a}}}}},root:c("JSResourceForInteraction")("MWEditChannelDialog.react").__setRef("MWEditChannelDialog.entrypoint")};g["default"]=a}),98);
__d("MWEditChannelDialogTrigger.react",["I64","MWEditChannelDialog.entrypoint","promiseDone","react","useMWXEntryPointDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;j||d("react");function a(a){var b=a.children,e=a.threadKey,f=(h||(h=c("useReStore")))();a={threadID:(i||(i=d("I64"))).to_string(e)};a=c("useMWXEntryPointDialog")(c("MWEditChannelDialog.entrypoint"),a);var g=a[0];a=function(){c("promiseDone")(f.table("threads").get(e),function(a){if(a==null)return;g({thread:a})})};return b(a)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWFDSChatHeaderDetailsSubtitleMutedIcon.react",["ix","CometTintedIcon.react","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(){return j.jsx(c("CometTintedIcon.react"),{color:"secondary",icon:d("fbicon")._(h("636130"),12),testid:void 0})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWGroupLimitContainer.react",["cr:3409","react"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");function a(a){var c=a.children,d=a.groupLimitReachedContent;a=a.thread;a=(a=b("cr:3409")==null?void 0:b("cr:3409")(a.threadKey))!=null?a:[!1,!1];a=a[0];return a?d:c}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWInboxHeaderBroadcastChannelSubText.react",["fbt","CometMiddot.react","CometTextWithEntities.react","intlSummarizeNumber","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){a=a.memberCount;return j.jsxs(j.Fragment,{children:[j.jsx(c("CometTextWithEntities.react"),{text:h._("__JHASH__SvUIYrDirw-__JHASH__").toString()}),a>0?j.jsxs(j.Fragment,{children:[j.jsx(c("CometMiddot.react"),{}),c("intlSummarizeNumber")(a),j.jsx(j.Fragment,{children:" "}),h._("__JHASH__YqlBHec3EKS__JHASH__",[h._plural(a)])]}):j.jsx(j.Fragment,{})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("canMWAddMemberToGroupThread",["I64","LSIntEnum","LSThreadBitOffset","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b){if(b)return!1;b=(h||(h=d("I64"))).equal(a.threadType,(i||(i=d("LSIntEnum"))).ofNumber(16));b=b&&a.needsAdminApprovalForNewParticipant===!1&&c("gkx")("33037");return d("LSThreadBitOffset").has(27,a)||b}g["default"]=a}),98);
__d("MWInboxInfoMemberList.react",["fbt","LSMessagingThreadTypeUtil","MWAddMemberToGroupListCell.react","MWCMIsAnyCMThread","MWGroupLimitContainer.react","MWGroupMembershipListItem","MWLSGroupMembershipMemberList.react","MWPParticipantsAndContactsForThread_DO_NOT_USE_THIS_WILL_KILL_PERFORMANCE","MWXListCell.react","MWXText.react","canMWAddMemberToGroupThread","isFeatureLimitEnabled","react","useIsReadOnlyFeatureLimitedWithThreadType","withCometPlaceholder"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function k(a){a=a.thread;return j.jsx(c("MWGroupLimitContainer.react"),{groupLimitReachedContent:j.jsx(c("MWXListCell.react"),{content:j.jsx(c("MWXText.react"),{color:"secondary",testid:void 0,type:"body4",children:h._("__JHASH____m4bWP_4pT__JHASH__")}),size:"medium"}),thread:a,children:j.jsx(c("MWAddMemberToGroupListCell.react"),{thread:a})})}k.displayName=k.name+" [from "+f.id+"]";function a(a){a=a.thread;var b=d("LSMessagingThreadTypeUtil").isSecure(a.threadType);b=c("useIsReadOnlyFeatureLimitedWithThreadType")(a.threadType)&&(!b||c("isFeatureLimitEnabled")());b=c("canMWAddMemberToGroupThread")(a,b);var e=d("MWPParticipantsAndContactsForThread_DO_NOT_USE_THIS_WILL_KILL_PERFORMANCE").useValue(a),f=!c("MWCMIsAnyCMThread")(a.threadType);return j.jsxs(j.Fragment,{children:[j.jsx(c("MWLSGroupMembershipMemberList.react"),{disableScroll:!0,participantsAndContacts:e.map(function(a){var b=a[0];a=a[1];return{contact:a,participant:b,type:d("MWGroupMembershipListItem").MWGroupMembershipMemberTypes.ParticipantAndContact}}),showAdmodIndicator:f,showAdmodsOnly:!1,showHostsOnly:!1,showInvitedByViewerOnly:!1,thread:a}),b?j.jsx(k,{thread:a}):null]})}a.displayName=a.name+" [from "+f.id+"]";b=d("withCometPlaceholder").withCometPlaceholder(a);g["default"]=b}),98);
__d("MWXCollapsible.react",["MWXColumn.react","MWXColumnItem.react","MWXIconStrict.react","MWXListCellPressable.react","MWXText.react","cr:4055","cr:4100","react","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useId,k={root:{alignItems:"x6s0dn4",display:"x78zum5",height:"xxk0z11",$$css:!0}};function a(a){var e=a.children,f=a.isOpen,g=a.label,h=a.onPress,l=a.renderButtonContainer;a=a.testid;a=j();var m=j();g=i.jsx(c("MWXListCellPressable.react"),{addOnEnd:i.jsx(c("MWXIconStrict.react"),{icon:f?b("cr:4100"):b("cr:4055"),size:16}),"aria-controls":m,"aria-expanded":f,"aria-label":g,content:i.jsx(d("react-strict-dom").html.div,{style:k.root,children:i.jsx(c("MWXText.react"),{color:"primary",numberOfLines:1,type:"bodyLink3",children:g})}),id:a,onPress:h,testid:void 0});return i.jsxs(c("MWXColumn.react"),{paddingHorizontal:8,children:[i.jsx(c("MWXColumnItem.react"),{children:l?l(g):g}),i.jsx(c("MWXColumnItem.react"),{children:i.jsx(d("react-strict-dom").html.div,{"aria-labelledby":a,id:m,role:"region",children:f?e:null})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWInboxInfoMembersSection.react",["fbt","I64","LSMessagingThreadTypeUtil","MWCMIsAnyCMThread","MWCMThreadTypes.react","MWInboxInfoMemberList.react","MWInboxPersistedUIState","MWPBumpEntityKey","MWXCollapsible.react","ReQL","ReQLSuspense","cr:4705","intlSummarizeNumber","react","useCommunityFolder","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||d("react"),m="__MWInboxInfoMembersSection.isOpen__";function a(a){var e,g=a.thread;a=d("MWInboxPersistedUIState").usePersistedUIState(!1,m);var k=a[0],n=a[1];a=c("useCommunityFolder")(g);var o=g.threadType,p=c("MWCMIsAnyCMThread")(o);o=d("MWCMThreadTypes.react").isBroadcastThread(o);var q=(i||(i=c("useReStore")))();e=(e=(e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(q.tables.threads,["memberCount"]).getKeyRange(g.threadKey)},[q,g.threadKey],f.id+":64"))==null?void 0:e.memberCount)!=null?e:(j||(j=d("I64"))).zero;e=e!=null?"("+c("intlSummarizeNumber")((j||(j=d("I64"))).to_int32(e))+")":"";var r=d("LSMessagingThreadTypeUtil").isJoinedSocialChannel(g.threadType),s=d("LSMessagingThreadTypeUtil").isJoinedSocialChannelV2(g.threadType),t=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(g.threadType);o=a!=null&&o?h._("__JHASH__DSNu3nmbdz0__JHASH__"):a!=null&&p?h._("__JHASH__vIXzo8z-i9s__JHASH__",[h._param("member_count",e)]):r||t?h._("__JHASH__1uZ4DO16hPR__JHASH__"):h._("__JHASH__4d9xLPGdRx4__JHASH__");return l.jsx(c("MWXCollapsible.react"),{isOpen:k,label:o,onPress:function(){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.infobar","chat_members_section."+(k?"close":"open"));return n(function(a){return!a})},children:b("cr:4705")==null||!(a!=null&&p)&&!s&&!t?l.jsx(c("MWInboxInfoMemberList.react"),{thread:g}):l.jsx(b("cr:4705"),{folder:a,thread:g})})}a.displayName=a.name+" [from "+f.id+"]";g.storageKey=m;g.MWInboxInfoMembersSection=a}),98);
__d("MWLSThreadCapabilities",["I64","LSBitOffset","LSIntEnum","LSThreadBitOffset","MWThreadKey.react","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=d("LSBitOffset").set((j||(j=d("LSIntEnum"))).ofNumber(38),d("LSBitOffset").set(j.ofNumber(30),d("LSBitOffset").set(j.ofNumber(10),d("LSBitOffset").set(j.ofNumber(25),d("LSBitOffset").set(j.ofNumber(24),d("LSBitOffset").set(j.ofNumber(23),d("LSBitOffset").set(j.ofNumber(20),d("LSBitOffset").set(j.ofNumber(18),d("LSBitOffset").set(j.ofNumber(15),d("LSBitOffset").set(j.ofNumber(14),d("LSBitOffset").set(j.ofNumber(8),d("LSBitOffset").set(j.ofNumber(55),d("LSBitOffset").set(j.ofNumber(4),d("LSBitOffset").set(j.ofNumber(3),d("LSBitOffset").set(j.ofNumber(2),d("LSBitOffset").set(j.ofNumber(1),d("LSBitOffset").set(j.ofNumber(0),d("LSBitOffset").empty))))))))))))))))),l={capabilities:k,capabilities2:d("LSBitOffset").empty,capabilities3:d("LSBitOffset").empty,capabilities4:d("LSBitOffset").empty};function m(){var a=(h||(h=c("useReStore")))(),b=d("MWThreadKey.react").useMWThreadKeyMemoized(),e=d("ReQLSuspense").useFirst(function(){return b!=null?d("ReQL").fromTableAscending(a.table("threads"),d("LSThreadBitOffset").threadCapabilityFields).getKeyRange(b):d("ReQL").empty()},[b,a],f.id+":132");if(e!=null){var g=e.capabilities,i=e.capabilities2,j=e.capabilities3;e=e.capabilities4;return{capabilities:g,capabilities2:i,capabilities3:j,capabilities4:e}}return l}function n(a,b){a=(i||(i=d("I64"))).ge(a,(i||(i=d("I64"))).of_string("64"))?(i||(i=d("I64"))).mod_(a,(i||(i=d("I64"))).of_string("64")):a;a=(i||(i=d("I64"))).lsl_(i.one,i.to_int32(a));return i.equal(i.and_(b,a),a)}function a(a){a=a.capabilities2;return n((j||(j=d("LSIntEnum"))).ofNumber(88),a)}function b(a){a=a.capabilities2;return n((j||(j=d("LSIntEnum"))).ofNumber(172),a)}function e(a){a=a.capabilities;return n((j||(j=d("LSIntEnum"))).ofNumber(7),a)}function o(a){a=a.capabilities;return n((j||(j=d("LSIntEnum"))).ofNumber(9),a)}function p(a){a=a.capabilities;return n((j||(j=d("LSIntEnum"))).ofNumber(6),a)}function q(a){a=a.capabilities;return n((j||(j=d("LSIntEnum"))).ofNumber(35),a)}function r(a){a=a.capabilities;return n((j||(j=d("LSIntEnum"))).ofNumber(24),a)}function s(a){a=a.capabilities;return n((j||(j=d("LSIntEnum"))).ofNumber(25),a)}function t(a){a=a.capabilities;return n((j||(j=d("LSIntEnum"))).ofNumber(27),a)}function u(a){a=a.capabilities;return n((j||(j=d("LSIntEnum"))).ofNumber(60),a)}function v(a){a=a.capabilities;return n((j||(j=d("LSIntEnum"))).ofNumber(32),a)}function w(a){a=a.capabilities2;return n((j||(j=d("LSIntEnum"))).ofNumber(95),a)}function x(a){a=a.capabilities;return n((j||(j=d("LSIntEnum"))).ofNumber(19),a)}function y(a){a=a.capabilities2;return n((j||(j=d("LSIntEnum"))).ofNumber(85),a)}function z(a){a=a.capabilities2;return n((j||(j=d("LSIntEnum"))).ofNumber(108),a)}function A(a){a=a.capabilities2;return n((j||(j=d("LSIntEnum"))).ofNumber(74),a)}function B(a){a=a.capabilities4;return n((j||(j=d("LSIntEnum"))).ofNumber(210),a)}function C(){return u(m())}g.useCapabilities=m;g.canReportChatToAdmin=a;g.canPinMessage=b;g.canCustomizeEmoji=e;g.canCustomizeNicknames=o;g.canCustomizeTheme=p;g.canCreateGroup=q;g.canRtcVideoCall=r;g.canRtcVoiceCall=s;g.canAddMember=t;g.canCustomizeThreadName=u;g.canIgnoreMessages=v;g.canSeeSharedLinks=w;g.canMuteThread=x;g.canRestrict=y;g.canCopyInviteLink=z;g.canDeleteThread=A;g.isBlockedByWorkChatGovernance=B;g.useCanCustomizeThreadNameCapability=C}),98);
__d("MWPinnedMessageRowFooterNUX.react",["fbt","MDSPinMessageIcon.react","MWLSThreadCapabilities","MWPMessageListColumn.react","MWXText.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=h._("__JHASH__UnoAJjMNsJN__JHASH__");function a(){var a=d("MWLSThreadCapabilities").useCapabilities();a=d("MWLSThreadCapabilities").canPinMessage(a);return a&&j.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnWithGutters,{shrinkwrap:!0,children:j.jsxs("div",{className:"x6s0dn4 x78zum5 x1q0g3np xr9ek0c",children:[j.jsx(c("MDSPinMessageIcon.react"),{color:"tertiary",size:16}),j.jsx("div",{className:"x12mruv9",children:j.jsx(c("MWXText.react"),{color:"tertiary",type:"meta4",children:k})})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWSimpleNuxViewsCounter.react",["MWInboxPersistedUIState","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect,j=3,k=24*60*60*1e3,l=function(a,b){return+new Date()<b+a},m=function(a){return l(k,a.lastViewDate)},n=function(a){return a.views>=j},o=function(a){return!!a&&!m(a)&&!n(a)},p=function(a){return{lastViewDate:+new Date(),views:a.views+1}},q={lastViewDate:0,views:0};function a(a,b,c){a=d("MWInboxPersistedUIState").usePersistedUIState(q,"__MWSimpleNux."+a+"__");var e=a[0],f=a[1];i(function(){if(!b||e===void 0)return;if(m(e))return;return function(){var a=p(e);n(a)?(f(void 0),c()):f(a)}},[b,c,e,f]);return o(e)}g["default"]=a}),98);
__d("MWPinnedMessageRowFooterNUXWrapper.react",["MWPinnedMessageRowFooterNUX.react","declareNUXRequireable","react","useMWSimpleNuxViewsCounter.react","useSharedNUX"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=c("useSharedNUX")(a),d=b[0];b=b[1].onDismiss;a=c("useMWSimpleNuxViewsCounter.react")(a,d,b);return d&&a?i.jsx(c("MWPinnedMessageRowFooterNUX.react"),{}):null}a.displayName=a.name+" [from "+f.id+"]";b=c("declareNUXRequireable")(a);g["default"]=b}),98);
__d("MWV2ComposerStickerButtonLegacy.react",["JSResourceForInteraction","MWChatComposerIcons","MWV2ComposerStickerCommon","MWXLazyPopoverTrigger.react","MWXPressable.react","MWXTooltip.react","MessengerWebUXLogger","gkx","react","useMWV2ComposerOnStickerSelect"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("JSResourceForInteraction")("MWChatStickersFlyout.react").__setRef("MWV2ComposerStickerButtonLegacy.react"),k={buttonFDS:{paddingTop:"x1iorvi4",paddingEnd:"x150jy0e",paddingBottom:"xjkvuk6",paddingStart:"x1e558r4",$$css:!0},buttonMDS:{paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0},flyoutRoot:{width:"x1fepime",$$css:!0}};function a(a){var b=a.color,e=a.disabled,f=a.onSelectStickerPack,g=a.onSendMessage;a=a.useSecureSend;g=c("useMWV2ComposerOnStickerSelect")(g,a);var h=c("MessengerWebUXLogger").useInteractionLogger();return i.jsx(c("MWXLazyPopoverTrigger.react"),{align:"middle",disableAutoFlip:!0,popoverProps:{className:"x1fepime",onSelectStickerPack:f,onStickerSelect:g,shouldAlwaysShowAvatarPack:a,shouldHideDefaultPacks:a},popoverResource:j,position:"above",children:function(a,f,g,j,l,m,n){return i.jsx(c("MWXTooltip.react"),{align:"middle",forceInlineDisplay:!0,position:"above",tooltip:d("MWV2ComposerStickerCommon").LABEL,children:i.jsx(c("MWXPressable.react"),{"aria-label":d("MWV2ComposerStickerCommon").LABEL,disabled:e,onHoverIn:j,onHoverOut:l,onPress:function(){f(),h==null?void 0:h({eventName:"composer_open_sticker_picker"})},onPressIn:m,overlayRadius:"50%",ref:a,testid:void 0,xstyle:function(){return[c("gkx")("23219")?k.buttonMDS:k.buttonFDS]},children:i.jsx(d("MWChatComposerIcons").MWChatComposerIconsSticker,{fill:e?void 0:b,size:20})})})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2ComposerSuggestionView.react",["fbt","ix","GroupsCometChatsEngagementLogger","I64","Int64Hooks","MWAdmodOnboardingSuggestedActionsContext.react","MWXIcon.react","MWXTextPairing.react","Promise","asyncToGeneratorRuntime","cr:6796","fbicon","promiseDone","react","useAsyncReStore","useSinglePartialViewImpression"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l,m=k||d("react");function n(a,b){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield b.table("threads").get(a));a=(a=a==null?void 0:a.parentThreadKey)!=null?a:(l||(l=d("I64"))).zero;b=(yield b.table("community_folders").get(a));b=(b=b==null?void 0:b.fbGroupId)!=null?b:(l||(l=d("I64"))).zero;return{communityID:a,fbGroupId:b}});return o.apply(this,arguments)}function a(a){var e,f=a.threadKey,g=c("useAsyncReStore")();a=d("MWAdmodOnboardingSuggestedActionsContext.react").useMWAdmodOnboardingSuggestedActionsContext();var k=a.setShowWelcomeMessageSuggestion,o=a.showWelcomeMessageSuggestion;a=c("useSinglePartialViewImpression")({onImpressionEnd:d("Int64Hooks").useCallbackInt64(function(){return c("promiseDone")((j||(j=b("Promise"))).resolve().then(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield g);a=(yield n(f,a));var b=a.communityID;a=a.fbGroupId;var c=o.entryPoint,e=o.source;d("GroupsCometChatsEngagementLogger").log({action:"impression",community_id:(l||(l=d("I64"))).to_string(b),entry_point:c,event:"admin_send_message_hint_card_rendered",group_id:l.to_string((b=a)!=null?b:(l||(l=d("I64"))).zero),parent_surface:"thread_view",source:e,surface:"admin_send_message_hint_card"})})))},[g,o,f])});var p=d("Int64Hooks").useCallbackInt64(function(){var a=o.entryPoint,e=o.source;k({show:!1});c("promiseDone")((j||(j=b("Promise"))).resolve().then(b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=(yield g);b=(yield n(f,b));var c=b.communityID;b=b.fbGroupId;d("GroupsCometChatsEngagementLogger").log({action:"dismiss",community_id:(l||(l=d("I64"))).to_string(c),entry_point:a,event:"admin_send_message_hint_card_dismissed",group_id:l.to_string((c=b)!=null?c:(l||(l=d("I64"))).zero),parent_surface:"thread_view",source:e,surface:"admin_send_message_hint_card"})})))},[g,k,o,f]);e=(e=b("cr:6796")(!0))==null?void 0:e.backgroundColor;return m.jsxs("div",{className:"x1cy8zhl xcrg951 x8cjs6t x13fuv20 x178xt8z x78zum5 x1qughib xg8j3zb x14uny0o xvpee5o x889kno",ref:a,style:e!=null?{backgroundColor:e}:void 0,children:[m.jsx("div",{className:"xmo9yow",children:m.jsx(c("MWXTextPairing.react"),{body:h._("__JHASH__OnLaish4EIY__JHASH__"),bodyColor:"secondary",headline:h._("__JHASH__ZKh890JQ4An__JHASH__"),headlineColor:"primary",level:4})}),m.jsx(c("MWXIcon.react"),{"aria-label":h._("__JHASH__gaxHiFwvIGk__JHASH__"),color:"primary",icon:d("fbicon")._(i("478231"),12),onPress:p})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXIconChevronUp",["MWXSvgIcon","SVGIcon","cr:5669","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:5669")),c("gkx")("23219"));g["default"]=a}),98);
__d("MinusFilled12.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("g",{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsx("path",{fillRule:"nonzero",d:"M452.25 1080.5h8a.75.75 0 1 0 0-1.5h-8a.75.75 0 1 0 0 1.5z"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("NaviconFilled12.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("g",{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsx("path",{fillRule:"nonzero",d:"M452.75 1077.5h6.5a.75.75 0 1 0 0-1.5h-6.5a.75.75 0 1 0 0 1.5zm0 3h6.5a.75.75 0 1 0 0-1.5h-6.5a.75.75 0 1 0 0 1.5zm0 3h6.5a.75.75 0 1 0 0-1.5h-6.5a.75.75 0 1 0 0 1.5z"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("useLSMessagingInitiatingSourceNumber",["LSMessagingInitiatingSource","MWLSThreadDisplayContext"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();if(a==null)return;else if(a==="Inbox")return c("LSMessagingInitiatingSource").FACEBOOK_INBOX;else if(a==="FullscreenChat")return c("LSMessagingInitiatingSource").FACEBOOK_FULLSCREEN;else if(a==="ChatTab")return c("LSMessagingInitiatingSource").FACEBOOK_CHAT;else return c("LSMessagingInitiatingSource").ROOMS_SIDE_CHAT}g["default"]=a}),98);
__d("useMAWCreateOptimisticSecureMessage",["I64","LSAuthorityLevel","LSHotEmojiSize","LSIntEnum","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSMessageSendStatus","LSQuickReplyType","MAWAdminMsg","MAWBridgeBuildMsg","MAWBumpThread","MAWCreateOptimisticSecureMessage","MAWLocalizationType","MWPActor.react","QPLUserFlow","asyncToGeneratorRuntime","cr:2472","gkx","qpl","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(){var a=(j||(j=c("useReStore")))(),e=d("MWPActor.react").useActor();return function(f,g,j,k,l,m,n,o){return a.runInTransaction(function(){var p=b("asyncToGeneratorRuntime").asyncToGenerator(function*(p){var q=Date.now(),r=(h||(h=d("I64"))).of_float(q),s=(yield d("MAWCreateOptimisticSecureMessage").getOfflineThreadingId(p,j,l));n(s);var t=(yield d("MAWCreateOptimisticSecureMessage").getReply(p,j,f,l)),u=t[0];t=t[1];var v=(yield d("MAWBridgeBuildMsg").buildOptimisticMessage(a,p,g,s,j,u,r,m));u=(yield d("MAWCreateOptimisticSecureMessage").getOptimisticReplySnippet(a,u,e));yield p.messages.add(babelHelpers["extends"]({},v,{authorityLevel:(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC),displayedContentTypes:i.ofNumber(1),hasQuickReplies:!1,hotEmojiSize:k,isAdminMessage:!1,isCollapsed:!1,isUnsent:!1,messageId:s,offlineThreadingId:c("gkx")("23990")&&o!=null?o:s,primarySortKey:r,quickReplyType:i.ofNumber(c("LSQuickReplyType").NONE),replyAttachmentType:d("MAWCreateOptimisticSecureMessage").getReplyAttachmentType(t),replyMediaPreviewHeight:t==null?void 0:t.previewHeight,replyMediaPreviewWidth:t==null?void 0:t.previewWidth,replyMediaUrl:d("MAWCreateOptimisticSecureMessage").getReplyMediaUrl(t),replyMediaUrlMimeType:t==null?void 0:t.playableUrlMimeType,replySnippet:u,replySourceId:f==null?void 0:f.messageId,replySourceType:f!=null?(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceType").MESSAGE):void 0,replySourceTypeV2:f!=null?(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE):void 0,senderId:e,sendStatus:i.ofNumber(c("LSMessageSendStatus").SENDING_TO_SERVER),sendStatusV2:i.ofNumber(1),textHasLinks:!1,threadKey:j,timestampMs:r,transportKey:"WhatsApp",viewFlags:i.ofNumber(0)}));c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"after_create_optimistic_message",{instanceKey:l});v=b("cr:2472")==null?g:b("cr:2472").unvault(g);t=k!=null&&(h||(h=d("I64"))).equal(k,(i||(i=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").SMALL))&&v==="\ud83d\udc4d"?"(Y)":g;yield d("MAWBumpThread").threadMutation(p,j,r,r,d("MAWAdminMsg").buildLocalizedString([t],[],d("MAWLocalizationType").CURRENT_USER_SEND_TEXT),e);return[s,q]});return function(a){return p.apply(this,arguments)}}(),"readwrite","ui")}}g["default"]=a}),98);
__d("useMAWFetchAndDispatchEphemeralSettings",["MAWGetEphemeralSettings","MAWMiActOnActThreadReady","MAWStateContext.react","Promise","WALoggerDeferred","WATimeUtils","asyncToGeneratorRuntime","gkx","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[ephemeral settings in memory]: MAWGetEphemeralSettings for "," returns ",", set it to 0"]);k=function(){return a};return a}e=j||d("react");var l=e.useCallback,m=e.useContext;function n(a,b,c){return o.apply(this,arguments)}function o(){o=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c){b=(yield d("MAWGetEphemeralSettings").getEphemeralSetting(a,b));if(b!=null&&b.ephemeralExpirationInSec!=null&&b.ephemeralLastUpdatedOrSetTimestamp!=null)c(a,b,!1);else{void d("WALoggerDeferred").LOG(k(),a,b);var e=d("WATimeUtils").unixTime();c(a,{ephemeralExpirationInSec:b==null?0:(c=b.ephemeralExpirationInSec)!=null?c:0,ephemeralLastUpdatedOrSetTimestamp:e},!1)}});return o.apply(this,arguments)}function a(){var a=(i||(i=c("useReStore")))(),e=m(d("MAWStateContext.react").MAWNonRerenderingStateContext),f=d("MAWStateContext.react").useDispatchEphemeralSettingsUpdatedForUI();return l(function(g){if(!c("gkx")("23920")){var i=e().state.ephemeralSettings;c("promiseDone")(d("MAWMiActOnActThreadReady").onActThreadReady(a.tables,g,"fetch-ephemeral-settings",function(a,c,d){return i[d]!=null?(h||(h=b("Promise"))).resolve():n(d,g,f)}))}},[a,f,e])}g["default"]=a}),98);
__d("useMAWSendMessageV2",["I64","LSHotEmojiSize","LSIntEnum","MAWExternalId","MAWJobDefinitions","MAWTimedJob","MWPActor.react","MWPReplyContext.react","MWV2ComposerActionsContext.react","QPLUserFlow","WAJobOrchestratorTypes","asyncToGeneratorRuntime","qpl","react","requireDeferred","useLSMessagingInitiatingSourceNumber"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(h||d("react")).useContext,l=c("requireDeferred")("MWLogSend").__setRef("useMAWSendMessageV2");function m(a){if(a==null)return;if((i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").SMALL)))return 1;if((i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").MEDIUM)))return 2;if((i||(i=d("I64"))).equal(a,(j||(j=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").LARGE)))return 3}function a(){var a=d("MWPActor.react").useActor(),e=k(d("MWPReplyContext.react").MWPReplyContext),f=e.reply,g=c("useLSMessagingInitiatingSourceNumber")();e=k(d("MWV2ComposerActionsContext.react").MWV2ComposerActionsContext);var h=e.onMessageSendAttempt;return function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b,e,j,k,n,o,p,q,r,s,t,u,v,w,x,y,z,A){h==null?void 0:h(!0);e=babelHelpers["extends"]({content:n,initiatingSource:g,isFirstMsg:t,isForwarded:!1,openMessageOtid:p,openMessageParticipantCount:u,optimisticMsg:{msgId:q,ts:r},participantCount:v,s2sInstanceKey:z,s2sUserFlowQPLEvent:c("qpl")._(25313175,"1551"),source:o,specialTextSize:m(s)},w!=null&&{quote:w});x!=null&&(e.ephemeralSetting=x);y!=null&&(e.mentionedJids=[].concat(y));c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"sending_message_to_wajob",{instanceKey:z});yield d("MAWTimedJob").TimedUIJobStarters.waitUntilCompleted(d("MAWJobDefinitions").createStartJobInfo("sendMsg",{args:e,chatJid:k,externalId:A!=null?A:d("MAWExternalId").generateExternalId(),scheduleConfig:{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION}}));l.onReady(function(c){var e=(i||(i=d("I64"))).to_string(b),g=s!=null?3:0;return c.log({_mentionedJids:y,actor:a,attachmentFbids:[],attachmentType:g,backend:1,hasReply:f!=null,messagingThreadId:e,msgTtl:x==null?void 0:x.ephemeralExpirationInSec,offlineThreadingId:A,sendType:0,source:o,threadKey:b,threadType:j})})});return function(a,b,c,d,f,g,h,i,j,k,l,m,n,o,p,q,r,s){return e.apply(this,arguments)}}()}g["default"]=a}),98);
__d("useMAWSendSecureAttachmentMessage",["FBLogger","Int64Hooks","LSDatabaseSingleton","MAWExternalId","MAWGetEphemeralSettings","MAWMediaManagerUtils","MAWSendFileMsgIfNecessary","MAWSendSecureMessageV2Utils","MAWStateContext.react","MWPActor.react","Promise","QPLUserFlow","WAStanzaUtils","asyncToGeneratorRuntime","qpl","react","useLSMessagingInitiatingSourceNumber","useMWLSDefaultThreadSource"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||d("react")).useContext;function a(a,b,c){return l(a,b,c,d("MAWMediaManagerUtils").MAWMediaManagerAttachments)}function l(a,b,c,e){var f=b.hasFile,g=b.hasImage;b=b.hasVideo;var h=null;if(b||g||f){b=a[a.length-1];h=d("WAStanzaUtils").toStanzaId(b.offlineAttachmentId)}else h=d("MAWExternalId").generateExternalId();c(h);g=a.reduce(function(a,b){var c=e.get(b.offlineAttachmentId);c!=null&&a.push([c,d("WAStanzaUtils").toStanzaId(b.offlineAttachmentId)]);return a},[]);return{attachmentOfflineId:h,attachments:g}}function e(){var a=d("MWPActor.react").useActor(),e=c("useMWLSDefaultThreadSource")(),f=d("MAWSendSecureMessageV2Utils").useMaybeCreateThreadForMAWSendSecurMessageV2(),g=c("useLSMessagingInitiatingSourceNumber")(),j=k(d("MAWStateContext.react").MAWNonRerenderingStateContext);return d("Int64Hooks").useCallbackInt64(function(){var k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(k){var l=k.externalAttachmentUrl,m=k.messageTypeParams,n=k.preparedAttachments,o=k.reply,p=k.s2sInstanceKey,q=k.stickerId,r=k.thread;k=k.voiceClip;m=m.hasAttachment;if(!m)return;m=n.attachmentOfflineId;n=n.attachments;var s=e(r.threadKey),t=(yield (h||(h=b("Promise"))).all([(i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton,f(r.threadKey)])),u=t[0];t=t[1];var v=j().state.ephemeralSettings[t.jid];v==null&&(v=(yield d("MAWGetEphemeralSettings").getEphemeralSetting(t.jid,r.threadKey)));c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"fetch_ephemeral_settings",{instanceKey:p});m={actorId:a,attachmentOfflineId:m,attachments:n,db:u,ephemeralSetting:v,externalAttachmentUrl:l,initiatingSource:g,isFirstMsg:t.created,reply:o,s2sInstanceKey:p,source:s,stickerId:q,thread:r,threadId:t.chatId,voiceClip:k};return d("MAWSendFileMsgIfNecessary").sendFileMsgIfNecessary(m)});return function(a){return k.apply(this,arguments)}}(),[a,j,e,g,f])}function f(){var a=d("MWPActor.react").useActor(),e=c("useMWLSDefaultThreadSource")(),f=d("MAWSendSecureMessageV2Utils").useMaybeCreateThreadForMAWSendSecurMessageV2(),g=c("useLSMessagingInitiatingSourceNumber")(),j=k(d("MAWStateContext.react").MAWNonRerenderingStateContext);return d("Int64Hooks").useCallbackInt64(function(){var k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(k){var m=k.externalAttachmentUrl,n=k.mediaStagings,o=k.messageTypeParams,p=k.onGenerateOfflineMsgId,q=k.reply,r=k.s2sInstanceKey,s=k.stickerId,t=k.thread;k=k.voiceClip;try{var u=o.hasAttachment;if(!u)return;var v=new Map();yield (h||(h=b("Promise"))).all(n.map(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=d("MAWMediaManagerUtils").MAWMediaManagerAttachmentsV2.get(a.offlineAttachmentId);if(b==null){c("FBLogger")("messenger_e2ee_web").mustfix("Failed while sending secure media message: unable to find media attachment in useMAWSendSecureAttachmentMessage");return}yield b.then(function(b){v.set(a.offlineAttachmentId,b)})});return function(b){return a.apply(this,arguments)}}()));u=l(n,o,p,v);o=u.attachmentOfflineId;p=u.attachments;u=e(t.threadKey);var w=(yield h.all([(i||(i=d("LSDatabaseSingleton"))).LSDatabaseSingleton,f(t.threadKey)])),x=w[0];w=w[1];var y=j().state.ephemeralSettings[w.jid];y==null&&(y=(yield d("MAWGetEphemeralSettings").getEphemeralSetting(w.jid,t.threadKey)));c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"fetch_ephemeral_settings",{instanceKey:r});o={actorId:a,attachmentOfflineId:o,attachments:p,db:x,ephemeralSetting:y,externalAttachmentUrl:m,initiatingSource:g,isFirstMsg:w.created,reply:q,s2sInstanceKey:r,source:u,stickerId:s,thread:t,threadId:w.chatId,voiceClip:k};return d("MAWSendFileMsgIfNecessary").sendFileMsgIfNecessary(o)}finally{n.map(function(a){return d("MAWMediaManagerUtils").MAWMediaManagerAttachmentsV2["delete"](a.offlineAttachmentId)})}});return function(a){return k.apply(this,arguments)}}(),[a,j,e,g,f])}g.prepareAttachmentsFromMediaManager_DEPRECATED=a;g.useMAWSendSecureAttachmentMessage_DEPRECATED=e;g.useMAWSendSecureAttachmentMessageV2=f}),98);
__d("useMarkOptimisticMessageAsFailed",["LSFactory","LSMarkOptimisticMessageFailedStoredProcedure","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useCallback;function a(){var a=(h||(h=c("useReStore")))();return j(function(b,d){return a.runInTransaction(function(a){return c("LSMarkOptimisticMessageFailedStoredProcedure")(c("LSFactory")(a),{errorMessage:d,optimisticMid:b})},"readwrite")},[a])}g["default"]=a}),98);
__d("useMAWSendSecureTextMessage",["MAWBridgeSendAndReceive","MAWDbMsg","MAWExternalId","MAWGetEphemeralSettings","MAWInternalLog","MAWSendSecureMessageV2Utils","MAWStateContext.react","MAWVault","Promise","WALoggerDeferred","asyncToGeneratorRuntime","emptyFunction","gkx","react","useMAWCreateOptimisticSecureMessage","useMAWSendMessageV2","useMWLSDefaultThreadSource","useMarkOptimisticMessageAsFailed"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=i||d("react");var j=e.useCallback,k=e.useContext;function a(){var a=c("useMWLSDefaultThreadSource")(),e=d("MAWSendSecureMessageV2Utils").useMaybeCreateThreadForMAWSendSecurMessageV2(),f=k(d("MAWStateContext.react").MAWNonRerenderingStateContext),g=c("useMAWSendMessageV2")(),i=c("useMAWCreateOptimisticSecureMessage")(),l=c("useMarkOptimisticMessageAsFailed")(),m=d("MAWStateContext.react").useDispatchOptimisticSendMessage();return j(function(){var j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(j){var k=j.hotEmojiSize,n=j.lssTraceApi,o=j.mentionedJids,p=j.messageText,q=j.onGenerateOfflineMsgId,r=j.reply,s=j.s2sInstanceKey;j=j.thread;var t=c("gkx")("23990")?d("MAWExternalId").generateExternalId():void 0,u=null;try{var v;n==null?void 0:n.addMarkerPoint("create_optimistic_message_start","AppTiming");q=(yield (h||(h=b("Promise"))).all([e(j.threadKey),i(r,d("MAWVault").vault(p),j.threadKey,k,(v=s)!=null?v:0,o,(v=q)!=null?v:c("emptyFunction"),t)]));v=q[0];q=q[1];n==null?void 0:n.addMarkerPoint("create_optimistic_message_end","AppTiming");u=q[0];n=q[1];m(u,Date.now());q=f().state.ephemeralSettings[v.jid];q==null&&(q=(yield d("MAWGetEphemeralSettings").getEphemeralSetting(v.jid,j.threadKey)));var w=a(j.threadKey),x=null;if(r!=null){r=d("MAWDbMsg").toMsgId(r.messageId);r!=null&&(x=(yield d("MAWBridgeSendAndReceive").sendAndReceive("backend","getProtocolMsgIdByMsgId",{msgId:r})))}return g(j.threadKey,v.chatId,j.threadType,v.jid,p,w,void 0,u,n,k,v.created,void 0,void 0,x,q,o,s,t)}catch(a){r=a instanceof Error?a.message:"Fail to send secure text message";u!=null&&(yield l(u,r));d("MAWInternalLog").internalLog("useMAWSendSecureTextMessage: send text message failed: "+a);yield d("WALoggerDeferred").logWithTags(["MAWSendSecureMessageV2","Composer","useMAWSendSecureTextMessage"],["Send text message failed:"+JSON.stringify(a)],"ERROR");throw a}});return function(a){return j.apply(this,arguments)}}(),[i,m,f,a,l,e,g])}g["default"]=a}),98);
__d("useMAWSendSecureLinkXMAMessage",["FBLogger","Int64Hooks","MAWExternalId","MAWExternalLinkUtil","MAWSendSecureMessageV2Utils","asyncToGeneratorRuntime","useMAWSendSecureTextMessage","useMWLSDefaultThreadSource"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("useMWLSDefaultThreadSource")(),e=d("MAWSendSecureMessageV2Utils").useMaybeCreateThreadForMAWSendSecurMessageV2(),f=c("useMAWSendSecureTextMessage")();return d("Int64Hooks").useCallbackInt64(function(){var g=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var g=b.mentionedJids,h=b.messageText,i=b.onGenerateOfflineMsgId,j=b.reply,k=b.s2sInstanceKey,l=b.thread;b=b.threadKey;var m=d("MAWExternalLinkUtil").findFirstUrl(h);if(m==null||m.length===0)return f({mentionedJids:g,messageText:h,onGenerateOfflineMsgId:i,reply:j,s2sInstanceKey:k,thread:l});try{g=m[0];j=d("MAWExternalLinkUtil").findFirstAvailableOembedUrlAndRequestPair(m);l=g.entity.url;m=null;if(j!=null){l=j.oEmbedUrl;try{m=(yield d("MAWExternalLinkUtil").getOembedResponse(j.oEmbedRequest))}catch(a){c("FBLogger")("messenger_e2ee_web").mustfix("[External link] Failed to send External Link XMA.")}}g=d("MAWExternalId").generateExternalId();i==null?void 0:i(g);j=a(b);i=(yield e(b));return d("MAWExternalLinkUtil").sendExternalLinkXMA(h,m,l,i.jid,k,j,b,g)}catch(a){c("FBLogger")("messenger_e2ee_web").mustfix("[External link] Failed to send external link XMA ");throw a}});return function(a){return g.apply(this,arguments)}}(),[a,e,f])}g["default"]=a}),98);
__d("useMAWUpdateThreadCapabilities",["LSMessagingThreadTypeUtil","MAWUpdateLSThreadCapabilities","Promise","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||d("react")).useCallback;function a(){var a=(i||(i=c("useReStore")))();return k(function(c){return!d("LSMessagingThreadTypeUtil").isOneToOne(c.threadType)?(h||(h=b("Promise"))).resolve():a.runInTransaction(function(a){return d("MAWUpdateLSThreadCapabilities").updateNonMessageRequestThreadTxn(a,c.threadKey)},"readwrite")},[a])}g["default"]=a}),98);
__d("useMAWSendSecureMessageV2Impl",["FBLogger","I64","Int64Hooks","LSDatabaseSingleton","LSIntEnum","LSMessagingThreadTypeUtil","MAWInternalLog","MAWOptimisticUpdateContactRelationship","MWLSLogSend","MWPActor.react","MWPReplyContext.react","MWPreloadableQueries","MWSharedMsgLogUtils","MWVersion","MessageRequestsLog","Promise","ReQL","WALoggerDeferred","asyncToGeneratorRuntime","qex","react","sendToSentQPLLogger","useLSMessagingInitiatingSource","useMAWSendSecureAttachmentMessage","useMAWSendSecureLinkXMAMessage","useMAWSendSecureTextMessage","useMAWUpdateThreadCapabilities","useMWLSUnarchiveThread"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m=(i||d("react")).useContext;function a(a){var e=d("MWPActor.react").useActor(),f=m(d("MWPReplyContext.react").MWPReplyContext),g=f.clearReply,i=c("useLSMessagingInitiatingSource")(),n=c("useMAWSendSecureTextMessage")(),o=c("useMAWSendSecureLinkXMAMessage")(),p=d("useMAWSendSecureAttachmentMessage").useMAWSendSecureAttachmentMessage_DEPRECATED(),q=d("useMAWSendSecureAttachmentMessage").useMAWSendSecureAttachmentMessageV2(),r=c("useMWLSUnarchiveThread")(),s=c("useMAWUpdateThreadCapabilities")();return d("Int64Hooks").useCallbackInt64(function(){var f=b("asyncToGeneratorRuntime").asyncToGenerator(function*(f){var m=f.externalAttachmentUrl,t=f.hotEmojiSize,u=f.lssTraceApi,v=f.mentionedJids,w=f.messageText,x=f.reply,y=f.s2sInstanceKey,z=y===void 0?0:y;y=f.stickerId;var A=f.thread;f=f.voiceClip;d("MAWInternalLog").internalLog("start to send message from UI");yield d("WALoggerDeferred").logWithTags(["MAWSendSecureMessageV2","Composer"],["Starting message send"],"LOG");d("sendToSentQPLLogger").markSendToSentPoint(z,"send_secure_message_started");u.addMarkerPoint("send_secure_message_started","AppTiming");var B=(yield (j||(j=d("LSDatabaseSingleton"))).LSDatabaseSingleton),C=d("LSMessagingThreadTypeUtil").isMessageRequest(A),D=(k||(k=d("I64"))).equal(A.parentThreadKey,(l||(l=d("LSIntEnum"))).ofNumber(-10)),E=(yield d("ReQL").toArrayAsync(d("MWPreloadableQueries").getMediaStagingQuery(B,A.threadKey))),F=d("MWSharedMsgLogUtils").getMessageTypeParams(w,t,x,y,m,f,E);d("sendToSentQPLLogger").addSendToSentAnnotations(z,yield d("MWSharedMsgLogUtils").getSendToSentAnnotations(A,F,i));d("MWSharedMsgLogUtils").addSendMessageMetadataForInteractionTrace(u,F,A,i);var G=function(a){d("MWLSLogSend").logSentHeroInteraction(u,a,{initiatingSource:i,isMessageRequest:C,mwVersion:d("MWVersion").v2,threadType:A.threadType}),d("sendToSentQPLLogger").markSendToSentPoint(z,"offline_msg_id_generated"),d("MWLSLogSend").setS2sKeyForOfflineMessageId(a,z)},H=[],I=F.hasAttachment,J=F.hasLinks;w!=null&&w!==""&&(J?H.push(o({mentionedJids:v,messageText:w,onGenerateOfflineMsgId:I?void 0:G,reply:x,s2sInstanceKey:z,thread:A,threadKey:A.threadKey})):H.push(n({hotEmojiSize:t,lssTraceApi:u,mentionedJids:v,messageText:w,onGenerateOfflineMsgId:I?void 0:G,reply:x,s2sInstanceKey:z,thread:A})));if(I)if(c("qex")._("460")===!0)H.push(q({externalAttachmentUrl:m,mediaStagings:E,messageTypeParams:F,onGenerateOfflineMsgId:G,reply:x,s2sInstanceKey:z,stickerId:y,thread:A,voiceClip:f}));else{t=d("useMAWSendSecureAttachmentMessage").prepareAttachmentsFromMediaManager_DEPRECATED(E,F,G);H.push(p({externalAttachmentUrl:m,messageTypeParams:F,preparedAttachments:t,reply:x,s2sInstanceKey:z,stickerId:y,thread:A,voiceClip:f}))}a();g(A.threadKey,!1);yield (h||(h=b("Promise"))).all(H)["catch"](function(a){d("sendToSentQPLLogger").markSendToSentFail(z,a);a instanceof Error?c("FBLogger")("messenger_e2ee_web").catching(a).addMetadata("MESSENGER_E2EE_WEB","ERROR_MESSAGE","hasAttachment: "+I.toString()).mustfix("Failed while sending secure message in useMAWSendSecureMessageV2Impl"):c("FBLogger")("messenger_e2ee_web").addMetadata("MESSENGER_E2EE_WEB","ERROR_MESSAGE","hasAttachment: "+I.toString()).mustfix("Failed while sending secure message in useMAWSendSecureMessageV2Impl, %s",a.message);throw a});w!=null&&w!==""&&J&&d("sendToSentQPLLogger").markSendToSentSuccess(z);d("MAWInternalLog").internalLog("send message is done");yield d("WALoggerDeferred").logWithTags(["MAWSendSecureMessageV2","Composer"],["Send message is done"],"LOG");d("MAWOptimisticUpdateContactRelationship").call(A,B,e);yield s(A);C&&d("MessageRequestsLog").logActionConfirmed(A,1);D&&r(A.threadKey)});return function(a){return f.apply(this,arguments)}}(),[e,g,i,a,p,q,o,n,r,s])}g["default"]=a}),98);
__d("useMWCMEditChatInfoDialogEntrypoint",["GroupsCometChatEditChatDialog.entrypoint","I64","MWXCardedDialogLoadingState.react","react","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react");function a(a,b){a=c("useMWXEntryPointDialog")(c("GroupsCometChatEditChatDialog.entrypoint"),{threadID:(i||(i=d("I64"))).to_string(a)},void 0,function(){return j.jsx(c("MWXCardedDialogLoadingState.react"),{})});var e=a[0];return function(){return e({enableEditNameOrDescription:!0,entryPoint:b})}}g["default"]=a}),98);